(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2aca3a93"],{"8fe0":function(e,s,o){"use strict";o("a481");s["a"]={methods:{calcLastReadingColor:function(e){var s="black";return"undefined"!==typeof e.date_diff&&"N/A"!=e.date_diff&&(e.date_diff.h<3&&(s="green"),e.date_diff.h>=3&&e.date_diff.h<6&&(s="orange"),e.date_diff.h>=6&&(s="red"),(e.date_diff.d>0||e.date_diff.days>0)&&(s="red"),(e.date_diff.y>0||e.date_diff.m>0||e.date_diff.d>0||e.date_diff.days>0)&&(s="red")),s},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$store.getters.isAdmin(e)},isDistributor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$store.getters.isDistributor(e)},isRestricted:function(){return this.$store.getters.isRestricted()},userCan:function(e,s){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this.$store.getters.userCan(e,s,o,l)},userLimits:function(e,s){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.$store.getters.userLimits(e,s,o)},convertNodeTypeToGraphRouteName:function(e){return"Soil Moisture"==e?"soil_moisture_graph":"Nutrients"==e?"nutrients_graph":"Wells"==e?"well_controls_graph":"Water Meter"==e?"meters_graph":""},convertNodeTypeToSubsystem:function(e){return"Soil Moisture"==e?"Soil Moisture":"Nutrients"==e?"Nutrients":"Wells"==e?"Well Controls":"Water Meter"==e?"Meters":""},convertToInches:function(e){return e=e.replace("mm",""),e=parseInt(parseInt(e)/25)+'"',e},convertToIndex:function(e){return e=e.replace("mm",""),e=parseInt(parseInt(e)/100),e},truncateString:function(e){return e.length<=24?e:e.substring(0,21)+"..."}}}},bbd3:function(e,s,o){"use strict";o.r(s);var l,n=function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",{staticClass:"content"},[o("base-header",{staticClass:"pb-6",attrs:{type:"sensors"}},[o("b-row",{staticClass:"py-4",attrs:{"align-v":"center"}},[o("b-col",[o("h6",{directives:[{name:"show",rawName:"v-show",value:e.model.device_make,expression:"model.device_make"}],staticClass:"h2 text-white d-inline-block mb-0 mr-5"},[e._v("Sensor Types - "+e._s(e.model.device_make))]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"mab_spinner light right"})])],1)],1),o("div",{staticClass:"container-fluid mt--6"},[o("validation-observer",{ref:"form",attrs:{slim:""}},[o("b-row",[o("b-col",[o("card",{attrs:{"body-classes":"px-0 py-0"}},[o("div",{staticClass:"card-body"},[o("b-row",[o("b-col",{attrs:{md:""}},[o("base-input",{attrs:{label:"Device Type",name:"device type",rules:"required",vid:"device_type"}},[o("el-select",{attrs:{filterable:"",placeholder:"Node Type"},on:{change:function(s){e.model.device_category=""}},model:{value:e.model.device_type,callback:function(s){e.$set(e.model,"device_type",s)},expression:"model.device_type"}},[o("el-option",{attrs:{label:"Soil Moisture",value:"Soil Moisture"}}),o("el-option",{attrs:{label:"Nutrient",value:"Nutrients"}}),o("el-option",{attrs:{label:"Well",value:"Wells"}}),o("el-option",{attrs:{label:"Water Meter",value:"Water Meter"}})],1)],1)],1),o("b-col",{attrs:{md:""}},[o("base-input",{attrs:{label:"Device Category",name:"device category",rules:"required",vid:"device_category"}},[o("el-select",{attrs:{filterable:"",placeholder:"Device Category"},on:{change:e.syncFields},model:{value:e.model.device_category,callback:function(s){e.$set(e.model,"device_category",s)},expression:"model.device_category"}},["Wells"==e.model.device_type||"Water Meter"==e.model.device_type?[o("el-option",{attrs:{label:"Mechanical",value:"Mechanical"}},[e._v("Mechanical")]),o("el-option",{attrs:{label:"MagFlo",value:"MagFlo"}},[e._v("MagFlo")]),o("el-option",{attrs:{label:"Ultrasonic",value:"Ultrasonic"}},[e._v("Ultrasonic")])]:e._e(),"Soil Moisture"==e.model.device_type?[o("el-option",{attrs:{label:"Soil Moisture Probe",value:"Soil Moisture Probe"}})]:e._e(),"Nutrients"==e.model.device_type?[o("el-option",{attrs:{label:"Nutrient Probe",value:"Nutrient Probe"}})]:e._e()],2)],1)],1),o("b-col",{attrs:{md:""}},[o("base-input",{attrs:{label:"Entity",name:"company",rules:"required",vid:"role",disabled:""},model:{value:e.sensor_company_name,callback:function(s){e.sensor_company_name=s},expression:"sensor_company_name"}})],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("base-input",{attrs:{name:"device make",rules:"required",label:"Device Make",placeholder:"Device Make",vid:"device_make"},on:{change:e.syncFields},model:{value:e.model.device_make,callback:function(s){e.$set(e.model,"device_make",s)},expression:"model.device_make"}})],1)],1)],1)])],1)],1),"Soil Moisture"==e.model.device_type?o("b-row",[o("b-col",[o("card",{attrs:{"body-classes":"px-0 py-0"}},[o("template",{slot:"header"},[o("h3",{staticClass:"mb-0"},[e._v(e._s(e.model.device_type)+" Device Configuration")])]),o("div",{staticClass:"card-body"},[o("b-row",[o("b-col",{attrs:{md:""}},[o("base-input",{attrs:{label:"Device Length",name:"device length",rules:"required",vid:"device_length"}},[o("b-form-select",{attrs:{placeholder:"Device Length*"},on:{change:e.syncFields},model:{value:e.model.device_length,callback:function(s){e.$set(e.model,"device_length",s)},expression:"model.device_length"}},[o("b-form-select-option",{attrs:{value:"200mm"}},[e._v(e._s(1==e.uom?"200mm":'8"'))]),o("b-form-select-option",{attrs:{value:"300mm"}},[e._v(e._s(1==e.uom?"300mm":'12"'))]),o("b-form-select-option",{attrs:{value:"400mm"}},[e._v(e._s(1==e.uom?"400mm":'16"'))]),o("b-form-select-option",{attrs:{value:"500mm"}},[e._v(e._s(1==e.uom?"500mm":'20"'))]),o("b-form-select-option",{attrs:{value:"600mm"}},[e._v(e._s(1==e.uom?"600mm":'24"'))]),o("b-form-select-option",{attrs:{value:"700mm"}},[e._v(e._s(1==e.uom?"700mm":'28"'))]),o("b-form-select-option",{attrs:{value:"800mm"}},[e._v(e._s(1==e.uom?"800mm":'32"'))]),o("b-form-select-option",{attrs:{value:"900mm"}},[e._v(e._s(1==e.uom?"900mm":'36"'))]),o("b-form-select-option",{attrs:{value:"1000mm"}},[e._v(e._s(1==e.uom?"1000mm":'40"'))]),o("b-form-select-option",{attrs:{value:"1100mm"}},[e._v(e._s(1==e.uom?"1100mm":'44"'))]),o("b-form-select-option",{attrs:{value:"1200mm"}},[e._v(e._s(1==e.uom?"1200mm":'48"'))]),o("b-form-select-option",{attrs:{value:"1300mm"}},[e._v(e._s(1==e.uom?"1300mm":'52"'))]),o("b-form-select-option",{attrs:{value:"1400mm"}},[e._v(e._s(1==e.uom?"1400mm":'56"'))]),o("b-form-select-option",{attrs:{value:"1500mm"}},[e._v(e._s(1==e.uom?"1500mm":'60"'))])],1)],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:""}},[o("label",{staticClass:"form-control-label"},[e._v("Sensor Depths")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_1,callback:function(s){e.$set(e.model,"sensor_placing_1",s)},expression:"model.sensor_placing_1"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"100mm":'4"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_2,callback:function(s){e.$set(e.model,"sensor_placing_2",s)},expression:"model.sensor_placing_2"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"200mm":'8"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_3,callback:function(s){e.$set(e.model,"sensor_placing_3",s)},expression:"model.sensor_placing_3"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"300mm":'12"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_4,callback:function(s){e.$set(e.model,"sensor_placing_4",s)},expression:"model.sensor_placing_4"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"400mm":'16"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_5,callback:function(s){e.$set(e.model,"sensor_placing_5",s)},expression:"model.sensor_placing_5"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"500mm":'20"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_6,callback:function(s){e.$set(e.model,"sensor_placing_6",s)},expression:"model.sensor_placing_6"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"600mm":'24"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_7,callback:function(s){e.$set(e.model,"sensor_placing_7",s)},expression:"model.sensor_placing_7"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"700mm":'28"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_8,callback:function(s){e.$set(e.model,"sensor_placing_8",s)},expression:"model.sensor_placing_8"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"800mm":'32"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_9,callback:function(s){e.$set(e.model,"sensor_placing_9",s)},expression:"model.sensor_placing_9"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"900mm":'36"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_10,callback:function(s){e.$set(e.model,"sensor_placing_10",s)},expression:"model.sensor_placing_10"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1000mm":'40"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_11,callback:function(s){e.$set(e.model,"sensor_placing_11",s)},expression:"model.sensor_placing_11"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1100mm":'44"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_12,callback:function(s){e.$set(e.model,"sensor_placing_12",s)},expression:"model.sensor_placing_12"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1200mm":'48"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_13,callback:function(s){e.$set(e.model,"sensor_placing_13",s)},expression:"model.sensor_placing_13"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1300mm":'52"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_14,callback:function(s){e.$set(e.model,"sensor_placing_14",s)},expression:"model.sensor_placing_14"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1400mm":'56"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg","unchecked-value":"off",value:"on"},on:{change:e.syncFields},model:{value:e.model.sensor_placing_15,callback:function(s){e.$set(e.model,"sensor_placing_15",s)},expression:"model.sensor_placing_15"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1500mm":'60"')+"\n                  ")])],1)],1)],1)],2)],1)],1):e._e(),"Wells"==e.model.device_type||"Water Meter"==e.model.device_type?o("b-row",[o("b-col",[o("card",{attrs:{"body-classes":"px-0 py-0"}},[o("template",{slot:"header"},[o("h3",{staticClass:"mb-0"},[e._v(e._s(e.model.device_type)+" Device Configuration")])]),o("div",{staticClass:"card-body"},[o("b-row",[o("b-col",{attrs:{md:""}},[o("base-input",{attrs:{label:"Diameter",name:"device diameter",rules:"required|numeric",placeholder:"Device Diameter",vid:"diameter"},on:{change:e.syncFields},model:{value:e.model.diameter,callback:function(s){e.$set(e.model,"diameter",s)},expression:"model.diameter"}})],1),o("b-col",[o("base-input",{attrs:{name:"pulse weight",rules:"required",label:"Pulse Weight",vid:"pulse_weight"}},[o("el-select",{attrs:{filterable:"",placeholder:"Pulse Weight"},on:{change:e.syncFields},model:{value:e.model.pulse_weight,callback:function(s){e.$set(e.model,"pulse_weight",s)},expression:"model.pulse_weight"}},[o("el-option",{attrs:{label:"1",value:"1"}}),o("el-option",{attrs:{label:"10",value:"10"}}),o("el-option",{attrs:{label:"100",value:"100"}}),o("el-option",{attrs:{label:"1000",value:"1000"}})],1)],1)],1)],1),o("b-row",[o("b-col",[o("base-input",{attrs:{name:"measurement_type",rules:"required",label:"Unit of Measure",vid:"measurement_type"}},[o("el-select",{attrs:{filterable:"",placeholder:"Unit Of Measure"},on:{change:e.syncFields},model:{value:e.model.measurement_type,callback:function(s){e.$set(e.model,"measurement_type",s)},expression:"model.measurement_type"}},[o("el-option",{attrs:{label:"Gallons",value:"gallons"}}),o("el-option",{attrs:{label:"Cubes",value:"cubes"}})],1)],1)],1),o("b-col",[o("base-input",{attrs:{name:"application type",rules:"required",label:"Application Type",vid:"application_type"}},[o("el-select",{attrs:{filterable:"",placeholder:"Application Type"},on:{change:e.syncFields},model:{value:e.model.application_type,callback:function(s){e.$set(e.model,"application_type",s)},expression:"model.application_type"}},[o("el-option",{attrs:{label:"GPM",value:"gpm"}}),o("el-option",{attrs:{label:"GPH",value:"gph"}}),o("el-option",{attrs:{label:"Acre Inches",value:"acre_inches"}}),o("el-option",{attrs:{label:"Acre Feet",value:"acre_feet"}})],1)],1)],1)],1)],1)],2)],1)],1):e._e()],1),o("validation-observer",{ref:"nutform",attrs:{slim:""}},[o("b-row",["Nutrients"==e.model.device_type?o("b-col",[o("card",{attrs:{"body-classes":"px-0 py-0"}},[o("template",{slot:"header"},[o("h3",{staticClass:"mb-0"},[e._v(e._s(e.model.device_type)+" Device Configuration")])]),o("div",{staticClass:"card-body"},[o("b-row",[o("b-col",{attrs:{md:""}},[o("base-input",{attrs:{label:"Device Length",name:"device length",rules:"required",vid:"device_length"}},[o("b-form-select",{attrs:{placeholder:"Device Length*"},on:{change:e.syncFields},model:{value:e.model.device_length,callback:function(s){e.$set(e.model,"device_length",s)},expression:"model.device_length"}},[o("b-form-select-option",{attrs:{value:"200mm"}},[e._v(e._s(1==e.uom?"200mm":'8"'))]),o("b-form-select-option",{attrs:{value:"300mm"}},[e._v(e._s(1==e.uom?"300mm":'12"'))]),o("b-form-select-option",{attrs:{value:"400mm"}},[e._v(e._s(1==e.uom?"400mm":'16"'))]),o("b-form-select-option",{attrs:{value:"500mm"}},[e._v(e._s(1==e.uom?"500mm":'20"'))]),o("b-form-select-option",{attrs:{value:"600mm"}},[e._v(e._s(1==e.uom?"600mm":'24"'))]),o("b-form-select-option",{attrs:{value:"700mm"}},[e._v(e._s(1==e.uom?"700mm":'28"'))]),o("b-form-select-option",{attrs:{value:"800mm"}},[e._v(e._s(1==e.uom?"800mm":'32"'))]),o("b-form-select-option",{attrs:{value:"900mm"}},[e._v(e._s(1==e.uom?"900mm":'36"'))]),o("b-form-select-option",{attrs:{value:"1000mm"}},[e._v(e._s(1==e.uom?"1000mm":'40"'))]),o("b-form-select-option",{attrs:{value:"1100mm"}},[e._v(e._s(1==e.uom?"1100mm":'44"'))]),o("b-form-select-option",{attrs:{value:"1200mm"}},[e._v(e._s(1==e.uom?"1200mm":'48"'))]),o("b-form-select-option",{attrs:{value:"1300mm"}},[e._v(e._s(1==e.uom?"1300mm":'52"'))]),o("b-form-select-option",{attrs:{value:"1400mm"}},[e._v(e._s(1==e.uom?"1400mm":'56"'))]),o("b-form-select-option",{attrs:{value:"1500mm"}},[e._v(e._s(1==e.uom?"1500mm":'60"'))])],1)],1)],1)],1),o("b-row",[o("b-col",{attrs:{md:"4"}},[o("label",{staticClass:"form-control-label"},[e._v("Sensor Depths")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_1,callback:function(s){e.$set(e.model,"sensor_placing_1",s)},expression:"model.sensor_placing_1"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"100mm":'4"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_2,callback:function(s){e.$set(e.model,"sensor_placing_2",s)},expression:"model.sensor_placing_2"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"200mm":'8"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_3,callback:function(s){e.$set(e.model,"sensor_placing_3",s)},expression:"model.sensor_placing_3"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"300mm":'12"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_4,callback:function(s){e.$set(e.model,"sensor_placing_4",s)},expression:"model.sensor_placing_4"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"400mm":'16"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_5,callback:function(s){e.$set(e.model,"sensor_placing_5",s)},expression:"model.sensor_placing_5"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"500mm":'20"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_6,callback:function(s){e.$set(e.model,"sensor_placing_6",s)},expression:"model.sensor_placing_6"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"600mm":'24"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_7,callback:function(s){e.$set(e.model,"sensor_placing_7",s)},expression:"model.sensor_placing_7"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"700mm":'28"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_8,callback:function(s){e.$set(e.model,"sensor_placing_8",s)},expression:"model.sensor_placing_8"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"800mm":'32"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_9,callback:function(s){e.$set(e.model,"sensor_placing_9",s)},expression:"model.sensor_placing_9"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"900mm":'36"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_10,callback:function(s){e.$set(e.model,"sensor_placing_10",s)},expression:"model.sensor_placing_10"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1000mm":'40"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_11,callback:function(s){e.$set(e.model,"sensor_placing_11",s)},expression:"model.sensor_placing_11"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1100mm":'44"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_12,callback:function(s){e.$set(e.model,"sensor_placing_12",s)},expression:"model.sensor_placing_12"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1200mm":'48"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_13,callback:function(s){e.$set(e.model,"sensor_placing_13",s)},expression:"model.sensor_placing_13"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1300mm":'52"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_14,callback:function(s){e.$set(e.model,"sensor_placing_14",s)},expression:"model.sensor_placing_14"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1400mm":'56"')+"\n                  ")]),o("b-form-checkbox",{attrs:{size:"lg",disabled:"","unchecked-value":"off",value:"on"},model:{value:e.model.sensor_placing_15,callback:function(s){e.$set(e.model,"sensor_placing_15",s)},expression:"model.sensor_placing_15"}},[e._v("\n                    Sensor at "+e._s(1==e.uom?"1500mm":'60"')+"\n                  ")])],1),o("b-col",{attrs:{md:"8"}},[o("label",{staticClass:"form-control-label"},[e._v("Sensor Config")]),o("b-table-simple",{staticClass:"mab_table",attrs:{small:""}},[o("b-tbody",e._l(e.model.sensor_config,(function(s,l){return o("b-tr",{key:l},[o("b-td",{staticClass:"mab_table_cell"},[o("base-input",{attrs:{name:"sdi_addr",rules:"required",vid:"address"}},[o("el-select",{attrs:{filterable:"",placeholder:"SDI Addr.",autocomplete:"off",size:"small"},on:{change:e.syncFields},model:{value:s.address,callback:function(o){e.$set(s,"address",o)},expression:"config.address"}},e._l(e.sensor_addresses,(function(s,l){return o("el-option",{key:l,attrs:{label:l,value:s}},[e._v(e._s(l))])})),1)],1)],1),o("b-td",{staticClass:"mab_table_cell"},[o("base-input",{attrs:{name:"depth",rules:"required",vid:"depth"}},[o("el-select",{attrs:{filterable:"",placeholder:"Depth",size:"small"},on:{change:e.syncDepths},model:{value:s.depth,callback:function(o){e.$set(s,"depth",o)},expression:"config.depth"}},e._l(e.sensor_depths,(function(s,l){return o("el-option",{key:"e"+l,attrs:{label:1==e.uom?s:e.convertToInches(s),value:s}},[e._v("\n                                "+e._s(1==e.uom?s:e.convertToInches(s))+"\n                              ")])})),1)],1)],1),o("b-td",{staticClass:"mab_table_cell"},[o("base-input",{attrs:{name:"type",rules:"required",vid:"type"}},[o("el-select",{attrs:{filterable:"",placeholder:"Type",size:"small"},on:{change:e.syncFields},model:{value:s.type,callback:function(o){e.$set(s,"type",o)},expression:"config.type"}},e._l(e.sensor_types,(function(e,s){return o("el-option",{key:s,attrs:{label:e,value:e}})})),1)],1)],1),o("b-td",{staticClass:"mab_table_cell"},[o("base-input",[o("base-button",{staticClass:"btn",attrs:{type:"primary",size:"sm",icon:""},on:{click:function(s){return e.removeSensorConfigRow(l)}}},[e._v("\n                              Rem\n                            ")])],1)],1)],1)})),1)],1),o("validation-observer",{ref:"nutaddform",attrs:{slim:""},scopedSlots:e._u([{key:"default",fn:function(s){var l=s.validate;return[o("b-table-simple",{staticClass:"mab_table",attrs:{small:""}},[o("b-tbody",[o("b-tr",[o("b-td",{staticClass:"mab_table_cell"},[o("base-input",{attrs:{name:"sdi_addr",rules:"required",vid:"address"}},[o("el-select",{attrs:{filterable:"",placeholder:"SDI Addr.",autocomplete:"off",size:"small"},model:{value:e.sensor_model.address,callback:function(s){e.$set(e.sensor_model,"address",s)},expression:"sensor_model.address"}},e._l(e.sensor_addresses,(function(s,l){return o("el-option",{key:l,attrs:{label:l,value:s}},[e._v(e._s(l))])})),1)],1)],1),o("b-td",{staticClass:"mab_table_cell"},[o("base-input",{attrs:{name:"depth",rules:"required",vid:"depth"}},[o("el-select",{attrs:{filterable:"",placeholder:"Depth",size:"small"},model:{value:e.sensor_model.depth,callback:function(s){e.$set(e.sensor_model,"depth",s)},expression:"sensor_model.depth"}},e._l(e.sensor_depths,(function(s,l){return o("el-option",{key:"a"+l,attrs:{label:1==e.uom?s:e.convertToInches(s),value:s}},[e._v("\n                                  "+e._s(1==e.uom?s:e.convertToInches(s))+"\n                                ")])})),1)],1)],1),o("b-td",{staticClass:"mab_table_cell"},[o("base-input",{attrs:{name:"type",rules:"required",vid:"type"}},[o("el-select",{attrs:{filterable:"",placeholder:"Type",size:"small"},model:{value:e.sensor_model.type,callback:function(s){e.$set(e.sensor_model,"type",s)},expression:"sensor_model.type"}},e._l(e.sensor_types,(function(e,s){return o("el-option",{key:s,attrs:{label:e,value:e}})})),1)],1)],1),o("b-td",{staticClass:"mab_table_cell"},[o("base-input",[o("base-button",{staticClass:"btn",attrs:{type:"primary",size:"sm",icon:""},on:{click:function(s){return e.addSensorConfigRow(l)}}},[e._v("\n                                Add \n                              ")])],1)],1)],1)],1)],1)]}}],null,!1,100133692)})],1)],1)],1)],2)],1):e._e()],1)],1)],1)],1)},a=[],t=(o("ac6a"),o("a481"),o("6b54"),o("bd86")),r=(o("6611"),o("450d"),o("e772")),i=o.n(r),c=(o("7f7f"),o("1f1a"),o("4e4b")),m=o.n(c),d=o("8fe0"),_={mixins:[d["a"]],components:(l={},Object(t["a"])(l,m.a.name,m.a),Object(t["a"])(l,i.a.name,i.a),l),data:function(){return{loading:!1,model:{id:"",device_type:"",device_make:"",device_length:"",device_category:"",diameter:"",sensor_placing_1:"off",sensor_placing_2:"off",sensor_placing_3:"off",sensor_placing_4:"off",sensor_placing_5:"off",sensor_placing_6:"off",sensor_placing_7:"off",sensor_placing_8:"off",sensor_placing_9:"off",sensor_placing_10:"off",sensor_placing_11:"off",sensor_placing_12:"off",sensor_placing_13:"off",sensor_placing_14:"off",sensor_placing_15:"off",sensor_config:[],company_id:null},sensor_model:{address:"",depth:"",type:""},sensor_addresses:{"M0.1":"M0_1","M1.1":"M1_1","M2.1":"M2_1","M3.1":"M3_1","M4.1":"M4_1","M5.1":"M5_1","M6.1":"M6_1","M7.1":"M7_1","M8.1":"M8_1","M9.1":"M9_1","M0.2":"M0_2","M1.2":"M1_2","M2.2":"M2_2","M3.2":"M3_2","M4.2":"M4_2","M5.2":"M5_2","M6.2":"M6_2","M7.2":"M7_2","M8.2":"M8_2","M9.2":"M9_2","M0.3":"M0_3","M1.3":"M1_3","M2.3":"M2_3","M3.3":"M3_3","M4.3":"M4_3","M5.3":"M5_3","M6.3":"M6_3","M7.3":"M7_3","M8.3":"M8_3","M9.3":"M9_3","M0.4":"M0_4","M1.4":"M1_4","M2.4":"M2_4","M3.4":"M3_4","M4.4":"M4_4","M5.4":"M5_4","M6.4":"M6_4","M7.4":"M7_4","M8.4":"M8_4","M9.4":"M9_4"},sensor_depths:["100mm","200mm","300mm","400mm","500mm","600mm","700mm","800mm","900mm","1000mm","1100mm","1200mm","1300mm","1400mm","1500mm"],sensor_types:["Soil Moisture","Temperature","E.C","NO3","Nutrient 2","Nutrient 3","Nutrient 4"],companies:[],uom:this.$store.getters.getUOM,prevDepth:null,sensor_company_name:""}},methods:{loadHardware:function(){var e=this;this.loading=!0,this.$axios.get(this.$store.state.baseUrl+"/api/hardwaremanagementform/"+this.$route.params.id).then((function(s){e.loading=!1,e.model=s.data.hardware,e.loadCompanies()}))},loadCompanies:function(){var e=this;this.$axios.post(this.$store.state.baseUrl+"/api/companies_list",{context:[{verb:"Edit",module:"Sensor Types"}]}).then((function(s){e.companies=s.data.companies,e.sensor_company_name=e.companies['"'+e.model.company_id.toString()+'"'].company_name}))},addSensorConfigRow:function(e){var s=this;e().then((function(e){if(e){null===s.model.sensor_config&&(s.model.sensor_config=[]),s.model.sensor_config.push(JSON.parse(JSON.stringify(s.sensor_model)));var o=parseInt(parseInt(s.sensor_model.depth.replace(/mm/g,""))/100);s.model["sensor_placing_"+o]=!0,s.sensor_model.address="",s.sensor_model.depth="",s.sensor_model.type="",s.$refs["nutaddform"].reset(),console.log(s.model.sensor_config),s.syncDepths()}}))},removeSensorConfigRow:function(e){this.model.sensor_config.splice(e,1),this.syncDepths()},syncDepths:function(){for(var e=this,s=1;s<=15;s++)this.model["sensor_placing_"+s]="off";this.model.sensor_config.forEach((function(s,o){var l=e.convertToIndex(s.depth);e.model["sensor_placing_"+l]="on"})),this.syncFields()},syncFields:function(){var e=this;return this.$refs.form.validate().then((function(s){if(s)return e.loading=!0,e.$axios.post(e.$store.state.baseUrl+"/api/hardwaremanagementsave",e.model).then((function(s){e.loading=!1,"sensor_updated"==s.data.message&&e.$notify({title:"Saved",message:"Changes were saved",type:"success",verticalAlign:"top",horizontalAlign:"right"})})).catch((function(s){return e.loading=!1,s.response.data.errors&&e.$refs.form.setErrors(s.response.data.errors),s}));e.$notify({title:"Required",message:"Please fill in all fields",type:"danger",verticalAlign:"top",horizontalAlign:"right",duration:1e3,clean:!0})}))}},mounted:function(){this.loadHardware()}},u=_,p=o("2877"),v=Object(p["a"])(u,n,a,!1,null,null,null);s["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2aca3a93.7d208537.js.map