{"version":3,"sources":["webpack:///./src/views/Pages/UserManagementTable.vue?c60c","webpack:///src/views/Pages/UserManagementTable.vue","webpack:///./src/views/Pages/UserManagementTable.vue?7769","webpack:///./src/views/Pages/UserManagementTable.vue","webpack:///./src/views/Pages/UserManagementTable.vue?1629","webpack:///./src/util/mab-utils.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","value","expression","scopedSlots","_u","key","fn","ref","close","slot","hide","model","callback","$$v","$set","on","runPrechecks","timeZones","_l","item","_key","_lab","_e","modifiers","Object","keys","companies","length","companyChanged","company","id","company_name","company_id","roles","role","role_name","groups","group","group_name","isAdmin","isDistributor","is_distributor","dist_list","_s","toString","ok","cancel","$event","closeAddUserModal","addUser","showNewUserModal","userCan","loading","nativeOn","showAddUserModal","loadUsers","perPage","entities","filterEntity","e","filterText","tableColumns","tableData","bInitialQuery","sortingChanged","data","unit_of_measure","handleShow","index","handleEdit","$store","state","user_obj","handleDelete","proxy","Math","min","currentPage","totalRows","staticRenderFns","mixins","components","label","sortable","tdClass","thClass","sortBy","sortDir","subsystems","email","mobile","address","timezone","password","password_confirmation","role_id","group_id","managed_company_ids","canAction","methods","$axios","post","cur_page","per_page","initial","filter","entity","sort_by","sort_dir","then","loadCompanies","context","verb","module","loadDistributors","loadRoles","loadGroups","loadTimezones","get","row","$router","push","swal","title","text","type","showCancelButton","confirmButtonText","buttonsStyling","customClass","cancelButton","confirmButton","result","deleteUser","indexToDelete","message","verticalAlign","horizontalAlign","$refs","add_user_form","validate","success","catch","email_address","clearModel","_keys","i","sortDesc","watch","mounted","component","calcLastReadingColor","obj","color","date_diff","h","d","days","y","m","getters","isRestricted","permission","subsystem","object_id","object_type","userLimits","convertNodeTypeToGraphRouteName","convertNodeTypeToSubsystem","convertToInches","val","replace","parseInt","convertToIndex","truncateString","str","substring"],"mappings":"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","file":"js/chunk-7234f0d2.eafcc226.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"users\"}},[_c('b-row',{staticClass:\"py-4\",attrs:{\"align-v\":\"center\"}},[_c('b-col',[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0 mr-5\"},[_vm._v(\"User Management\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mab_spinner light right\"})])],1)],1),_c('b-container',{staticClass:\"mt--6\",attrs:{\"fluid\":\"\"}},[_c('b-modal',{attrs:{\"body-class\":\"add_user_modal\",\"centered\":\"\",\"no-close-on-esc\":\"\",\"no-close-on-backdrop\":\"\"},scopedSlots:_vm._u([{key:\"modal-header\",fn:function(ref){\nvar close = ref.close;\nreturn [_c('h6',{staticClass:\"modal-title\",attrs:{\"slot\":\"header\",\"id\":\"modal-title-default\"},slot:\"header\"},[_vm._v(\"Add New User\")])]}},{key:\"default\",fn:function(ref){\nvar hide = ref.hide;\nreturn [_c('validation-observer',{ref:\"add_user_form\",attrs:{\"slim\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"placeholder\":\"Full Name\",\"name\":\"name\",\"rules\":\"required\",\"vid\":\"name\"},model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"placeholder\":\"Email Address\",\"name\":\"email\",\"rules\":\"required\",\"vid\":\"email\"},on:{\"blur\":_vm.runPrechecks},model:{value:(_vm.model.email),callback:function ($$v) {_vm.$set(_vm.model, \"email\", $$v)},expression:\"model.email\"}})],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"placeholder\":\"Mobile\",\"name\":\"mobile\",\"vid\":\"mobile\"},model:{value:(_vm.model.mobile),callback:function ($$v) {_vm.$set(_vm.model, \"mobile\", $$v)},expression:\"model.mobile\"}})],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"placeholder\":\"Physical Address\",\"autocomplete\":\"nope\",\"name\":\"address\",\"vid\":\"address\"},model:{value:(_vm.model.address),callback:function ($$v) {_vm.$set(_vm.model, \"address\", $$v)},expression:\"model.address\"}})],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"name\":\"u.o.m\",\"rules\":\"required\",\"vid\":\"unit_of_measure\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Unit of Measure\"},model:{value:(_vm.model.unit_of_measure),callback:function ($$v) {_vm.$set(_vm.model, \"unit_of_measure\", $$v)},expression:\"model.unit_of_measure\"}},[_c('el-option',{attrs:{\"label\":\"Metric\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"Imperial\",\"value\":2}})],1)],1)],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"name\":\"timezone\",\"rules\":\"required\",\"vid\":\"timezone\",\"autocomplete\":\"nope\"}},[(_vm.timeZones.length)?_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Timezone\",\"autocomplete\":\"nope\"},model:{value:(_vm.model.timezone),callback:function ($$v) {_vm.$set(_vm.model, \"timezone\", $$v)},expression:\"model.timezone\"}},_vm._l((_vm.timeZones),function(item){return _c('el-option',{key:item._key,attrs:{\"label\":item._lab,\"value\":item._key}})}),1):_vm._e()],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"name\":\"password\",\"autocomplete\":\"new-password\",\"rules\":\"required|confirmed:password_confirmation\",\"type\":\"password\",\"placeholder\":\"Password\",\"vid\":\"password\"},model:{value:(_vm.model.password),callback:function ($$v) {_vm.$set(_vm.model, \"password\", $$v)},expression:\"model.password\"}})],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"name\":\"confirmation\",\"autocomplete\":\"new-password\",\"rules\":\"required\",\"type\":\"password\",\"placeholder\":\"Confirm Password\",\"vid\":\"password_confirmation\"},model:{value:(_vm.model.password_confirmation),callback:function ($$v) {_vm.$set(_vm.model, \"password_confirmation\", $$v)},expression:\"model.password_confirmation\"}})],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],attrs:{\"name\":\"cc\",\"rules\":\"required\",\"vid\":\"company\",\"autocomplete\":\"off\",\"title\":\"The user's owning entity.\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Entity\",\"disabled\":Object.keys(_vm.companies).length < 2,\"autocomplete\":\"off\"},on:{\"change\":_vm.companyChanged},model:{value:(_vm.model.company_id),callback:function ($$v) {_vm.$set(_vm.model, \"company_id\", $$v)},expression:\"model.company_id\"}},_vm._l((_vm.companies),function(company){return _c('el-option',{key:company.id,attrs:{\"label\":company.company_name,\"value\":company.id}})}),1)],1)],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],attrs:{\"name\":\"role\",\"rules\":\"required\",\"vid\":\"role\",\"title\":\"A user's role determines their level of access to various modules.\",\"disabled\":!_vm.model.company_id || Object.keys(_vm.roles).length < 2}},[(_vm.roles && _vm.model.company_id)?_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Role\",\"disabled\":!_vm.model.company_id},model:{value:(_vm.model.role_id),callback:function ($$v) {_vm.$set(_vm.model, \"role_id\", $$v)},expression:\"model.role_id\"}},_vm._l((_vm.roles),function(role){return _c('el-option',{key:role.id,attrs:{\"label\":role.role_name,\"value\":role.id}})}),1):_vm._e()],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],attrs:{\"name\":\"group\",\"vid\":\"group\",\"placeholder\":\"Group (Optional)\",\"title\":\"Optionally add this user to a security group.\",\"disabled\":!_vm.model.company_id || !_vm.groups}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Group (Optional)\",\"disabled\":!_vm.model.company_id || !_vm.groups},model:{value:(_vm.model.group_id),callback:function ($$v) {_vm.$set(_vm.model, \"group_id\", $$v)},expression:\"model.group_id\"}},[_vm._v(\"'+model.company_id.toString()+'\\\"'].company_name + ' User Groups'\\\">\\n                    \"),_vm._l((_vm.groups),function(group){return _c('el-option',{key:group.id,attrs:{\"label\":group.group_name,\"value\":group.id}})})],2)],1)],1)],1),(_vm.model.company_id && (_vm.isAdmin() || _vm.isDistributor()))?_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"name\":\"is_distributor\",\"vid\":\"is_distributor\"}},[_c('b-form-checkbox',{attrs:{\"size\":\"lg\",\"unchecked-value\":\"0\",\"value\":\"1\"},model:{value:(_vm.model.is_distributor),callback:function ($$v) {_vm.$set(_vm.model, \"is_distributor\", $$v)},expression:\"model.is_distributor\"}},[_vm._v(\"Distributor\")])],1)],1)],1):_vm._e(),(_vm.model.company_id && (_vm.isAdmin() || _vm.isDistributor()) && _vm.model.is_distributor == '1')?_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[(_vm.dist_list && Object.keys(_vm.dist_list).length)?[_c('base-input',{attrs:{\"label\":\"Managed Entities\",\"name\":\"managed_companies\",\"vid\":\"managed_companies\"}},[_c('el-select',{attrs:{\"disabled\":!_vm.model.is_distributor,\"value-key\":\"id\",\"multiple\":\"\",\"filterable\":\"\",\"placeholder\":\"Choose\"},model:{value:(_vm.model.managed_company_ids),callback:function ($$v) {_vm.$set(_vm.model, \"managed_company_ids\", $$v)},expression:\"model.managed_company_ids\"}},_vm._l((_vm.dist_list),function(company){return _c('el-option',{key:company.id,attrs:{\"label\":company.company_name,\"value\":company.id}})}),1)],1)]:[_c('b-alert',{attrs:{\"variant\":\"primary\",\"show\":\"\"}},[_c('strong',[_vm._v(_vm._s(_vm.companies['\"'+_vm.model.company_id.toString()+'\"'].company_name))]),_vm._v(\" currently has no manageable subsidiary entities available to pre-assign to this distributor user.\")])]],2)],1):_vm._e()],1)]}},{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nvar cancel = ref.cancel;\nvar hide = ref.hide;\nreturn [_c('base-button',{staticClass:\"ml-auto\",attrs:{\"type\":\"outline-primary\"},on:{\"click\":function($event){return _vm.closeAddUserModal()}}},[_vm._v(\"Cancel\")]),_c('base-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addUser()}}},[_vm._v(\"Add\")])]}}]),model:{value:(_vm.showNewUserModal),callback:function ($$v) {_vm.showNewUserModal=$$v},expression:\"showNewUserModal\"}}),_c('card',{staticClass:\"no-border-card\",attrs:{\"body-classes\":\"px-0 pb-1\",\"footer-classes\":\"pb-2\"}},[_c('template',{slot:\"header\"},[_c('base-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"btn\",attrs:{\"disabled\":!_vm.userCan('Add','Users') || _vm.loading,\"size\":\"sm\",\"type\":\"primary\",\"title\":\"Add a new user account to an existing entity and role.\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.showAddUserModal()}}},[_vm._v(\"\\n          Add User\\n        \")])],1),_c('b-row',{staticClass:\"nomargin\"},[_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-form-select',{on:{\"change\":_vm.loadUsers},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('b-form-select-option',{attrs:{\"value\":5}},[_vm._v(\"5\")]),_c('b-form-select-option',{attrs:{\"value\":10}},[_vm._v(\"10\")]),_c('b-form-select-option',{attrs:{\"value\":25,\"selected\":\"\"}},[_vm._v(\"25\")]),_c('b-form-select-option',{attrs:{\"value\":50}},[_vm._v(\"50\")])],1)],1),_c('b-col',{attrs:{\"md\":\"\"}},[(_vm.entities && _vm.entities.length && _vm.entities.length > 1)?_c('el-select',{staticClass:\"fullwidth\",attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"Filter by Entity..\"},on:{\"change\":_vm.loadUsers},model:{value:(_vm.filterEntity),callback:function ($$v) {_vm.filterEntity=$$v},expression:\"filterEntity\"}},_vm._l((_vm.entities),function(e){return _c('el-option',{key:e.id,attrs:{\"value\":e.id,\"label\":e.company_name}})}),1):_vm._e()],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"prepend-icon\":\"fas fa-search\"}},[_c('b-input',{attrs:{\"debounce\":1000,\"placeholder\":\"Search...\"},on:{\"update\":_vm.loadUsers},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}})],1)],1)],1),_c('b-row',{staticClass:\"nomargin\"},[_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-table',{attrs:{\"striped\":\"\",\"bordered\":\"\",\"outlined\":\"\",\"small\":\"\",\"stacked\":\"lg\",\"responsive\":\"\",\"show-empty\":\"\",\"primary-key\":\"node_address\",\"no-local-sorting\":\"\",\"fields\":_vm.tableColumns,\"items\":_vm.tableData,\"busy\":_vm.bInitialQuery},on:{\"sort-changed\":_vm.sortingChanged,\"update:busy\":function($event){_vm.bInitialQuery=$event}},scopedSlots:_vm._u([{key:\"cell(unit_of_measure)\",fn:function(data){return [_vm._v(\"\\n              \"+_vm._s(data.item.unit_of_measure == 1 ? 'Metric' : 'Imperial')+\"\\n            \")]}},{key:\"cell()\",fn:function(data){return [_vm._v(\"\\n              \"+_vm._s(data.value)+\"\\n            \")]}},(_vm.userCan('Lock', 'Users'))?{key:\"cell(is_active)\",fn:function(data){return [_c('b-icon',{attrs:{\"variant\":\"success\",\"data.value\":\"\",\"icon\":data.value ? 'check-circle' : 'circle',\"aria-hidden\":\"true\"}})]}}:null,(_vm.isAdmin())?{key:\"cell(is_admin)\",fn:function(data){return [_c('b-icon',{attrs:{\"variant\":\"success\",\"data.value\":\"\",\"icon\":data.value ? 'check-circle' : 'circle',\"aria-hidden\":\"true\"}})]}}:null,(_vm.isAdmin() || _vm.isDistributor())?{key:\"cell(is_distributor)\",fn:function(data){return [_c('b-icon',{attrs:{\"variant\":\"success\",\"data.value\":\"\",\"icon\":data.value ? 'check-circle' : 'circle',\"aria-hidden\":\"true\"}})]}}:null,(_vm.canAction)?{key:\"cell(actions)\",fn:function(data){return [_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('b-button',{staticClass:\"btn\",attrs:{\"disabled\":!_vm.userCan('View','Users', data.item.id, 'O'),\"size\":\"sm\",\"variant\":\"outline-primary\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.handleShow(data.index, data.item)}}},[_vm._v(\"\\n                Show\\n                \")]),_c('b-button',{staticClass:\"btn\",attrs:{\"disabled\":!_vm.userCan('Edit','Users', data.item.id, 'O'),\"size\":\"sm\",\"variant\":\"outline-primary\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.handleEdit(data.index, data.item)}}},[_vm._v(\"\\n                Configure\\n                \")]),_c('b-button',{staticClass:\"btn\",attrs:{\"disabled\":_vm.userCan('Delete','Users', data.item.id, 'O') ? \n                    ((_vm.$store.state.user_obj && _vm.$store.state.user_obj.id != data.item.id) ? false : true ) : true,\"size\":\"sm\",\"variant\":\"outline-primary\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.handleDelete(data.index, data.item)}}},[_vm._v(\"\\n                Remove\\n                \")])],1)]}}:null,{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center\"},[_c('div',{staticClass:\"mab_spinner\"})])]},proxy:true},{key:\"emptyfiltered\",fn:function(){return [_c('div',{staticClass:\"text-center\"},[_vm._v(\"\\n                No matches found\\n              \")])]},proxy:true},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"text-center\"},[_vm._v(\"\\n                No entries found\\n              \")])]},proxy:true}],null,true)})],1)],1),_c('div',{staticClass:\"align-right\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_vm._v(\"\\n            Showing \"+_vm._s(Math.min(1 + (_vm.perPage * (_vm.currentPage-1)), _vm.totalRows))+\" to \"+_vm._s(Math.min((_vm.perPage*(_vm.currentPage-1)) + _vm.perPage, _vm.totalRows))+\" of \"+_vm._s(_vm.totalRows)+\" entries\\n          \")]),_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-pagination',{attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"right\"},on:{\"input\":_vm.loadUsers},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\">\n    <base-header class=\"pb-6\" type=\"users\">\n      <b-row align-v=\"center\" class=\"py-4\">\n        <b-col>\n          <h6 class=\"h2 text-white d-inline-block mb-0 mr-5\">User Management</h6>\n          <div v-show='loading' class='mab_spinner light right'></div>\n        </b-col>\n      </b-row>\n    </base-header>\n    <b-container fluid class=\"mt--6\">\n\n      <!-- Add New User Dialog -->\n      <b-modal v-model=\"showNewUserModal\" body-class=\"add_user_modal\" centered no-close-on-esc no-close-on-backdrop>\n\n        <template #modal-header=\"{ close }\">\n          <h6 slot=\"header\" class=\"modal-title\" id=\"modal-title-default\">Add New User</h6>\n        </template>\n\n        <template #default=\"{ hide }\">\n          <validation-observer ref='add_user_form' slim>\n\n            <b-row>\n              <b-col md>\n                <base-input\n                  placeholder=\"Full Name\"\n                  name=\"name\"\n                  rules=\"required\"\n                  vid=\"name\"\n                  v-model=\"model.name\">\n                </base-input>\n              </b-col>\n              <b-col md>\n                <base-input\n                  @blur=\"runPrechecks\"\n                  placeholder=\"Email Address\"\n                  name=\"email\"\n                  rules=\"required\"\n                  vid=\"email\"\n                  v-model=\"model.email\">\n                </base-input>\n              </b-col>\n            </b-row>\n\n            <b-row>\n              <b-col md>\n                <base-input placeholder=\"Mobile\" name=\"mobile\" vid=\"mobile\" v-model=\"model.mobile\"></base-input>\n              </b-col>\n              <b-col md>\n                <base-input placeholder=\"Physical Address\" autocomplete=\"nope\" name=\"address\" vid=\"address\" v-model=\"model.address\"></base-input>\n              </b-col>\n            </b-row>\n\n            <b-row>\n              <b-col md>\n                <base-input name=\"u.o.m\" rules=\"required\" vid=\"unit_of_measure\">\n                  <el-select v-model=\"model.unit_of_measure\" filterable placeholder=\"Unit of Measure\">\n                    <el-option label=\"Metric\" :value=\"1\"></el-option>\n                    <el-option label=\"Imperial\" :value=\"2\"></el-option>\n                  </el-select>\n                </base-input>\n              </b-col>\n              <b-col md>\n                <base-input name=\"timezone\" rules=\"required\" vid=\"timezone\" autocomplete=\"nope\">\n                  <el-select\n                    v-if=\"timeZones.length\"\n                    v-model=\"model.timezone\"\n                    filterable\n                    placeholder=\"Timezone\"\n                    autocomplete=\"nope\">\n                    <el-option \n                      v-for=\"item in timeZones\"\n                      :key=\"item._key\"\n                      :label=\"item._lab\"\n                      :value=\"item._key\">\n                    </el-option>\n                  </el-select>\n                </base-input>\n              </b-col>\n            </b-row>\n\n            <b-row>\n              <b-col md>\n                <base-input name=\"password\" autocomplete=\"new-password\" rules=\"required|confirmed:password_confirmation\" type=\"password\" placeholder=\"Password\" vid=\"password\" v-model=\"model.password\">\n                </base-input>\n              </b-col>\n              <b-col md>\n                <base-input name=\"confirmation\" autocomplete=\"new-password\" rules=\"required\" type=\"password\" placeholder=\"Confirm Password\" vid=\"password_confirmation\" v-model=\"model.password_confirmation\">\n                </base-input>\n              </b-col>\n            </b-row>\n\n            <b-row>\n              <b-col md>\n                <base-input\n                  name=\"cc\"\n                  rules=\"required\"\n                  vid=\"company\"\n                  autocomplete=\"off\"\n                  v-b-tooltip.hover.top title=\"The user's owning entity.\">\n                  <el-select @change=\"companyChanged\" v-model=\"model.company_id\" filterable placeholder=\"Entity\" :disabled=\"Object.keys(companies).length < 2\" autocomplete=\"off\">\n                    <el-option v-for=\"company in companies\" :key=\"company.id\" :label=\"company.company_name\" :value=\"company.id\"></el-option>\n                  </el-select>\n                </base-input>\n              </b-col>\n              <b-col md>\n                <base-input \n                  name=\"role\"\n                  rules=\"required\"\n                  vid=\"role\"\n                  v-b-tooltip.hover.top title=\"A user's role determines their level of access to various modules.\"\n                  :disabled=\"!model.company_id || Object.keys(roles).length < 2\">\n                  <el-select v-if=\"roles && model.company_id\" v-model=\"model.role_id\" filterable placeholder=\"Role\" :disabled=\"!model.company_id\">\n                    <el-option v-for=\"role in roles\" :key=\"role.id\" :label=\"role.role_name\" :value=\"role.id\"></el-option>\n                  </el-select>\n                </base-input>\n              </b-col>\n            </b-row>\n\n            <b-row>\n              <b-col md>\n                <base-input\n                  name=\"group\"\n                  vid=\"group\"\n                  placeholder=\"Group (Optional)\"\n                  v-b-tooltip.hover.top title=\"Optionally add this user to a security group.\"\n                  :disabled=\"!model.company_id || !groups\">\n                  <el-select\n                    v-model=\"model.group_id\"\n                    filterable\n                    placeholder=\"Group (Optional)\"\n                    :disabled=\"!model.company_id || !groups\">\n                    <el-option-group v-if=\"model.company_id && groups\" :label=\"companies['\"'+model.company_id.toString()+'\"'].company_name + ' User Groups'\">\n                      <el-option v-for=\"group in groups\" :key=\"group.id\" :label=\"group.group_name\" :value=\"group.id\"></el-option>\n                    </el-option-group>\n                  </el-select>\n                </base-input>\n              </b-col>\n            </b-row>\n\n            <b-row v-if=\"model.company_id && (isAdmin() || isDistributor())\">\n              <b-col md>\n                <base-input name=\"is_distributor\" vid=\"is_distributor\">\n                  <b-form-checkbox size=\"lg\" v-model=\"model.is_distributor\" unchecked-value=\"0\" value=\"1\">Distributor</b-form-checkbox>\n                </base-input>\n              </b-col>\n            </b-row>\n\n            <b-row v-if=\"model.company_id && (isAdmin() || isDistributor()) && model.is_distributor == '1'\">\n              <b-col md>\n                <template v-if=\"dist_list && Object.keys(dist_list).length\">\n                  <base-input label=\"Managed Entities\" name=\"managed_companies\" vid=\"managed_companies\">\n                    <el-select\n                    :disabled=\"!model.is_distributor\"\n                    v-model=\"model.managed_company_ids\"\n                    value-key=\"id\"\n                    multiple\n                    filterable\n                    placeholder=\"Choose\">\n                      <el-option v-for=\"company in dist_list\"\n                        :key=\"company.id\"\n                        :label=\"company.company_name\"\n                        :value=\"company.id\">\n                      </el-option>\n                    </el-select>\n                  </base-input>\n                </template>\n                <template v-else>\n                  <b-alert variant=\"primary\" show><strong>{{ companies['\"'+model.company_id.toString()+'\"'].company_name }}</strong> currently has no manageable subsidiary entities available to pre-assign to this distributor user.</b-alert>\n                </template>\n              </b-col>\n            </b-row>\n\n          </validation-observer>\n        </template>\n\n        <template #modal-footer=\"{ ok, cancel, hide }\">\n            <base-button type=\"outline-primary\" class=\"ml-auto\" @click=\"closeAddUserModal()\">Cancel</base-button>\n            <base-button type=\"primary\" @click='addUser()'>Add</base-button>\n        </template>\n      </b-modal>\n\n      <!-- Users Table -->\n\n      <card class=\"no-border-card\" body-classes=\"px-0 pb-1\" footer-classes=\"pb-2\">\n        \n        <template slot=\"header\">\n\n          <base-button \n            :disabled=\"!userCan('Add','Users') || loading\"\n            @click.native=\"showAddUserModal()\"\n            class=\"btn\"\n            size=\"sm\"\n            type=\"primary\"\n            v-b-tooltip.hover.top title=\"Add a new user account to an existing entity and role.\"\n            icon>\n            Add User\n          </base-button>\n\n        </template>\n        \n        <b-row class='nomargin'>\n          <b-col md>\n            <b-form-select v-model=\"perPage\" @change=\"loadUsers\">\n              <b-form-select-option :value=\"5\">5</b-form-select-option>\n              <b-form-select-option :value=\"10\">10</b-form-select-option>\n              <b-form-select-option :value=\"25\" selected>25</b-form-select-option>\n              <b-form-select-option :value=\"50\">50</b-form-select-option>\n            </b-form-select>\n          </b-col>\n          <b-col md>\n            <el-select v-if=\"entities && entities.length && entities.length > 1\"\n              class=\"fullwidth\"\n              clearable\n              filterable\n              placeholder=\"Filter by Entity..\"\n              v-model=\"filterEntity\"\n              @change=\"loadUsers\">\n              <el-option v-for=\"e in entities\" :value=\"e.id\" :label=\"e.company_name\" :key=\"e.id\"></el-option>\n            </el-select>\n          </b-col>\n          <b-col md> \n            <base-input prepend-icon=\"fas fa-search\">\n              <b-input v-model=\"filterText\"\n                :debounce=\"1000\"\n                @update=\"loadUsers\"\n                placeholder=\"Search...\">\n              </b-input>\n            </base-input>\n          </b-col>\n        </b-row>\n\n        <b-row class='nomargin'>\n          <b-col md>\n            <b-table\n              striped\n              bordered\n              outlined\n              small\n              stacked=\"lg\"\n              responsive\n              show-empty\n              primary-key=\"node_address\"\n              no-local-sorting\n              @sort-changed=\"sortingChanged\"\n              :fields=\"tableColumns\"\n              :items=\"tableData\"\n              :busy.sync=\"bInitialQuery\">\n\n              <template #cell(unit_of_measure)=\"data\">\n                {{ data.item.unit_of_measure == 1 ? 'Metric' : 'Imperial' }}\n              </template>\n\n              <template #cell()=\"data\">\n                {{ data.value }}\n              </template>\n\n              <template #cell(is_active)=\"data\" v-if=\"userCan('Lock', 'Users')\">\n                <b-icon variant=\"success\" data.value :icon=\"data.value ? 'check-circle' : 'circle'\" aria-hidden=\"true\"></b-icon>\n              </template>\n\n              <template #cell(is_admin)=\"data\" v-if=\"isAdmin()\">\n                <b-icon variant=\"success\" data.value :icon=\"data.value ? 'check-circle' : 'circle'\" aria-hidden=\"true\"></b-icon>\n              </template>\n\n              <template #cell(is_distributor)=\"data\" v-if=\"isAdmin() || isDistributor()\">\n                <b-icon variant=\"success\" data.value :icon=\"data.value ? 'check-circle' : 'circle'\" aria-hidden=\"true\"></b-icon>\n              </template>\n\n              <template #cell(actions)=\"data\" v-if=\"canAction\">\n                  \n                <div class=\"d-flex justify-content-center\">\n                  <b-button\n                    :disabled=\"!userCan('View','Users', data.item.id, 'O')\"\n                    @click=\"handleShow(data.index, data.item)\"\n                    class=\"btn\"\n                    size=\"sm\"\n                    variant=\"outline-primary\"\n                    icon>\n                  Show\n                  </b-button>\n                  <b-button\n                    :disabled=\"!userCan('Edit','Users', data.item.id, 'O')\"\n                    @click=\"handleEdit(data.index, data.item)\"\n                    class=\"btn\"\n                    size=\"sm\"\n                    variant=\"outline-primary\"\n                    icon>\n                  Configure\n                  </b-button>\n                  <!-- Users cannot delete themselves while logged in -->\n                  <b-button\n                    :disabled=\"userCan('Delete','Users', data.item.id, 'O') ? \n                      (($store.state.user_obj && $store.state.user_obj.id != data.item.id) ? false : true ) : true\"\n                    @click=\"handleDelete(data.index, data.item)\"\n                    class=\"btn\"\n                    size=\"sm\"\n                    variant=\"outline-primary\"\n                    icon>\n                  Remove\n                  </b-button>\n                </div>\n\n              </template>\n\n              <template #table-busy>\n                <div class=\"text-center\">\n                  <div class='mab_spinner'></div>\n                </div>\n              </template>\n\n              <template #emptyfiltered>\n                <div class=\"text-center\">\n                  No matches found\n                </div>\n              </template>\n\n              <template #empty>\n                <div class=\"text-center\">\n                  No entries found\n                </div>\n              </template>\n\n            </b-table>\n\n          </b-col>\n        </b-row>\n\n        <div slot=\"footer\" class='align-right'>\n          <b-row>\n            <b-col md>\n              Showing {{ Math.min(1 + (perPage * (currentPage-1)), totalRows) }} to {{ Math.min((perPage*(currentPage-1)) + perPage, totalRows)  }} of {{ totalRows }} entries\n            </b-col>\n            <b-col md>\n              <b-pagination @input=\"loadUsers\" v-model=\"currentPage\" :total-rows=\"totalRows\" :per-page=\"perPage\" align=\"right\"></b-pagination>\n            </b-col>\n          </b-row>\n        </div>\n\n      </card>\n\n    </b-container>\n  </div>\n</template>\n<script>\nimport { Select, Option } from 'element-ui';\nimport { parse } from 'date-fns';\nimport swal from 'sweetalert2';\nimport mab_utils from '../../util/mab-utils';\n\nexport default {\n\n  mixins: [ mab_utils ],\n\n  components: {\n    [Select.name]: Select,\n    [Option.name]: Option\n  },\n\n  data() {\n    return {\n      \n      loading: false,\n      bInitialQuery: true,\n\n      tableColumns: [\n        {\n          key: 'name',\n          label: 'Name',\n          sortable: true,\n          tdClass: 'valign'\n        },\n        {\n          key: 'email',\n          label: 'Email',\n          sortable: true,\n          tdClass: 'valign'\n        },\n        {\n          key: 'role_name',\n          label: 'Role',\n          sortable: true,\n          tdClass: 'valign'\n        },\n        {\n          key: 'unit_of_measure',\n          label: 'Unit of Measure',\n          sortable: true,\n          tdClass: 'valign'\n        },\n        {\n          key: 'timezone',\n          label: 'Timezone',\n          sortable: true,\n          tdClass: 'valign'\n        },\n        {\n          key: 'is_active',\n          label: 'Active',\n          sortable: true,\n          thClass: 'valign halign',\n          tdClass: 'valign halign'\n        }\n      ],\n\n      tableData: [],\n      totalRows: 1,\n      currentPage: 1,\n      perPage: 25,\n      filterText: '',\n      filterEntity: '',\n      entities: [],\n      sortBy: 'name',\n      sortDir: 'asc',\n\n      showNewUserModal: false,\n\n      timeZones: [],\n      roles: [],\n      \n      companies: [],\n      dist_list: [],\n\n      subsystems: [],\n      groups: [],\n\n      model: {\n        name: '',\n        email: '',\n        mobile: '',\n        address: '',\n        unit_of_measure: '',\n        timezone: '',\n        role: '', /* Transitional, remove later on */\n        password: '',\n        password_confirmation: '',\n        is_distributor: 0,\n        role_id: null,\n        company_id: this.$store.state.user_obj.company_id,\n        group_id: null,\n        managed_company_ids: []\n      },\n\n      canAction: false\n    };\n  },\n  methods: {\n    \n    loadUsers()\n    {\n      this.loading = true;\n\n      this.$axios.post(\"/api/users\", {\n        cur_page: this.currentPage,\n        per_page: this.perPage,\n        initial:  this.bInitialQuery,\n        filter:   this.filterText,\n        entity:   this.filterEntity,\n        sort_by:  this.sortBy,\n        sort_dir: this.sortDir ? 'desc' : 'asc'\n      }).then((resp) => {\n\n        if(this.bInitialQuery){\n          this.companyChanged();\n        }\n\n        this.loading = false;\n        this.bInitialQuery = false;\n\n        if(this.isAdmin() || this.userLimits('View', 'Users', 'C').length > 1){\n          this.tableColumns.unshift({\n            key: 'company_name',\n            label: 'Entity',\n            sortable: true,\n            tdClass: 'valign'\n          });\n        }\n\n        if(this.isAdmin()){\n          this.tableColumns.push({\n            key: 'is_admin',\n            label: 'Admin',\n            sortable: true,\n            thClass: 'valign halign',\n            tdClass: 'valign halign'\n          });\n        }\n\n        if(this.isAdmin() || this.isDistributor()){\n          this.tableColumns.push({\n            key: 'is_distributor',\n            label: 'Distributor',\n            sortable: true,\n            thClass: 'valign halign',\n            tdClass: 'valign halign'\n          });\n        }\n\n        if(this.isAdmin() || this.userCan('Edit', 'Users') || this.userCan('Delete', 'Users')){\n          this.canAction = true;\n          this.tableColumns.push({\n            key: 'actions',\n            label: 'Actions',\n            thClass: 'halign'\n          });\n        }\n\n        this.tableData = resp.data.users;\n        this.totalRows = resp.data.total;\n        this.entities  = resp.data.entities;\n\n        if(this.totalRows == 0){ this.currentPage = 1; }\n\n      });\n    },\n\n    loadCompanies()\n    {\n      this.$axios.post(\"/api/companies_list\", {\n        context: [ { verb: 'Add', module: 'Users' } ]\n      }).then((resp) => {\n        this.companies = resp.data.companies;\n      });\n    },\n\n    loadDistributors()\n    {\n      this.$axios.post('/api/companies_dist_list', {\n        /* New user's company_id (Defaults to current Admin/Distributor's company_id (SAME)) */\n        company_id: this.model.company_id\n      }).then((resp) => {\n        if(resp.data){\n          this.dist_list = resp.data.companies;\n        }\n      });\n    },\n\n    loadRoles()\n    {\n      this.$axios.post(\"/api/roles_by_cc\", {\n        company_id: this.model.company_id ? this.model.company_id : this.$store.state.user_obj.company_id\n      }).then((response) => {\n          this.roles = response.data.roles;\n      });\n    },\n\n    loadGroups()\n    {\n      this.$axios.post(\"/api/groups_list\", {\n        company_id: this.model.company_id ? this.model.company_id : this.$store.state.user_obj.company_id,\n        context: [ { verb: 'Add', module: 'Users' } ]\n      })\n      .then((resp) => {\n        this.groups = resp.data.groups;\n        this.subsystems = resp.data.subsystems;\n      });\n    },\n\n    companyChanged()\n    {\n      this.model.role_id = null;\n      this.model.group_id = null;\n      this.loadRoles();\n      this.loadGroups();\n      if(this.isAdmin() || this.isDistributor()){\n        this.loadDistributors();\n      }\n    },\n\n    loadTimezones()\n    {\n      this.$axios.get(\"/api/getTimezones\")\n      .then((response) => {\n        if(response.data){\n          let _timezones = JSON.parse(JSON.stringify(response.data.timezones));\n          let _offsets = JSON.parse(JSON.stringify(response.data.offsets));\n          if(_timezones && _timezones.length){\n            for(var i = 0; i < _timezones.length; i++){\n              this.timeZones.push({\n                _key: i.toString(), \n                _lab: _timezones[i] + ' (' + _offsets[_timezones[i]] + ')'\n              });\n            }\n          }\n        }\n      });\n    },\n\n    handleShow(index, row)\n    {\n      this.$router.push('/users_manage/show/' + row.email)\n    },\n\n    handleEdit(index, row)\n    {\n      this.$router.push('/users_manage/edit/' + row.email)\n    },\n\n    handleDelete(index, row)\n    {\n      swal.fire({\n        title: 'Are you sure?',\n        text: `Please confirm user removal`,\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Remove',\n        buttonsStyling: false,\n        customClass: {\n          cancelButton: 'btn btn-outline-primary',\n          confirmButton: 'btn btn-primary'\n        }\n      }).then(result => {\n        if (result.value) {\n          this.deleteUser(row);\n        }\n      });\n    },\n\n    deleteUser(row)\n    {\n      this.loading = true;\n      this.$axios.post(\"/api/userdestroy\", { id: row.id })\n      .then((response) => {\n        this.loading = false;\n\n        if(response.data.message == 'user_removed'){\n          let indexToDelete = this.tableData.findIndex(\n            tableRow => tableRow.id === row.id\n          );\n          if (indexToDelete >= 0) {\n            this.tableData.splice(indexToDelete, 1);\n          }\n          this.$notify({\n            title: 'Status',\n            message: 'User Deleted',\n            type: 'success',\n            verticalAlign: 'top',\n            horizontalAlign: 'right'\n          });\n        }\n      });\n    },\n\n    addUser()\n    {\n      this.$refs.add_user_form.validate().then(success => {\n        if (!success) { return; }\n        this.loading = true;\n        this.$axios.post(\"/api/usernew\", this.model)\n        .then((response) => {\n          this.loading = false;\n          if(response.data.message == 'user_added'){\n            this.loadUsers();\n            this.closeAddUserModal();\n            this.$notify({\n              title: 'Success',\n              message: 'New user added',\n              type: 'success',\n              verticalAlign: 'top',\n              horizontalAlign: 'right'\n            });\n          }\n        }).catch(err => {\n          this.loading = false;\n          if(err.response.data.errors){\n            this.$refs.add_user_form.setErrors(err.response.data.errors);\n          }\n        });\n      });\n    },\n\n    runPrechecks(e)\n    {\n      if(this.model.email && this.model.email != ''){\n        let email_address = e.target.value;\n        this.$axios.get(\"/api/userexists/\" + email_address)\n        .then((resp) => {\n          if(resp.data && resp.data.user_exists){\n            this.model.email = '';\n            this.$notify({\n              title: 'Error',\n              message: 'User (' + email_address + ') already exists',\n              type: 'danger',\n              verticalAlign: 'top',\n              horizontalAlign: 'right'\n            });\n          }\n        });\n      }\n    },\n\n    showAddUserModal()\n    {\n      if(this.isAdmin() || this.isDistributor()){\n        this.loadDistributors();\n      }\n      this.showNewUserModal = true;\n    },\n\n    closeAddUserModal()\n    {\n      this.clearModel();\n      this.showNewUserModal = false;\n    },\n\n    clearModel()\n    {\n      let _keys = Object.keys(this.model);\n      for(var i = 0; i < _keys.length; i++){\n        this.model[_keys[i]] = '';\n      }\n      this.model.company_id = this.$store.state.user_obj.company_id;\n    },\n\n    sortingChanged(e)\n    {\n      this.sortBy  = e.sortBy;\n      this.sortDir = e.sortDesc;\n      this.loadUsers();\n    }\n  },\n\n  // filter change reset page\n  watch: { filterText: function(n,o) { this.currentPage = n != o ? 1 : this.currentPage } },\n\n  mounted()\n  {\n    this.loadTimezones();\n    this.loadUsers();\n    this.loadCompanies();\n  }\n};\n</script>\n<style>\n  .no-border-card .card-footer{\n    border-top: 0;\n  }\n\n  .add_user_modal p {\n    font-size:0.9rem;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManagementTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManagementTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserManagementTable.vue?vue&type=template&id=dc318afe&\"\nimport script from \"./UserManagementTable.vue?vue&type=script&lang=js&\"\nexport * from \"./UserManagementTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserManagementTable.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManagementTable.vue?vue&type=style&index=0&lang=css&\"","export default {\n  methods: {\n    \n    // Calculate Node's Last Reading Date Color\n    calcLastReadingColor(obj)\n    {\n      let color = 'black';\n      if(typeof obj.date_diff !== \"undefined\" && obj.date_diff != 'N/A'){\n        if(obj.date_diff.h < 3){ color = 'green'; }\n        if(obj.date_diff.h >= 3 && obj.date_diff.h < 6){ color = 'orange'; }\n        if(obj.date_diff.h >= 6){ color = 'red'; }\n        if(obj.date_diff.d > 0 || obj.date_diff.days > 0){ color = 'red'; }\n        if(obj.date_diff.y > 0 || obj.date_diff.m > 0 || obj.date_diff.d > 0 || obj.date_diff.days > 0){ color = 'red'; }\n      }\n      return color;\n    },\n\n    isAdmin(email = '')\n    {\n      return this.$store.getters.isAdmin(email);\n    },\n\n    isDistributor(email = '')\n    {\n      return this.$store.getters.isDistributor(email);\n    },\n\n    isRestricted()\n    {\n      return this.$store.getters.isRestricted();\n    },\n\n    userCan(permission, subsystem, object_id = null, object_type = '')\n    {\n      return this.$store.getters.userCan(permission, subsystem, object_id, object_type);\n    },\n\n    userLimits(permission, subsystem, object_type = ''){\n      return this.$store.getters.userLimits(permission, subsystem, object_type);\n    },\n\n    convertNodeTypeToGraphRouteName(type){\n      if(type == 'Soil Moisture'){\n        return 'soil_moisture_graph';\n      } else if(type == 'Nutrients'){\n        return 'nutrients_graph';\n      } else if(type == 'Wells'){\n        return 'well_controls_graph';\n      } else if(type == 'Water Meter'){\n        return 'meters_graph';\n      } else {\n        return '';\n      }\n    },\n\n    convertNodeTypeToSubsystem(type){\n      if(type == 'Soil Moisture'){\n        return 'Soil Moisture';\n      } else if(type == 'Nutrients'){\n        return 'Nutrients';\n      } else if(type == 'Wells'){\n        return 'Well Controls';\n      } else if(type == 'Water Meter'){\n        return 'Meters';\n      } else {\n        return '';\n      }\n    },\n\n    /* To be used exclusively with Sensor Dropdowns / Checkbox Lists */\n    convertToInches(val){\n      val = val.replace('mm','');\n      val = parseInt(parseInt(val) / 25) + '\"';\n      return val;\n    },\n\n    /* \" */\n    convertToIndex(val){\n      val = val.replace('mm','');\n      val = parseInt(parseInt(val) / 100);\n      return val;\n    },\n\n    truncateString(str){\n      return str.length <= 24 ? str: (str.substring(0, 21) + '...');\n    }\n\n  }\n}\n"],"sourceRoot":""}