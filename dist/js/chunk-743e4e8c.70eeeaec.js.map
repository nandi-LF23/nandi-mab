{"version":3,"sources":["webpack:///./src/views/Pages/SoilMoistureForm.vue?0b49","webpack:///src/views/Pages/SoilMoistureForm.vue","webpack:///./src/views/Pages/SoilMoistureForm.vue?913c","webpack:///./src/views/Pages/SoilMoistureForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","directives","name","rawName","value","expression","_v","_s","field_name","slot","modifiers","node_id","userCan","loading","nativeOn","$event","goToGraph","cm_id","goToManageCultivars","apply","arguments","$route","params","node_address","date_time","power_state","status","ref","required","regex","on","syncFields","model","callback","$$v","$set","scopedSlots","_u","key","fn","focus","blur","flatPickrConfig","staticRenderFns","mixins","components","flatPicker","data","initial","date_now","full","refill","graph_type","graph_start_date","email","role","field_id","computed","maxDate","methods","loadSoilMoistures","$axios","get","$store","state","baseUrl","then","setTimeout","$refs","form","validate","success","title","message","type","verticalAlign","horizontalAlign","catch","duration","clean","$router","push","created","component"],"mappings":"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","file":"js/chunk-743e4e8c.70eeeaec.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"soilmoisture\"}},[_c('b-row',{staticClass:\"py-4\",attrs:{\"align-v\":\"center\"}},[_c('b-col',[_c('h6',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.field_name),expression:\"field_name\"}],staticClass:\"h2 text-white d-inline-block mb-0 mr-5\"},[_vm._v(\"Soil Moisture - \"+_vm._s(_vm.field_name))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mab_spinner light right\"})])],1)],1),_c('div',{staticClass:\"container-fluid mt--6\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('card',{attrs:{\"body-classes\":\"px-0 py-0\"}},[_c('template',{slot:\"header\"},[_c('b-row',[_c('b-col',[_c('base-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"btn\",attrs:{\"disabled\":!_vm.node_id || !_vm.userCan('Graph', 'Soil Moisture', _vm.node_id, 'O') || _vm.loading,\"type\":\"primary\",\"size\":\"sm\",\"title\":\"Navigate to node's graphing screen.\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.goToGraph()}}},[_vm._v(\"\\n                  Graph\\n                \")]),_c('base-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"btn\",attrs:{\"disabled\":!_vm.cm_id || !_vm.userCan('View', 'Cultivars', _vm.cm_id, 'O') || _vm.loading,\"type\":\"primary\",\"size\":\"sm\",\"title\":\"Manage the node's associated cultivar growth stages\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.goToManageCultivars.apply(null, arguments)}}},[_vm._v(\"\\n                  Manage Cultivar\\n                \")])],1)],1)],1),_c('div',{staticClass:\"card-body\"},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-toast',{attrs:{\"visible\":true,\"title\":\"Node Address\",\"static\":\"\",\"no-auto-hide\":\"\",\"no-close-button\":\"\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.$route.params.node_address)+\"\\n                \")])],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-toast',{attrs:{\"visible\":true,\"title\":\"Last Reading\",\"static\":\"\",\"no-auto-hide\":\"\",\"no-close-button\":\"\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.date_time)+\"\\n                \")])],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-toast',{attrs:{\"visible\":true,\"title\":\"Power State\",\"static\":\"\",\"no-auto-hide\":\"\",\"no-close-button\":\"\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.power_state)+\"\\n                \")])],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-toast',{attrs:{\"visible\":true,\"title\":\"Status\",\"static\":\"\",\"no-auto-hide\":\"\",\"no-close-button\":\"\"}},[_vm._v(\"\\n                  \"+_vm._s(_vm.status)+\"\\n                \")])],1)],1)],1)],2)],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('validation-observer',{ref:\"form\",attrs:{\"slim\":\"\"}},[_c('card',{attrs:{\"body-classes\":\"px-0 py-0\"}},[_c('template',{slot:\"header\"},[_c('h3',{staticClass:\"mb-0\"},[_vm._v(\"Field Configuration\")])]),_c('div',{staticClass:\"card-body\"},[_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"name\":\"full\",\"rules\":{ required:true, regex:/^-?\\d+(\\.\\d{1,2})?$/ },\"label\":\"Full\",\"placeholder\":\"Full\",\"vid\":\"full\"},on:{\"change\":_vm.syncFields},model:{value:(_vm.model.full),callback:function ($$v) {_vm.$set(_vm.model, \"full\", $$v)},expression:\"model.full\"}})],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"name\":\"refill\",\"rules\":{ required:true, regex:/^-?\\d+(\\.\\d{1,2})?$/ },\"label\":\"Refill\",\"placeholder\":\"Refill\",\"vid\":\"refill\"},on:{\"change\":_vm.syncFields},model:{value:(_vm.model.refill),callback:function ($$v) {_vm.$set(_vm.model, \"refill\", $$v)},expression:\"model.refill\"}})],1)],1)],1)],2),_c('card',{attrs:{\"body-classes\":\"px-0 py-0\"}},[_c('template',{slot:\"header\"},[_c('h3',{staticClass:\"mb-0\"},[_vm._v(\"Graph Configuration\")])]),_c('div',{staticClass:\"card-body\"},[_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"label\":\"Graph Type\",\"name\":\"graph type\",\"rules\":\"required\",\"vid\":\"graph_type\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"Graph Type\"},on:{\"change\":_vm.syncFields},model:{value:(_vm.model.graph_type),callback:function ($$v) {_vm.$set(_vm.model, \"graph_type\", $$v)},expression:\"model.graph_type\"}},[_c('el-option',{attrs:{\"label\":\"Seperate Levels\",\"value\":\"sm\",\"selected\":\"\"}}),_c('el-option',{attrs:{\"label\":\"Sum\",\"value\":\"sum\"}}),_c('el-option',{attrs:{\"label\":\"Average\",\"value\":\"ave\"}}),_c('el-option',{attrs:{\"label\":\"Temperature\",\"value\":\"temp\"}})],1)],1)],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"label\":\"Graph Start Date\",\"name\":\"start date\",\"vid\":\"graph_start_date\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar focus = ref.focus;\nvar blur = ref.blur;\nreturn _c('flat-picker',{staticClass:\"form-control datepicker\",attrs:{\"placeholder\":\"Graph Start Date\",\"config\":_vm.flatPickrConfig},on:{\"on-open\":focus,\"on-close\":blur,\"on-change\":_vm.syncFields},model:{value:(_vm.model.graph_start_date),callback:function ($$v) {_vm.$set(_vm.model, \"graph_start_date\", $$v)},expression:\"model.graph_start_date\"}})}}])})],1)],1)],1)],2)],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\">\n    <base-header class=\"pb-6\" type=\"soilmoisture\">\n      <b-row align-v=\"center\" class=\"py-4\">\n        <b-col>\n          <h6 class=\"h2 text-white d-inline-block mb-0 mr-5\" v-show='field_name'>Soil Moisture - {{ field_name }}</h6>\n          <div v-show='loading' class='mab_spinner light right'></div>\n        </b-col>\n      </b-row>\n    </base-header>\n\n    <div class='container-fluid mt--6'>\n\n      <div class='row'>\n        <div class='col-md-12'>\n          <card body-classes=\"px-0 py-0\">\n\n            <template slot=\"header\">\n              <b-row>\n                <b-col>\n                  <base-button \n                    :disabled=\"!node_id || !userCan('Graph', 'Soil Moisture', node_id, 'O') || loading\"\n                    @click.native=\"goToGraph()\"\n                    class=\"btn\"\n                    type=\"primary\"\n                    size=\"sm\"\n                    v-b-tooltip.hover.top title=\"Navigate to node's graphing screen.\"\n                    icon>\n                    Graph\n                  </base-button>\n                  <base-button \n                    :disabled=\"!cm_id || !userCan('View', 'Cultivars', cm_id, 'O') || loading\"\n                    @click.native=\"goToManageCultivars\"\n                    class=\"btn\"\n                    type=\"primary\"\n                    size=\"sm\"\n                    v-b-tooltip.hover.top title=\"Manage the node's associated cultivar growth stages\"\n                    icon>\n                    Manage Cultivar\n                  </base-button>\n                </b-col>\n              </b-row>\n            </template>\n\n            <div class=\"card-body\">\n              <b-row>\n                <b-col md>\n                  <b-toast :visible=\"true\" title=\"Node Address\" static no-auto-hide no-close-button>\n                    {{ $route.params.node_address }}\n                  </b-toast>\n                </b-col>\n\n                <b-col md>\n                  <b-toast :visible=\"true\" title=\"Last Reading\" static no-auto-hide no-close-button>\n                    {{ date_time }}\n                  </b-toast>\n                </b-col>\n\n                <b-col md>\n                  <b-toast :visible=\"true\" title=\"Power State\" static no-auto-hide no-close-button>\n                    {{ power_state }}\n                  </b-toast>\n                </b-col>\n\n                <b-col md>\n                  <b-toast :visible=\"true\" title=\"Status\" static no-auto-hide no-close-button>\n                    {{ status }}\n                  </b-toast>\n                </b-col>\n              </b-row>\n            </div>\n          </card>\n        </div>\n      </div>\n\n      <div class='row'>\n        <div class='col-md-12'>\n          <validation-observer ref='form' slim>\n            <card body-classes=\"px-0 py-0\">\n              <template slot=\"header\">\n                <h3 class=\"mb-0\">Field Configuration</h3>\n              </template>\n              <div class=\"card-body\">\n                <b-row align-v=\"center\">\n                  <b-col md>\n                    <base-input @change=\"syncFields\" name=\"full\" :rules=\"{ required:true, regex:/^-?\\d+(\\.\\d{1,2})?$/ }\" label='Full' placeholder=\"Full\" vid=\"full\" v-model=\"model.full\"></base-input>\n                  </b-col>\n                  <b-col md>\n                    <base-input @change=\"syncFields\" name=\"refill\" :rules=\"{ required:true, regex:/^-?\\d+(\\.\\d{1,2})?$/ }\" label='Refill' placeholder=\"Refill\" vid=\"refill\" v-model=\"model.refill\"></base-input>\n                  </b-col>\n                </b-row>\n                \n                <!-- <b-row align-v=\"center\">\n                  <b-col md>\n                    <base-input @change=\"syncFields\" name=\"ni\" :rules=\"{ required:true, regex:/^-?\\d+(\\.\\d{1,2})?$/ }\" label='NI' placeholder=\"NI\" vid=\"ni\" v-model=\"model.ni\"></base-input>\n                  </b-col>\n                  <b-col md>\n                    <base-input @change=\"syncFields\" name=\"nr\" :rules=\"{ required:true, regex:/^-?\\d+(\\.\\d{1,2})?$/ }\" label='NR' placeholder=\"NR\" vid=\"nr\" v-model=\"model.nr\"></base-input>\n                  </b-col>\n                </b-row> -->\n              </div>\n            </card>\n            <card body-classes=\"px-0 py-0\">\n              <template slot=\"header\">\n                <h3 class=\"mb-0\">Graph Configuration</h3>\n              </template>\n              <div class=\"card-body\">\n                <b-row align-v=\"center\">\n                  <b-col md>\n                    <base-input label=\"Graph Type\" name=\"graph type\" rules=\"required\" vid=\"graph_type\">\n                      <el-select @change=\"syncFields\" v-model=\"model.graph_type\" filterable placeholder=\"Graph Type\">\n                        <el-option label=\"Seperate Levels\" value='sm' selected></el-option>\n                        <el-option label=\"Sum\" value='sum'></el-option>\n                        <el-option label=\"Average\" value='ave'></el-option>\n                        <el-option label=\"Temperature\" value='temp'></el-option>\n                      </el-select>\n                    </base-input>\n                  </b-col>\n                  <b-col md>\n                    <base-input label=\"Graph Start Date\" name=\"start date\" vid=\"graph_start_date\">\n                      <flat-picker slot-scope=\"{focus, blur}\"\n                        @on-open=\"focus\"\n                        @on-close=\"blur\"\n                        @on-change=\"syncFields\"\n                        placeholder=\"Graph Start Date\"\n                        class=\"form-control datepicker\"\n                        v-model=\"model.graph_start_date\" :config=\"flatPickrConfig\">\n                      </flat-picker>\n                    </base-input>\n                  </b-col>\n                </b-row>\n              </div>\n            </card>\n          </validation-observer>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable no-new */\nimport { Select, Option } from 'element-ui'\nimport flatPicker from \"vue-flatpickr-component\";\nimport \"flatpickr/dist/flatpickr.css\";\nimport mab_utils from '../../util/mab-utils';\n\nexport default {\n\n  mixins: [ mab_utils ],\n\n  components: {\n    [Select.name]: Select,\n    [Option.name]: Option,\n    flatPicker\n  },\n  \n  data() {\n    return {\n      initial: true,\n      loading: false,\n      date_now: '',\n      model: {\n        node_id: '', /* wrongly named in db (Should have been node_address) */\n        full: '',\n        refill: '',\n        // ni: '',\n        // nr: '',\n        graph_type: '',\n        graph_start_date: ''\n      },\n      email: this.$store.state.email,\n      role: this.$store.state.role,\n      date_time: '',\n      status: '',\n      cm_id: '',\n      field_id: '',\n      field_name: '',\n      power_state: ''\n    }\n  },\n\n  computed: {\n    flatPickrConfig: function() {\n      return { maxDate: this.date_now }\n    }\n  },\n\n  methods: {\n\n    loadSoilMoistures()\n    {\n      this.loading = true;\n      this.$axios.get(this.$store.state.baseUrl+\"/api/ManageSM/\" + this.$route.params.node_address)\n      .then((resp) => {\n        \n        this.loading = false;\n        let data = resp.data;\n        \n        if(data){\n\n          if(data.fields){\n            this.model.node_id = data.fields.node_id; /* node_address */\n            this.model.full = data.fields.full;\n            this.model.refill = data.fields.refill;\n            // this.model.ni = data.fields.ni;\n            // this.model.nr = data.fields.nr;\n\n            this.status = data.fields.status + '%';\n            this.date_time = data.fields.date_time;\n            this.cm_id = data.cm_id;\n            this.field_id = data.fields.id;\n            this.field_name = data.fields.field_name;\n\n            this.node_id = data.node_id; /* actual PK value of node */\n\n            if(this.initial){\n              this.model.graph_type = data.fields.graph_type;\n              this.model.graph_start_date = data.fields.graph_start_date;\n            }\n\n            // nasty fix for a nasty datepicker\n            setTimeout(() => { this.initial = false; }, 1000);\n          }\n\n          this.power_state = data.power_state;\n          this.date_now = resp.data.date_now;\n          \n        }\n      });\n    },\n\n    syncFields()\n    {\n      if(this.initial) return;\n\n      this.$refs.form.validate()\n      .then(success => {\n\n        if (!success) { \n          this.$notify({\n            title: 'Required',\n            message: 'Please fill in all fields',\n            type: 'danger',\n            verticalAlign: 'top',\n            horizontalAlign: 'right',\n            duration:1000,\n            clean:true\n          });\n          return;\n        }\n\n        this.loading = true;\n        this.$axios.post(this.$store.state.baseUrl+\"/api/ManageSave\", { model: this.model })\n        .then((resp) => {\n          this.loading = false;\n          if(resp.data.message == 'field_updated'){\n            this.$notify({\n              title: 'Saved',\n              message: 'Changes were saved',\n              type: 'success',\n              verticalAlign: 'top',\n              horizontalAlign: 'right'\n            });\n          } else if(resp.data.message == 'nonexistent'){\n            this.$notify({\n              title: 'Error',\n              message: 'Node not found (might have been removed)',\n              type: 'danger',\n              verticalAlign: 'top',\n              horizontalAlign: 'right'\n            });\n          }\n\n          this.$refs.form.reset();\n\n        }).catch(err => {\n          this.loading = false;\n          if(err.response.data.errors){\n            this.$refs.form.setErrors(err.response.data.errors);\n          }\n        });\n      });\n    },\n\n    goToManageCultivars()\n    {\n      this.$router.push({\n        name: \"cultivars\",\n        params:{ field_id: this.field_id }\n      });\n    },\n\n    goToGraph()\n    {\n      this.$router.push({\n        name: \"soil_moisture_graph\",\n        params:{ node_address: this.$route.params.node_address }\n      });\n    }\n  },\n\n  created()\n  {\n    this.loadSoilMoistures();\n  }\n};\n</script>\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoilMoistureForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoilMoistureForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoilMoistureForm.vue?vue&type=template&id=43c53966&\"\nimport script from \"./SoilMoistureForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SoilMoistureForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}