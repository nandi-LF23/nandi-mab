(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07862472"],{"2de2":function(t,e,a){"use strict";a.r(e);var s,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("base-header",{staticClass:"pb-6",attrs:{type:"company"}},[a("b-row",{staticClass:"py-4",attrs:{"align-v":"center"}},[a("b-col",[a("h6",{directives:[{name:"show",rawName:"v-show",value:t.company_model.company_name,expression:"company_model.company_name"}],staticClass:"h2 text-white d-inline-block mb-0 mr-5"},[t._v("\n          "+t._s("Entity Management - "+t.company_model.company_name)+"\n        ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mab_spinner light right"})])],1)],1),a("div",{staticClass:"container-fluid mt--6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-card",{attrs:{"header-tag":"header","no-body":""},scopedSlots:t._u([{key:"header",fn:function(){return[a("base-button",{staticClass:"btn",attrs:{disabled:!t.userCan("Lock","Entities")||t.loading,size:"sm",type:"primary",icon:""},nativeOn:{click:function(e){t.company_model.is_locked?t.confirmUnlockEntity():t.confirmLockEntity()}}},[t._v("\n              "+t._s(t.company_model.is_locked?"Unlock Entity":"Lock Entity")+"\n            ")])]},proxy:!0}])},[a("b-tabs",{attrs:{card:""},model:{value:t.tab_index,callback:function(e){t.tab_index=e},expression:"tab_index"}},[a("b-tab",{ref:"details_tab",attrs:{title:"Details",active:""}},[a("b-card-text",[a("validation-observer",{ref:"form",attrs:{slim:""}},[a("form",{attrs:{role:"form"},on:{submit:function(t){return t.preventDefault(),function(){return!1}.apply(null,arguments)}}},[a("b-row",[a("b-col",{attrs:{md:""}},[a("h4",{staticClass:"mb-1"},[t._v("Basic Info")]),a("base-input",{attrs:{label:"Entity Name",name:"company name",rules:"required",placeholder:"Name",vid:"company_name"},on:{change:t.syncFields},model:{value:t.company_model.company_name,callback:function(e){t.$set(t.company_model,"company_name",e)},expression:"company_model.company_name"}}),a("base-input",{attrs:{label:"Entity Logo"}},[a("ImageCropUpload",{attrs:{stencilProps:{scalable:!0,movable:!0},fileData:t.company_model.company_logo,resize:{height:32,width:"auto"}},on:{done:t.updateLogo,clear:t.updateLogo}})],1),a("base-input",{attrs:{label:"Contact Name",name:"contact name",rules:"required",placeholder:"Contact Name",vid:"contact_name"},on:{change:t.syncFields},model:{value:t.company_model.contact_name,callback:function(e){t.$set(t.company_model,"contact_name",e)},expression:"company_model.contact_name"}}),a("base-input",{attrs:{label:"Contact Email",name:"contact email",placeholder:"Contact Email",vid:"contact_email"},on:{change:t.syncFields},model:{value:t.company_model.contact_email,callback:function(e){t.$set(t.company_model,"contact_email",e)},expression:"company_model.contact_email"}}),a("base-input",{attrs:{label:"Contact Phone",name:"contact phone",placeholder:"Contact Phone",vid:"contact_phone"},on:{change:t.syncFields},model:{value:t.company_model.contact_phone,callback:function(e){t.$set(t.company_model,"contact_phone",e)},expression:"company_model.contact_phone"}})],1),a("b-col",{attrs:{md:""}},[a("h4",{staticClass:"mb-1"},[t._v("Physical Address")]),a("base-input",{attrs:{label:"Line 1",name:"physical address line 1",placeholder:"Line 1",vid:"physical_address.line_1"},on:{change:t.syncFields},model:{value:t.company_model.physical_address.line_1,callback:function(e){t.$set(t.company_model.physical_address,"line_1",e)},expression:"company_model.physical_address.line_1"}}),a("base-input",{attrs:{label:"Line 2",name:"physical address line 2",placeholder:"Line 2",vid:"physical_address.line_2"},on:{change:t.syncFields},model:{value:t.company_model.physical_address.line_2,callback:function(e){t.$set(t.company_model.physical_address,"line_2",e)},expression:"company_model.physical_address.line_2"}}),a("base-input",{attrs:{label:"Town/City",name:"physical city",placeholder:"Town/City",vid:"physical_address.city"},on:{change:t.syncFields},model:{value:t.company_model.physical_address.city,callback:function(e){t.$set(t.company_model.physical_address,"city",e)},expression:"company_model.physical_address.city"}}),a("base-input",{attrs:{label:"Postal Code",name:"physical postal code",placeholder:"Postal Code",vid:"physical_address.postalcode"},on:{change:t.syncFields},model:{value:t.company_model.physical_address.postalcode,callback:function(e){t.$set(t.company_model.physical_address,"postalcode",e)},expression:"company_model.physical_address.postalcode"}}),a("base-input",{attrs:{label:"Physical Country",name:"physical country",placeholder:"Physical Country",vid:"physical_address.country"}},[a("el-select",{attrs:{filterable:"",placeholder:"Country"},on:{change:t.syncFields},model:{value:t.company_model.physical_address.country,callback:function(e){t.$set(t.company_model.physical_address,"country",e)},expression:"company_model.physical_address.country"}},t._l(t.countries,(function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1)],1)],1),a("b-col",{attrs:{md:""}},[a("h4",{staticClass:"mb-1"},[t._v("Billing Address")]),a("base-input",{attrs:{label:"Line 1",name:"billing address line 1",placeholder:"Line 1",vid:"billing_address.line_1"},on:{change:t.syncFields},model:{value:t.company_model.billing_address.line_1,callback:function(e){t.$set(t.company_model.billing_address,"line_1",e)},expression:"company_model.billing_address.line_1"}}),a("base-input",{attrs:{label:"Line 2",name:"billing address line 2",placeholder:"Line 2",vid:"billing_address.line_2"},on:{change:t.syncFields},model:{value:t.company_model.billing_address.line_2,callback:function(e){t.$set(t.company_model.billing_address,"line_2",e)},expression:"company_model.billing_address.line_2"}}),a("base-input",{attrs:{label:"Town/City",name:"billing city",placeholder:"Town/City",vid:"billing_address.city"},on:{change:t.syncFields},model:{value:t.company_model.billing_address.city,callback:function(e){t.$set(t.company_model.billing_address,"city",e)},expression:"company_model.billing_address.city"}}),a("base-input",{attrs:{label:"Postal Code",name:"billing postal code",placeholder:"Postal Code",vid:"billing_address.postalcode"},on:{change:t.syncFields},model:{value:t.company_model.billing_address.postalcode,callback:function(e){t.$set(t.company_model.billing_address,"postalcode",e)},expression:"company_model.billing_address.postalcode"}}),a("base-input",{attrs:{label:"Billing Country",name:"billing country",placeholder:"Billing Country",vid:"billing_address.country"}},[a("el-select",{attrs:{filterable:"",placeholder:"Country"},on:{change:t.syncFields},model:{value:t.company_model.billing_address.country,callback:function(e){t.$set(t.company_model.billing_address,"country",e)},expression:"company_model.billing_address.country"}},t._l(t.countries,(function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1)],1)],1)],1)],1)])],1)],1),a("b-tab",{ref:"options_tab",attrs:{title:"Options"}},[a("b-card-text",[a("b-row",[t._l(t.company_options,(function(e,s){return[a("b-col",{key:s,attrs:{md:"4"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{staticClass:"mb-0"},[t._v(t._s(s))])]},proxy:!0}],null,!0)},[a("b-card-text",[t._l(e,(function(e,s){return["text"==e.type?[a("b-form-group",{key:s,attrs:{label:e.label,"label-for":e.slug,description:e.desc}},[a("b-form-input",{attrs:{id:e.slug},on:{change:t.syncOptions},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"option.value"}})],1)]:"textarea"==e.type?[a("b-form-group",{key:s,attrs:{label:e.label,"label-for":e.slug,description:e.desc}},[a("b-form-textarea",{attrs:{id:e.slug},on:{change:t.syncOptions},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"option.value"}})],1)]:"colorpicker"==e.type?[a("b-form-group",{key:s,attrs:{label:e.label,"label-for":e.slug,description:e.desc}},[a("b-form-input",{attrs:{id:e.slug,type:"color"},on:{change:t.syncOptions},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"option.value"}})],1)]:t._e()]}))],2)],1)],1)]}))],2)],1)],1),a("b-tab",{ref:"objects_tab",attrs:{title:"Objects"}},[a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{staticClass:"mb-0"},[t._v("Users "),a("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],attrs:{title:"Current users of this entity."}},[t._v(t._s(t.users.length))])],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{md:""}},t._l(t.users,(function(e,s){return a("b-button",{key:s,staticClass:"mb-2",attrs:{to:"/users_manage/edit/"+e.label,disabled:!t.userCan("Edit","Users",e.id,"O"),variant:"success",size:"sm"}},[t._v("\n                        "+t._s(e.label)+"\n                      ")])})),1)],1)],1)],1),a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{staticClass:"mb-0"},[t._v("Groups "),a("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],attrs:{title:"Current groups of this entity."}},[t._v(t._s(t.groups.length))])],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{md:""}},t._l(t.groups,(function(e,s){return a("b-button",{key:s,staticClass:"mb-2",attrs:{to:"/groups_manage",disabled:!t.userCan("Edit","Groups",e.id,"O"),variant:"success",size:"sm"}},[t._v("\n                        "+t._s(e.label)+"\n                      ")])})),1)],1)],1)],1),a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{staticClass:"mb-0"},[t._v("Roles "),a("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],attrs:{title:"Current roles of this entity."}},[t._v(t._s(t.roles.length))])],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{md:""}},t._l(t.roles,(function(e,s){return a("b-button",{key:s,staticClass:"mb-2",attrs:{to:"/roles_manage/edit/"+e.id,disabled:!t.userCan("Edit","Roles",e.id,"O"),variant:"success",size:"sm"}},[t._v("\n                        "+t._s(e.label)+"\n                      ")])})),1)],1)],1)],1),a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{staticClass:"mb-0"},[t._v("Nodes "),a("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],attrs:{title:"Current nodes of this entity."}},[t._v(t._s(t.nodes.length))])],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{md:""}},t._l(t.nodes,(function(e,s){return a("b-button",{key:s,staticClass:"mb-2",attrs:{to:e.link,disabled:!t.userCan("Edit","Node Config",e.id,"O")&&!t.userCan("Edit",e.subsystem,e.id,"O"),variant:"success",size:"sm"}},[t._v("\n                        "+t._s(e.label)+"\n                      ")])})),1)],1)],1)],1),a("b-card",{scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{staticClass:"mb-0"},[t._v("Sensor Types "),a("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],attrs:{title:"Current sensor types of this entity."}},[t._v(t._s(t.sensor_types.length))])],1)]},proxy:!0}])},[a("b-card-text",[a("b-row",[a("b-col",{attrs:{md:""}},t._l(t.sensor_types,(function(e,s){return a("b-button",{key:s,staticClass:"mb-2",attrs:{to:"/sensor_types/edit/"+e.id,disabled:!t.userCan("Edit","Sensor Types",e.id,"O"),variant:"success",size:"sm"}},[t._v("\n                        "+t._s(e.label)+"\n                      ")])})),1)],1)],1)],1)],1),t.userCan("Report","Entities")?a("b-tab",{ref:"reporting_tab",attrs:{title:"Reporting"}},[a("b-card-text",[a("h3",[t._v("Device Placement")]),a("b-row",[a("b-col",{attrs:{md:""}},[a("base-input",{attrs:{label:"Year"}},[a("el-select",{on:{change:t.loadReport},model:{value:t.report_params.year,callback:function(e){t.$set(t.report_params,"year",e)},expression:"report_params.year"}},[t._l(t.years,(function(t,e){return[a("el-option",{key:e,attrs:{label:t,value:t}})]}))],2)],1)],1),a("b-col",{attrs:{md:""}},[a("base-input",{attrs:{label:"Detailed"}},[a("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!1,size:"lg"},on:{change:t.loadReport},model:{value:t.report_params.detailed,callback:function(e){t.$set(t.report_params,"detailed",e)},expression:"report_params.detailed"}},[t._v("\n                        Detailed Report\n                      ")])],1)],1),a("b-col",{attrs:{md:""}},[a("base-input",{attrs:{label:"Export"}},[a("base-button",{staticClass:"btn",attrs:{disabled:!t.userCan("Report","Entities")||t.loading,size:"sm",type:"primary",icon:""},nativeOn:{click:function(e){return t.getPdfReport()}}},[t._v("\n                        Export to PDF\n                      ")])],1)],1)],1),a("b-row",[a("b-col",{attrs:{md:""}},[t.report_params.detailed?a("h3",[t._v("Details")]):t._e(),t.report_params.detailed?a("b-table-simple",{attrs:{striped:"",responsive:""}},[a("b-thead",[a("b-tr",[a("b-th",{staticClass:"text-left"},[t._v("Node Type")]),a("b-th",{staticClass:"text-right"},[t._v("Qty")]),a("b-th",{staticClass:"text-left"},[t._v("Field")]),a("b-th",{staticClass:"text-left"},[t._v("Node Address")]),a("b-th",{staticClass:"text-right"},[t._v("Node EST")])],1)],1),a("b-tbody",[t._l(t.details,(function(e){return[a("b-tr",[a("b-td",[t._v(t._s(e.node_type))]),a("b-td",{staticClass:"text-right"},[t._v(t._s(e.node_count))]),a("b-td",[t._v(t._s(e.field_name))]),a("b-td",[t._v(t._s(e.node_address))]),a("b-td",{staticClass:"text-right"},[t._v(t._s(e.node_est))])],1)]}))],2)],1):t._e()],1)],1),a("b-row",[a("b-col",{attrs:{md:""}},[t.summary&&t.totals?a("h3",{attrs:{responsive:""}},[t._v("Summary")]):t._e(),t.summary?a("b-table-simple",{attrs:{striped:"",responsive:""}},[a("b-thead",[a("b-tr",[t.totals.sm_total?a("b-th",{staticClass:"text-right"},[t._v("Soil Moisture")]):t._e(),t.totals.nt_total?a("b-th",{staticClass:"text-right"},[t._v("Nutrients")]):t._e(),t.totals.wl_total?a("b-th",{staticClass:"text-right"},[t._v("Well Controls")]):t._e(),t.totals.mt_total?a("b-th",{staticClass:"text-right"},[t._v("Meters")]):t._e(),a("b-th",{staticClass:"text-right"},[t._v("Line Total")])],1)],1),a("b-tbody",[t._l(t.summary,(function(e,s){return[a("b-tr",{key:s},["Data"==e.row_type?[t.totals.sm_total?a("b-td",{staticClass:"text-right"},[a("strong",[t._v(t._s(e.sm_count))])]):t._e(),t.totals.nt_total?a("b-td",{staticClass:"text-right"},[a("strong",[t._v(t._s(e.nutrients_count))])]):t._e(),t.totals.wl_total?a("b-td",{staticClass:"text-right"},[a("strong",[t._v(t._s(e.wells_count))])]):t._e(),t.totals.mt_total?a("b-td",{staticClass:"text-right"},[a("strong",[t._v(t._s(e.meters_count))])]):t._e()]:"Subtotal"==e.row_type||"Total"==e.row_type?[a("b-td",{staticClass:"text-right",attrs:{colspan:t.popcols}},[t._v(t._s(e.row_type))])]:t._e(),a("b-td",{staticClass:"text-right"},[t._v(t._s(e.line_total))])],2)]}))],2)],1):t._e()],1)],1)],1)],1):t._e(),t.userCan("Integrate","Entities")?a("b-tab",{ref:"integrations_tab",attrs:{title:"Integrations"}},t._l(t.integrations,(function(e,s){return a("b-card",{key:s,scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{staticClass:"mb-0"},[t._v(t._s(e.name))])]},proxy:!0}],null,!0)},[a("b-card-text",[a("b-row",{attrs:{"align-v":"center"}},[a("b-col",[a("b-toast",{attrs:{visible:!0,title:"Status",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                        "+t._s(e.status_text)+"\n                      ")])],1),a("b-col",[a("b-button",{attrs:{variant:"success"},on:{click:function(a){return t.handleLink(e)}}},[t._v("\n                        "+t._s(e.status_button)+"\n                      ")])],1)],1),t.company_model.integrations&&Object.keys(t.company_model.integrations).length?[a("b-row",{key:s},[a("b-col",[a("hr"),a("h4",[t._v(t._s(s)+" Options")])])],1),a("b-row",t._l(t.company_model.integrations[s]["entities_manage"],(function(e,s){return a("b-col",{key:s,attrs:{sm:"4"}},["text"==e.type?a("base-input",{attrs:{label:e.label}},[a("b-form-input",{on:{change:t.syncFields},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"opt.value"}},[t._v("\n                            "+t._s(e.desc?e.desc:e.label)+"\n                          ")])],1):t._e()],1)})),1)]:t._e()],2)],1)})),1):t._e()],1)],1)],1)])])],1)},o=[],i=(a("456d"),a("ac6a"),a("b54a"),a("bd86")),l=(a("6611"),a("450d"),a("e772")),r=a.n(l),c=(a("7f7f"),a("1f1a"),a("4e4b")),d=a.n(c),p=a("714b"),m=a("3d20"),u=a.n(m),_=a("8fe0"),b=a("34e0"),y=a("8aad"),h={mixins:[_["a"]],components:(s={},Object(i["a"])(s,d.a.name,d.a),Object(i["a"])(s,r.a.name,r.a),Object(i["a"])(s,"Modal",p["a"]),Object(i["a"])(s,"ImageCropUpload",b["a"]),s),data:function(){return{tab_index:0,loading:!1,initial:!0,countries:y["a"],company_model:{id:null,company_name:"",company_logo:"",contact_name:"",contact_email:"",contact_phone:"",physical_address:{line_1:"",line_2:"",city:"",postalcode:"",country:""},billing_address:{line_1:"",line_2:"",city:"",postalcode:"",country:""},integrations:null,is_locked:0,is_distributor:0},users:[],groups:[],roles:[],nodes:[],sensor_types:[],integrations:[],company_options:[],refreshTimer:null,summary:[],totals:[],popcols:0,details:[],years:[],report_params:{type:"json",company_ids:[this.$route.params.id],year:"Total",detailed:!1,mode:"sub",initial:!0}}},created:function(){this.loadCompany()},mounted:function(){var t=this;mabRedirect&&mabRedirect.length&&"integrate"==mabRedirect&&setTimeout((function(){t.$refs.integrations_tab.activate(),mabRedirect=""}),10)},methods:{loadCompany:function(){var t=this;this.loading=!0,this.$axios.get("/api/company/"+this.$route.params.id).then((function(e){t.loading=!1,t.company_model=e.data.company,t.integrations=e.data.integrations,t.loading=!0,t.$axios.get("/api/company_objects/"+t.$route.params.id).then((function(e){t.loading=!1,t.users=e.data.objects.users,t.groups=e.data.objects.groups,t.roles=e.data.objects.roles,t.nodes=e.data.objects.nodes,t.sensor_types=e.data.objects.sensors}))})),this.loadReport(),this.loadCompanyOptions()},loadCompanyOptions:function(){var t=this;this.loading=!0,this.$axios.get("/api/get_company_opts/"+this.$route.params.id).then((function(e){t.loading=!1,t.company_options=e.data.options}))},loadReport:function(){var t=this;this.$axios.post("/api/company_report",this.report_params).then((function(e){t.loading=!1,t.report_params.initial=!1,t.summary=e.data.summary,t.totals=e.data.totals,t.popcols=0,t.popcols+=t.totals.sm_total>0?1:0,t.popcols+=t.totals.nt_total>0?1:0,t.popcols+=t.totals.wl_total>0?1:0,t.popcols+=t.totals.mt_total>0?1:0,e.data.details&&(t.details=e.data.details),e.data.years&&(t.years=e.data.years),t.initial&&(t.initial=!1)}))},getPdfReport:function(){var t=this,e=Object.assign({},this.report_params);e.type="pdf",this.$axios.post("/api/company_report",e).then((function(e){t.loading=!1,e.data.url&&window.open(e.data.url)}))},refreshCompany:function(){var t=this;return this.loading=!0,this.$axios.get("/api/company/"+this.$route.params.id).then((function(e){return t.loading=!1,t.company_model=e.data.company,t.integrations=e.data.integrations,e}))},syncFields:function(){var t=this;this.$refs.form.validate().then((function(e){e?(t.loading=!0,t.$axios.post("/api/company_update",t.company_model).then((function(e){t.loading=!1,"company_updated"==e.data.message?t.$notify({title:"Saved",message:"Changes were saved",type:"success",verticalAlign:"top",horizontalAlign:"right"}):"nonexistent"==e.data.message&&t.$notify({title:"Error",message:"Entity not found (might have been removed)",type:"danger",verticalAlign:"top",horizontalAlign:"right"})})).catch((function(e){t.loading=!1,console.log(e),e.response.data.errors&&t.$refs.form.setErrors(e.response.data.errors)}))):t.$notify({title:"Required",message:"Please complete all fields",type:"danger",verticalAlign:"top",horizontalAlign:"right",duration:1e3,clean:!0})}))},syncOptions:function(){var t=this;this.loading=!0,this.$axios.post("/api/upd_company_opts",{company_id:this.company_model.id,options:this.company_options}).then((function(e){t.loading=!1,"options_updated"==e.data.message&&t.$notify({title:"Saved",message:"Changes were saved",type:"success",verticalAlign:"top",horizontalAlign:"right"})})).catch((function(e){t.loading=!1,console.log(e),e.response.data.errors&&t.$refs.form.setErrors(e.response.data.errors)}))},updateLogo:function(t){console.log(t),this.company_model.company_logo=t,this.syncFields()},handleLink:function(t){var e=this;"Connect"==t.status_button?this.newTab(t.link,t.name):"Disconnect"==t.status_button&&(this.loading=!0,this.$axios.get(t.link).then((function(t){e.loading=!1,"token_revoked"==t.data.result&&(e.refreshCompany(),e.$notify({title:"Success",message:"Token was revoked",type:"success",verticalAlign:"top",horizontalAlign:"right"}))})))},confirmLockEntity:function(){var t=this;u.a.fire({title:"Lock Entity",text:"Please confirm entity lock",type:"warning",showCancelButton:!0,confirmButtonText:"Lock Entity",buttonsStyling:!1,customClass:{cancelButton:"btn btn-outline-primary",confirmButton:"btn btn-primary"}}).then((function(e){e.value&&t.lockEntity(t.company_model.id)}))},confirmUnlockEntity:function(){var t=this;u.a.fire({title:"Unlock Entity",text:"Please confirm entity unlock",type:"warning",showCancelButton:!0,confirmButtonText:"Unlock Entity",buttonsStyling:!1,customClass:{cancelButton:"btn btn-outline-primary",confirmButton:"btn btn-primary"}}).then((function(e){e.value&&t.unlockEntity(t.company_model.id)}))},lockEntity:function(t){var e=this;this.loading=!0,this.$axios.post("/api/company_lock",{company_id:t}).then((function(t){e.loading=!1,"company_locked"==t.data.message&&(e.company_model.is_locked=1,e.$notify({title:"Success",message:"Entity has been locked",type:"success",verticalAlign:"top",horizontalAlign:"right"}))})).catch((function(t){e.loading=!1,console.log(t)}))},unlockEntity:function(t){var e=this;this.loading=!0,this.$axios.post("/api/company_unlock",{company_id:t}).then((function(t){e.loading=!1,"company_unlocked"==t.data.message&&(e.company_model.is_locked=0,e.$notify({title:"Success",message:"Entity has been unlocked",type:"success",verticalAlign:"top",horizontalAlign:"right"}))})).catch((function(t){e.loading=!1,console.log(t)}))},newTab:function(t,e){var a=this;t&&(window.open(t),this.refreshTimer=setInterval((function(){a.refreshCompany().then((function(){Object.keys(a.integrations).forEach((function(t){a.integrations[t].name==e&&"Connected"==a.integrations[t].status_text&&clearInterval(a.refreshTimer)}))}))}),1e4))}}},g=h,v=(a("a150"),a("2877")),f=Object(v["a"])(g,n,o,!1,null,null,null);e["default"]=f.exports},"893e":function(t,e,a){},a150:function(t,e,a){"use strict";a("893e")}}]);
//# sourceMappingURL=chunk-07862472.462cd969.js.map