(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0bf2922"],{"22e0":function(e,t,i){},"5a8d":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"wrapper "+e.$route.name},[i("notifications"),i("div",{directives:[{name:"show",rawName:"v-show",value:null===e.$store.state.user_obj,expression:"$store.state.user_obj === null"}],staticClass:"logout"},[e._m(0)]),i("side-bar",{attrs:{logo:e.$store.getters.getLogo}},[i("template",{slot:"links"},[i("sidebar-item",{attrs:{link:{name:e.$store.state.user_obj?e.truncateString(e.$store.state.user_obj.email):"",icon:"ni ni-circle-08 text-muted text-",path:"/users_manage/edit/"+(e.$store.state.user_obj?e.$store.state.user_obj.email:""),isRoute:!0}}}),e.userCan("View","Map")?i("sidebar-item",{attrs:{link:{name:"Map",icon:"ni ni-pin-3 text-green",path:"/map"}}}):e._e(),e.userCan("View","Dashboard")?i("sidebar-item",{attrs:{link:{name:"Dashboard",icon:"ni ni-chart-pie-35 text-green",path:"/dashboard"}}}):e._e(),e.userCan("View","Field Management")?i("sidebar-item",{attrs:{link:{name:"Field Management",icon:"ni ni-square-pin text-green",path:"/field_management"}}}):e._e(),e.userCan("View","Soil Moisture")?i("sidebar-item",{attrs:{link:{name:"Soil Moisture",icon:"ni ni-atom text-green",path:"/soil_moisture"}}}):e._e(),e.userCan("View","Nutrients")?i("sidebar-item",{attrs:{link:{name:"Nutrients",icon:"ni ni-atom text-green",path:"/nutrients"}}}):e._e(),e.userCan("View","Well Controls")?i("sidebar-item",{attrs:{link:{name:"Well Controls",icon:"ni ni-archive-2 text-green",path:"/well_controls"}}}):e._e(),e.userCan("View","Meters")?i("sidebar-item",{attrs:{link:{name:"Meters",icon:"ni ni-archive-2 text-green",path:"/meters"}}}):e._e(),e.userCan("View","Node Config")?i("sidebar-item",{attrs:{link:{name:"Node Config",icon:"ni ni-settings text-green",path:"/node_config"}}}):e._e(),e.userCan("View","Sensor Types")?i("sidebar-item",{attrs:{link:{name:"Sensor Types",icon:"ni ni-settings-gear-65 text-green",path:"/sensor_types"}}}):e._e(),e.userCan("View","Users")?i("sidebar-item",{attrs:{link:{name:"Users",icon:"ni ni-circle-08 text-green",path:"/users_manage"}}}):e._e(),e.userCan("View","Entities")?i("sidebar-item",{attrs:{link:{name:"Entities",icon:"ni ni-building text-green",path:"/entities_manage"}}}):e._e(),e.userCan("View","Roles")?i("sidebar-item",{attrs:{link:{name:"Roles & Security",icon:"ni ni-badge text-green",path:"/roles_manage"}}}):e._e(),e.isAdmin("fritzbester@gmail.com")?i("sidebar-item",{attrs:{link:{name:"Connections",icon:"ni ni-sound-wave text-green",path:"/connections"}}}):e._e(),e.isAdmin()?i("sidebar-item",{attrs:{link:{name:"Activity Logs",icon:"ni ni-bullet-list-67 text-green",path:"/activity_logs"}}}):e._e(),i("sidebar-item",{attrs:{link:{name:"Logout",icon:"ni ni-button-power text-green",path:"/logout"}}})],1)],2),i("div",{staticClass:"main-content"},[i("div",{staticClass:"main-content-wrap",on:{click:function(t){return e.$sidebar.displaySidebar(!1)}}},[i("fade-transition",{attrs:{duration:200,origin:"center top",mode:"out-in"}},[i("router-view")],1)],1),i("div",{staticClass:"custom-nav-toggler",on:{click:e.toggleSidebar}},[i("div",{staticClass:"custom-toggler-line"}),i("div",{staticClass:"custom-toggler-line"}),i("div",{staticClass:"custom-toggler-line"})]),"map"!=e.$route.name&&"field_management"!=e.$route.name?i("b-button",{staticClass:"support_button",attrs:{variant:"primary",size:"sm"},on:{click:e.openTicketModal}},[e._v("\n      Support\n    ")]):e._e(),"map"!=e.$route.name&&"field_management"!=e.$route.name?i("b-modal",{attrs:{centered:"","no-close-on-esc":"","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){t.close;return[i("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[e._v("Log a Support Ticket")])]}},{key:"default",fn:function(t){t.hide;return[i("validation-observer",{ref:"supportform",attrs:{slim:""}},[i("form",{attrs:{role:"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),function(){return!1}.apply(null,arguments)}}},[i("b-row",[i("b-col",{attrs:{md:""}},[i("base-input",{attrs:{label:"Description"}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.ticketDescription,expression:"ticketDescription"}],staticClass:"form-control",attrs:{placeholder:"Please provide a detailed description of the issue(s) you are experiencing..",rows:"10"},domProps:{value:e.ticketDescription},on:{input:function(t){t.target.composing||(e.ticketDescription=t.target.value)}}})])],1)],1),i("b-row",[i("b-col",{attrs:{md:""}},[i("validation-provider",{scopedSlots:e._u([{key:"default",fn:function(t){t.errors;var n=t.validate;return[i("base-input",{attrs:{label:"Attachment (optional)",name:"attachment",vid:"attachment"}},[i("b-form-file",{attrs:{placeholder:"Select or drop file here..","drop-placeholder":"Drop file here..."},on:{change:function(t){return e.fileSelectionChange(n)}},model:{value:e.ticketAttachment,callback:function(t){e.ticketAttachment=t},expression:"ticketAttachment"}})],1)]}}],null,!0)})],1)],1)],1)])]}},{key:"modal-footer",fn:function(t){t.ok,t.cancel,t.hide;return[i("base-button",{staticClass:"ml-auto",attrs:{type:"outline-primary"},on:{click:e.closeTicketModal}},[e._v("Cancel")]),i("base-button",{attrs:{type:"primary"},on:{click:e.logTicket}},[e._v("Submit")])]}}],null,!1,2558797389),model:{value:e.showTicketModal,callback:function(t){e.showTicketModal=t},expression:"showTicketModal"}}):e._e()],1)],1)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box noselect"},[i("img",{staticClass:"noselect",attrs:{src:"/img/exe/logo_green.svg"}}),i("h2",{staticClass:"logout_text noselect"},[e._v("Signing out...")])])}],s=(i("7f7f"),i("b7f5")),o=(i("7da8"),i("7c76")),r=i("8fe0");function l(e){return document.getElementsByClassName(e).length>0}function c(e){l(e)?new s["a"](".".concat(e)):setTimeout((function(){c(e)}),100)}var u={mixins:[r["a"]],components:{FadeTransition:o["b"]},data:function(){return{type:"light",showTicketModal:!1,ticketDescription:"",ticketAttachment:""}},methods:{initScrollbar:function(){c("sidenav")},toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},hideSidebar:function(){this.$sidebar.displaySidebar(!1)},openTicketModal:function(){this.showTicketModal=!0},closeTicketModal:function(){this.showTicketModal=!1,this.ticketDescription="",this.ticketAttachment=null},fileSelectionChange:function(e){e()},logTicket:function(){var e=this;this.$refs.supportform.validate().then((function(t){if(t){var i=new FormData;i.set("message",e.ticketDescription),i.set("email",e.$store.state.user_obj.email),i.set("name",e.$store.state.user_obj.name),i.set("screen",e.$route.name),e.ticketAttachment&&i.append("attachment",e.ticketAttachment),e.$axios.post("/api/logticket",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){"OK"==t.data.status?(e.$notify({title:"Success",message:"Support Ticket #"+t.data.ticketId+" Logged",type:"success",verticalAlign:"top",horizontalAlign:"right"}),e.closeTicketModal()):e.$notify({title:"Failed",message:"Failed to log ticket",type:"danger",verticalAlign:"top",horizontalAlign:"right"})}))}else e.$notify({title:"Required",message:"Please fill in all fields",type:"danger",verticalAlign:"top",horizontalAlign:"right",duration:1e3,clean:!0})}))},doLogout:function(){this.$store.dispatch("do_logout",{})}},mounted:function(){this.initScrollbar()}},d=u,m=(i("80a6"),i("2877")),p=Object(m["a"])(d,n,a,!1,null,null,null);t["default"]=p.exports},"80a6":function(e,t,i){"use strict";i("22e0")}}]);
//# sourceMappingURL=chunk-e0bf2922.47602056.js.map