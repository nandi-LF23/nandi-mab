{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./src/custom_components/NiftyGauge.vue?9192","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./src/custom_components/NiftyGauge.vue?7f29","webpack:///src/custom_components/NiftyGauge.vue","webpack:///./src/custom_components/NiftyGauge.vue?46a2","webpack:///./src/custom_components/NiftyGauge.vue","webpack:///./src/views/Pages/NutrientsGraph.vue?f1a1","webpack:///./src/views/Pages/NutrientsGraph.vue?51b5","webpack:///src/views/Pages/NutrientsGraph.vue","webpack:///./src/views/Pages/NutrientsGraph.vue?fa41","webpack:///./src/views/Pages/NutrientsGraph.vue","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js"],"names":["toLength","repeat","defined","module","exports","that","maxLength","fillString","left","S","String","stringLength","length","fillStr","undefined","intMaxLength","fillLen","stringFiller","call","Math","ceil","slice","toInteger","count","str","this","res","n","Infinity","RangeError","render","_vm","_h","$createElement","_c","_self","staticClass","style","size","attrs","uniqid_gen","on","emitClick","buildConicGradient","capAngle","_v","_s","subl","_e","subm","subr","label","tooltip","staticRenderFns","name","props","angle","type","default","stops","data","created","methods","uniqid","prefix","lerp","start","end","zeroToOne","output","component","field_name","current_node","directives","rawName","value","expression","slot","modifiers","node_id","userCan","nativeOn","$event","exportGraphCSV","goToManage","related_nodes","loading","model","callback","$$v","_l","node","cnidx","key","$route","params","node_address","graph_type","sub_days","scopedSlots","_u","fn","ref","focus","blur","maxDate","date_now","graph_start_date","gaugeOptions","chartUpdateArgs","gauge2Options","chartOptions","toggleSeriesDragDrop","zoomOrDrag","Highcharts","mixins","components","flatPicker","NiftyGauge","in_progress","bInitialQuery","bNotified","series","duration","seriesAdjusted","lastDate","exportFileName","initial_start_date","initial_end_date","selection_start","selection_end","nutrient_lower","nutrient_upper","nutrient_gauge","nutrient_avg","nutrient_label","M3_1","yMaxBackup","yMinBackup","yMin","yMax","xMin","xMax","lastTimestamp","full","refill","plotOptions","states","inactive","opacity","chartTitle","text","widthAdjust","plotLines","resetButton","enabled","onclick","computed","credits","chart","marginTop","zoomType","panning","panKey","height","resetZoomButton","position","x","y","scrollablePlotArea","minWidth","scrollPositionX","exporting","buttons","contextButton","exportButton","menuItems","printButton","filename","colors","xAxis","min","max","dateTimeLabelFormats","millisecond","second","minute","hour","day","week","month","year","tickPosition","labels","rotation","crosshair","events","setExtremes","c","setTimeout","e","afterSetExtremes","yAxis","tickInterval","minPadding","maxPadding","title","legend","layout","align","verticalAlign","labelFormatter","shape","headerShape","borderWidth","shadow","useHTML","positioner","split","distance","padding","formatter","s","shared","plotBackgroundColor","plotBackgroundImage","plotBorderWidth","plotShadow","pane","startAngle","endAngle","background","borderColor","backgroundColor","center","tickPixelInterval","tickColor","tickLength","tickWidth","minorTickInterval","fontSize","plotBands","from","to","color","thickness","valueSuffix","dataLabels","format","dial","radius","baseWidth","baseLength","rearLength","pivot","watch","val","handler","deep","changeDateRange","maybeReloadGraphData","loadGraphData","$refs","hchart","showLoading","$axios","post","is_initial","then","swal","showCancelButton","confirmButtonText","buttonsStyling","customClass","cancelButton","confirmButton","resp","enableSeriesDragDrop","forEach","moved","draggableX","draggableY","dragMinY","dragMaxY","groupBy","dragStart","options","custom","pointFormatter","chartTriggerChange","disableSeriesDragDrop","showPlotLines","width","hidePlotLines","push","pop","resetSeriesData","downloadCSV","setupCustomTooltip","i","setupCustomTooltipstraight","removeCustomTooltip","$router","today","Date","dd","getDate","padStart","mm","getMonth","yyyy","getFullYear","mounted","$export","$pad","userAgent","WEBKIT_BUG","test","P","F","arguments"],"mappings":"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","file":"js/chunk-6c502a52.6fe279dd.js","sourcesContent":["// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NiftyGauge.vue?vue&type=style&index=0&id=4d9a73a9&scoped=true&lang=css&\"","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nifty_gauge\",style:('width:' + _vm.size + '; max-width:' + _vm.size),attrs:{\"id\":_vm.uniqid_gen},on:{\"click\":_vm.emitClick}},[_c('div',{staticClass:\"inner_wrapper\"},[_c('svg',{attrs:{\"viewBox\":\"0 0 100 100\"}},[_c('clipPath',{attrs:{\"id\":\"clip\"}},[_c('path',{attrs:{\"d\":\"M 50 0 a 50 50 0 0 1 0 100 50 50 0 0 1 0 -100 v 16 a 34 34 0 0 0 0 68 34 34 0 0 0 0 -68\"}})]),_c('foreignObject',{attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":\"100\",\"height\":\"100\",\"clip-path\":\"url(#clip)\"}},[_c('div',{staticClass:\"gradient\",style:(_vm.buildConicGradient()),attrs:{\"xmlns\":\"http://www.w3.org/1999/xhtml\"}})])])]),_c('div',{staticClass:\"gauge\",style:('transform:translate(-50%, -100%) rotate(' + _vm.capAngle() + 'deg);')}),_c('div',{staticClass:\"knob\"}),(_vm.subl)?_c('span',{staticClass:\"subl\"},[_vm._v(_vm._s(_vm.subl))]):_vm._e(),(_vm.subm)?_c('span',{staticClass:\"subm\"},[_vm._v(_vm._s(_vm.subm))]):_vm._e(),(_vm.subr)?_c('span',{staticClass:\"subr\"},[_vm._v(_vm._s(_vm.subr))]):_vm._e(),(_vm.label)?_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.label))]):_vm._e(),(_vm.tooltip)?_c('b-tooltip',{attrs:{\"target\":_vm.uniqid_gen}},[_vm._v(_vm._s(_vm.tooltip))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div :id=\"uniqid_gen\" class='nifty_gauge' :style=\"'width:' + size + '; max-width:' + size\" @click=\"emitClick\">\n        <div class='inner_wrapper'>\n            <svg viewBox=\"0 0 100 100\">\n                <clipPath id=\"clip\">\n                    <path d=\"M 50 0 a 50 50 0 0 1 0 100 50 50 0 0 1 0 -100 v 16 a 34 34 0 0 0 0 68 34 34 0 0 0 0 -68\" />\n                </clipPath>\n                <foreignObject x=\"0\" y=\"0\" width=\"100\" height=\"100\" clip-path=\"url(#clip)\">\n                    <div class='gradient' :style=\"buildConicGradient()\" xmlns=\"http://www.w3.org/1999/xhtml\"></div>\n                </foreignObject>\n            </svg>\n        </div>\n        <div class='gauge' :style=\"'transform:translate(-50%, -100%) rotate(' + capAngle() + 'deg);'\"></div>\n        <div class='knob'></div>\n        <span v-if=\"subl\" class='subl'>{{subl}}</span>\n        <span v-if=\"subm\" class='subm'>{{subm}}</span>\n        <span v-if=\"subr\" class='subr'>{{subr}}</span>\n        <span v-if=\"label\" class='label'>{{label}}</span>\n        <b-tooltip v-if=\"tooltip\" :target=\"uniqid_gen\">{{ tooltip }}</b-tooltip>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'NiftyGauge',\n    props: {\n        angle:   { type: String, default: '0' },\n        size:    { type: String, default: '' },\n        tooltip: { type: String, default: '' },\n        subm:    { type: String, default: '' },\n        subl:    { type: String, default: '' },\n        subr:    { type: String, default: '' },\n        label:   { type: String, default: '' },\n        stops:   {\n            type: Array,\n            default: [\n                'from',    '90deg',\n                '#f44336', '0%',  /* red */\n                '#f44336', '50%', /* red */\n                '#ffeb3b', '60%', /* yellow */\n                '#4caf50', '75%', /* green */\n                '#ffeb3b', '90%', /* yellow */\n                '#f44336', '100%' /* red */\n            ]\n        }\n    },\n    data(){ return { uniqid_gen: '' } },\n    created(){ this.uniqid_gen = this.uniqid('ngtt_'); },\n    methods: {\n        uniqid(prefix){ return prefix + window.Math.random().toString(36); },\n\n        emitClick(){ this.$emit('clicked', this.uniqid_gen); },\n\n        capAngle(){\n            // if(this.angle > 90){ this.angle = 90; }\n            // if(this.angle < -90){ this.angle = -90; }\n            // return this.angle;\n\nconst centerX = 50;\nconst centerY = 50;\nconst radius = 35;\n   this.angle = -0.5 * Math.PI - 2 * i * Math.PI;\n   (centerX - radius * Math.cos(angle)).toFixed(4) + \"%\";\n   (centerY + radius * Math.sin(angle)).toFixed(4) + \"%\";\n\n            return this.angle;\n        },\n\n        lerp(start, end, zeroToOne) {\n            return start + (end - start) * zeroToOne;\n        },\n\n\n        buildConicGradient(){\n\n            /* conic gradient from <x>deg: 0deg is top, 90deg is right */\n            /* conic gradient color percentage: 0-50% is half way around the circle (180 degrees) */\n\n            let output = 'background-image:conic-gradient(';\n\n            for(var i = 0; i < this.stops.length; i+= 2){\n                output = output + this.stops[i] + ' ' + this.stops[i+1] + (i+2 < this.stops.length ? ', ' : '');\n            }\n\n            output = output + ')';\n\n            //console.log(output);\n\n            return output;\n        }\n    }\n}\n</script>\n<style scoped>\n\n.nifty_gauge {\n    position: relative;\n    margin:0 auto;\n    margin-bottom:15%;\n}\n\n.nifty_gauge * {\n    transition: all 1s ease-in-out;\n}\n\n.nifty_gauge .inner_wrapper {\n    width:100%;\n    height:0;\n    padding-bottom:50%;\n    overflow:hidden;\n}\n\n.nifty_gauge .inner_wrapper svg {\n    width:100%;\n}\n\n.nifty_gauge .gradient {\n    width:100%;\n    height:100%;\n}\n\n.nifty_gauge .gauge {\n    position:absolute;\n    left:50%;\n    top:100%;\n    transform-origin:bottom center;\n    transform:translate(-50%, -100%) rotate(0deg);\n    background: black;\n    width:6%;\n    height:65%;\n    border-radius:50% 50% 0% 0%;\n}\n\n.nifty_gauge .knob {\n    position:absolute;\n    left:50%;\n    top:100%;\n    transform:translate(-50%, -50%);\n    background: black;\n    width:13%;\n    height:0;\n    padding-bottom:13%;\n    border-radius:100%;\n}\n\n.nifty_gauge .subl {\n    position: absolute;\n    text-align:left;\n    top:115%;\n    left:0%;\n    width:100%;\n    font-weight:bold;\n    font-size: 0.9em;\n}\n\n.nifty_gauge .subm {\n    position: absolute;\n    text-align:center;\n    top:115%;\n    left:50%;\n    transform:translateX(-50%);\n    width:100%;\n    font-weight:bold;\n    font-size: 0.9em;\n}\n\n.nifty_gauge .subr {\n    position: absolute;\n    text-align:right;\n    top:115%;\n    left:100%;\n    transform:translateX(-100%);\n    width:100%;\n    font-weight:bold;\n    font-size: 0.9em;\n}\n\n.nifty_gauge .label {\n    position: absolute;\n    text-align:center;\n    top:145%;\n    left:50%;\n    transform:translateX(-50%);\n    width:100%;\n    font-weight:bold;\n    font-size: 0.9em;\n}\n\n@media(max-width:1024px){\n    .nifty_gauge .label,\n    .nifty_gauge .subl,\n    .nifty_gauge .subm,\n    .nifty_gauge .subr {\n        font-size:0.8em;\n    }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NiftyGauge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NiftyGauge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NiftyGauge.vue?vue&type=template&id=4d9a73a9&scoped=true&\"\nimport script from \"./NiftyGauge.vue?vue&type=script&lang=js&\"\nexport * from \"./NiftyGauge.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NiftyGauge.vue?vue&type=style&index=0&id=4d9a73a9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d9a73a9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NutrientsGraph.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"nutrients\"}},[_c('b-row',{staticClass:\"py-4\",attrs:{\"align-v\":\"center\"}},[_c('b-col',[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0 mr-5\"},[_vm._v(\"Nutrients - \"+_vm._s(_vm.field_name)+\" ( \"+_vm._s(_vm.current_node)+\" ) - Graph\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mab_spinner light right\"})])],1)],1),_c('div',{staticClass:\"container-fluid mt--6\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('card',{attrs:{\"body-classes\":\"px-0 py-0\"}},[_c('template',{slot:\"header\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('base-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"btn\",attrs:{\"disabled\":!_vm.node_id || !_vm.userCan('Export', 'Nutrients', _vm.node_id, 'O'),\"size\":\"sm\",\"type\":\"primary\",\"title\":\"Export device data to a CSV file.\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.exportGraphCSV()}}},[_vm._v(\"\\n                  Export CSV\\n                \")]),_c('base-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"btn\",attrs:{\"disabled\":!_vm.node_id || !_vm.userCan('Edit', 'Nutrients', _vm.node_id, 'O'),\"size\":\"sm\",\"type\":\"primary\",\"title\":\"Navigate to the nutrient node's management screen\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.goToManage()}}},[_vm._v(\"\\n                  Manage Nutrients\\n                \")])],1)])]),_c('div',{staticClass:\"card-body\"},[_c('b-row',[(_vm.related_nodes.length > 1)?_c('b-col',{attrs:{\"md\":\"4\"}},[_c('base-input',{attrs:{\"label\":\"Current Node\"}},[_c('el-select',{attrs:{\"disabled\":_vm.loading},model:{value:(_vm.current_node),callback:function ($$v) {_vm.current_node=$$v},expression:\"current_node\"}},[_vm._l((_vm.related_nodes),function(node,cnidx){return [_c('el-option',{key:cnidx,attrs:{\"label\":node,\"value\":node,\"selected\":_vm.$route.params.node_address}})]})],2)],1)],1):_vm._e(),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('base-input',{attrs:{\"label\":\"Graph Type\"}},[_c('el-select',{attrs:{\"disabled\":_vm.loading},model:{value:(_vm.graph_type),callback:function ($$v) {_vm.graph_type=$$v},expression:\"graph_type\"}},[_c('el-option',{attrs:{\"label\":\"Nutrients (RAW)\",\"value\":\"nutrient\"}}),_c('el-option',{attrs:{\"label\":\"Nutrients (PPM)\",\"value\":\"nutrient_ppm\"}}),_c('el-option',{attrs:{\"label\":\"Nutrients (PPM Average)\",\"value\":\"nutrient_ppm_avg\"}})],1)],1)],1),_c('div',{staticClass:\"w-100\"}),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('base-input',{attrs:{\"label\":\"Range\"}},[_c('el-select',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],attrs:{\"disabled\":_vm.loading,\"title\":\"Choose the time range of data to view.\"},model:{value:(_vm.sub_days),callback:function ($$v) {_vm.sub_days=$$v},expression:\"sub_days\"}},[_c('el-option',{attrs:{\"label\":\"Last 24 Hours\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"Last Week\",\"value\":\"7\"}}),_c('el-option',{attrs:{\"label\":\"Last Two Weeks\",\"value\":\"14\"}}),_c('el-option',{attrs:{\"label\":\"Last Month\",\"value\":\"31\"}}),_c('el-option',{attrs:{\"label\":\"Last Year\",\"value\":\"365\"}}),_c('el-option',{attrs:{\"label\":\"Custom\",\"value\":\"custom\"}})],1)],1)],1),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('base-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sub_days=='custom'),expression:\"sub_days=='custom'\"}],attrs:{\"label\":\"Start Date\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar focus = ref.focus;\nvar blur = ref.blur;\nreturn _c('flat-picker',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"form-control datepicker\",attrs:{\"config\":{maxDate: _vm.date_now },\"placeholder\":\"Custom Date\",\"title\":\"A custom start date allows a custom range of data to be viewed.\"},on:{\"on-open\":focus,\"on-close\":blur},model:{value:(_vm.graph_start_date),callback:function ($$v) {_vm.graph_start_date=$$v},expression:\"graph_start_date\"}})}}])})],1),_c('b-col',{staticClass:\"graph_margin\",attrs:{\"md\":\"2\"}},[_c('highcharts',{ref:\"hchart\",staticClass:\"hc\",attrs:{\"options\":_vm.gaugeOptions,\"update-args\":_vm.chartUpdateArgs}})],1),_c('b-col',{staticClass:\"graph_margin\",attrs:{\"md\":\"2\"}},[_c('highcharts',{ref:\"hchart\",staticClass:\"hc\",attrs:{\"options\":_vm.gauge2Options,\"update-args\":_vm.chartUpdateArgs}})],1)],1),_c('div',{staticClass:\"the_graph\"},[_c('highcharts',{ref:\"hchart\",staticClass:\"hc\",attrs:{\"options\":_vm.chartOptions,\"update-args\":_vm.chartUpdateArgs}})],1),_c('b-row',[_c('b-col',{staticClass:\"text-center\"},[(_vm.graph_type=='sm')?_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"size\":\"lg\",\"switch\":\"\"},on:{\"change\":_vm.toggleSeriesDragDrop},model:{value:(_vm.zoomOrDrag),callback:function ($$v) {_vm.zoomOrDrag=$$v},expression:\"zoomOrDrag\"}},[_vm._v(\"Mode: \"+_vm._s(_vm.zoomOrDrag ? \"Drag\" : \"Zoom\"))]):_vm._e()],1)],1)],1)],2)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content\">\r\n    <base-header class=\"pb-6\" type=\"nutrients\">\r\n      <b-row align-v=\"center\" class=\"py-4\">\r\n        <b-col>\r\n          <h6 class=\"h2 text-white d-inline-block mb-0 mr-5\">Nutrients - {{ field_name }} ( {{ current_node }} ) - Graph</h6>\r\n          <div v-show='loading' class='mab_spinner light right'></div>\r\n        </b-col>\r\n      </b-row>\r\n    </base-header>\r\n\r\n    <div class='container-fluid mt--6'>\r\n      <div class='row'>\r\n        <div class='col-md-12'>\r\n          <card body-classes=\"px-0 py-0\">\r\n            <template slot=\"header\">\r\n              <div class='row'>\r\n                <div class='col-md-12'>\r\n                  <base-button\r\n                    :disabled=\"!node_id || !userCan('Export', 'Nutrients', node_id, 'O')\"\r\n                    @click.native=\"exportGraphCSV()\"\r\n                    class=\"btn\"\r\n                    size=\"sm\"\r\n                    type=\"primary\"\r\n                    v-b-tooltip.hover.top title=\"Export device data to a CSV file.\"\r\n                    icon>\r\n                    Export CSV\r\n                  </base-button>\r\n\r\n                  <base-button\r\n                    :disabled=\"!node_id || !userCan('Edit', 'Nutrients', node_id, 'O')\"\r\n                    @click.native=\"goToManage()\"\r\n                    class=\"btn\"\r\n                    size=\"sm\"\r\n                    type=\"primary\"\r\n                    v-b-tooltip.hover.top title=\"Navigate to the nutrient node's management screen\"\r\n                    icon>\r\n                    Manage Nutrients\r\n                  </base-button>\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <div class=\"card-body\">\r\n              <b-row>\r\n                <!-- <b-col md=\"6\"> -->\r\n                <b-col md=\"4\" v-if=\"related_nodes.length > 1\">\r\n                  <base-input label=\"Current Node\">\r\n                    <el-select v-model=\"current_node\" :disabled=\"loading\">\r\n                      <template v-for=\"(node, cnidx) in related_nodes\">\r\n                        <el-option :key=\"cnidx\" :label=\"node\" :value=\"node\" :selected='$route.params.node_address'></el-option>\r\n                      </template>\r\n                    </el-select>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col md=\"4\">\r\n                  <base-input label=\"Graph Type\">\r\n                    <el-select v-model=\"graph_type\" :disabled=\"loading\">\r\n                      <el-option label=\"Nutrients (RAW)\" value='nutrient'></el-option>\r\n                      <el-option label=\"Nutrients (PPM)\" value='nutrient_ppm'></el-option>\r\n                      <el-option label=\"Nutrients (PPM Average)\" value='nutrient_ppm_avg'></el-option>\r\n                    </el-select>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <div class=\"w-100\"></div>\r\n\r\n                <b-col md=\"4\">\r\n                  <base-input label=\"Range\">\r\n                    <el-select\r\n                      v-model=\"sub_days\"\r\n                      :disabled=\"loading\"\r\n                      v-b-tooltip.hover.top title=\"Choose the time range of data to view.\">\r\n                      <el-option label=\"Last 24 Hours\" value='1'></el-option>\r\n                      <el-option label=\"Last Week\" value='7'></el-option>\r\n                      <el-option label=\"Last Two Weeks\" value='14'></el-option>\r\n                      <el-option label=\"Last Month\" value='31'></el-option>\r\n                      <el-option label=\"Last Year\" value='365'></el-option>\r\n                      <el-option label=\"Custom\" value='custom'></el-option>\r\n                    </el-select>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col md=\"4\">\r\n                  <base-input v-show=\"sub_days=='custom'\" label=\"Start Date\">\r\n                    <flat-picker slot-scope=\"{focus, blur}\"\r\n                      @on-open=\"focus\"\r\n                      @on-close=\"blur\"\r\n                      v-model=\"graph_start_date\"\r\n                      :config=\"{maxDate: date_now }\"\r\n                      placeholder=\"Custom Date\"\r\n                      class=\"form-control datepicker\"\r\n                      v-b-tooltip.hover.top title=\"A custom start date allows a custom range of data to be viewed.\">\r\n                    </flat-picker>\r\n                  </base-input>\r\n                </b-col>\r\n            <!-- </b-col> -->\r\n\r\n                <b-col md=\"2\" class=\"graph_margin\">\r\n                      <!-- the gauge. -->\r\n                      <highcharts class=\"hc\" :options=\"gaugeOptions\" :update-args=\"chartUpdateArgs\" ref=\"hchart\"></highcharts>\r\n                </b-col>\r\n                <b-col md=\"2\" class=\"graph_margin\">\r\n                      <!-- the gauge. -->\r\n                      <highcharts class=\"hc\" :options=\"gauge2Options\" :update-args=\"chartUpdateArgs\" ref=\"hchart\"></highcharts>\r\n                </b-col>\r\n            </b-row>\r\n            <div class=\"the_graph\">\r\n              <highcharts class=\"hc\" :options=\"chartOptions\" :update-args=\"chartUpdateArgs\" ref=\"hchart\"></highcharts>\r\n            </div>\r\n            <b-row>\r\n              <b-col class='text-center'>\r\n                <b-form-checkbox v-if=\"graph_type=='sm'\" @change=\"toggleSeriesDragDrop\" v-model=\"zoomOrDrag\" name=\"check-button\" size=\"lg\" switch>Mode: {{ zoomOrDrag ? \"Drag\" : \"Zoom\" }}</b-form-checkbox>\r\n              </b-col>\r\n            </b-row>\r\n            </div>\r\n          </card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-new */\r\nimport { Select, Option } from 'element-ui'\r\nimport flatPicker from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Highcharts from 'highcharts';\r\nimport mab_utils from '../../util/mab-utils';\r\nimport NiftyGauge from '../../custom_components/NiftyGauge';\r\nimport swal from 'sweetalert2';\r\n\r\n// Tweak to prevent Tooltip from disappearing (Testing working)\r\nHighcharts.Pointer.prototype.reset = function () { return undefined; };\r\n\r\nexport default {\r\n\r\n  mixins: [ mab_utils ],\r\n    \r\n  components: {\r\n    [Select.name]: Select,\r\n    [Option.name]: Option,\r\n    flatPicker,\r\n    NiftyGauge\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      in_progress: true,\r\n\r\n      current_node: this.$route.params.node_address,\r\n\r\n      node_id: null,\r\n      field_name: null,\r\n\r\n      graph_start_date: '',\r\n      graph_type: '',\r\n      sub_days: '',\r\n\r\n      bInitialQuery: true,\r\n      bNotified: false,\r\n\r\n      related_nodes: [],\r\n\r\n      data: [],\r\n\r\n      date_now: '',\r\n      series: [],\r\n      chartUpdateArgs: [ true, true, { duration: 1000 } ],\r\n      seriesAdjusted: false,\r\n      zoomOrDrag: false, /* false == zoom, true == drag */\r\n      lastDate: null,\r\n      exportFileName: '',\r\n\r\n      initial_start_date: null,\r\n      initial_end_date: null,\r\n\r\n      selection_start: null,\r\n      selection_end:   null,\r\n\r\n      nutrient_lower: 0,\r\n      nutrient_upper: 0,\r\n      nutrient_gauge: 0,\r\n      nutrient_avg: 0,\r\n      nutrient_label: '',\r\n      M3_1: 0,\r\n\r\n      yMaxBackup: 0,\r\n      yMinBackup: 0,\r\n\r\n      yMin: null,\r\n      yMax: null,\r\n\r\n      xMin: 1000,\r\n      xMax: 0,\r\n\r\n      lastTimestamp: null,\r\n\r\n      full: 0,\r\n      refill: 0,\r\n\r\n      plotOptions: {\r\n        series: {\r\n          states: {\r\n            inactive: {\r\n              opacity: 1\r\n            }\r\n          }\r\n        }\r\n      },\r\n      chartTitle: {\r\n        text: \"Loading..\",\r\n        widthAdjust: -300\r\n      },\r\n      plotLines: [],\r\n      resetButton: {\r\n        text: \"Reset\",\r\n        enabled: true,\r\n        onclick: (e) => {\r\n          this.resetSeriesData();\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    chartOptions(){\r\n\r\n      return {\r\n        credits:{ enabled: false },\r\n        chart: {\r\n          marginTop:165,\r\n          type: 'line',\r\n          zoomType: this.zoomOrDrag == false ? 'x' : false,\r\n          panning: true,\r\n          panKey: 'shift',\r\n          height: 600,\r\n          resetZoomButton: { position: { x: 0, y: -50 } },\r\n          scrollablePlotArea: {\r\n            minWidth: 700,\r\n            scrollPositionX: 1\r\n          },\r\n        },\r\n        exporting: {\r\n          buttons: {\r\n            contextButton: { enabled: false },\r\n            exportButton: { text: 'Export', menuItems: ['downloadPNG', 'downloadJPEG', 'downloadPDF', 'downloadSVG'] },\r\n            printButton: { text: 'Print', onclick: function () { this.print(); } },\r\n            resetButton: this.resetButton\r\n          },\r\n          filename: this.exportFileName\r\n        },\r\n        colors: [\"#7cb5ec\", \"#434348\", \"#90ed7d\", \"#f7a35c\", \"#8085e9\", \"#f15c80\", \"#e4d354\", \"#2b908f\", \"#f45b5b\", \"#91e8e1\"],\r\n        series: this.series,\r\n        xAxis: {\r\n          min: this.xMin,\r\n          max: this.xMax,\r\n          type: 'datetime',\r\n          dateTimeLabelFormats: {\r\n            millisecond: '%H:%M:%S.%L',\r\n            second: '%H:%M:%S',\r\n            minute: '%H:%M',\r\n            hour: '%H:%M',\r\n            day: '<span style=\"fill: #00A04C; font-weight:600\">%e %b</span>',\r\n            week: '%e %b',\r\n            month: '%b %Y',\r\n            year: '%Y'\r\n          },\r\n          tickPosition: 'inside',\r\n          labels: {\r\n            rotation:-45,\r\n          },\r\n          crosshair: true,\r\n\r\n          events: {\r\n            setExtremes: function(e){\r\n              var c = this;\r\n              setTimeout(function() {\r\n                if (typeof e.min == 'undefined' && typeof e.max == 'undefined') {\r\n                  // 'zoom-reset'\r\n                  c.chart.yAxis[0].setExtremes(c.chart.yAxis[0].min, c.chart.yAxis[0].max);\r\n                } else {\r\n                  // 'zoom-in'\r\n                  c.chart.yAxis[0].setExtremes();\r\n                }\r\n              }, 1);\r\n            },\r\n            afterSetExtremes: this.afterSetExtremes\r\n          }\r\n\r\n        },\r\n        yAxis: {\r\n          tickInterval:1,\r\n          max: this.yMax,\r\n          min: this.yMin,\r\n          minPadding: 0,\r\n          maxPadding: 0,\r\n          title: { text: '' },\r\n          plotLines: this.plotLines,\r\n        },\r\n        legend: {\r\n          layout: 'horizontal',\r\n          align: 'center',\r\n          verticalAlign: 'bottom',\r\n            labelFormatter: function() {\r\n            return this.name;\r\n          },\r\n        },\r\n        tooltip: {\r\n          shape: \"square\",\r\n          headerShape: \"callout\",\r\n          borderWidth: 0,\r\n          shadow: false,\r\n          useHTML: true,\r\n          positioner: function() {\r\n            return { x: 50, y: 0 };\r\n          },\r\n          split: true,\r\n          distance: 30,\r\n          padding: 5,\r\n          formatter() {\r\n            let s = \"\";\r\n            s = '<span class=\"date_of_reading\">'+Highcharts.dateFormat('%A, %b %e, %Y', new Date(this.x))+'</span><br>';\r\n            // console.log(this.points.length);\r\n\r\n              this.points.forEach(function(point) {\r\n                      s += '<span style=\"color:' + point.series.color + '; font-size:13px;\">‚óè</span> <span style=\"color:#fff;font-size:13px;\">' + point.series.name + ': <b>' + point.y + '</b></span> | ';\r\n                  });\r\n                  return s;\r\n            },\r\n// '<div class=\"customTooltip\" style=\"white-space: normal; overflow-y: scroll;display:inline-block;\">\r\n          shared: true,\r\n        },\r\n        plotOptions: this.plotOptions,\r\n        title: this.chartTitle\r\n      }\r\n    },\r\n\r\n    gaugeOptions() {\r\n      return {\r\n        chart: {\r\n          type: 'gauge',\r\n          plotBackgroundColor: null,\r\n          plotBackgroundImage: null,\r\n          plotBorderWidth: 0,\r\n          plotShadow: false,\r\n          height: '80%'\r\n      },\r\n\r\n      title: null,\r\n\r\n      pane: {\r\n          startAngle: -90,\r\n          endAngle: 90,\r\n          background: {\r\n            borderColor: 'transparent',\r\n            backgroundColor: 'transparent',\r\n      },\r\n          center: ['50%', '75%'],\r\n          size: '110%',\r\n      },\r\n\r\n      // the value axis\r\n      yAxis: {\r\n          min: -50,\r\n          max: 50,\r\n          tickPixelInterval: 72,\r\n          tickPosition: 'inside',\r\n          tickColor: '#000000',\r\n          tickLength: 20,\r\n          tickWidth: 0,\r\n          minorTickInterval: null,\r\n          labels: {\r\n              distance: 15,\r\n              style: {\r\n                  fontSize: '10px'\r\n              }\r\n          },\r\n          plotBands: [\r\n          {\r\n              from: 30,\r\n              to: 50,\r\n              color: '#f44536', // red\r\n              thickness: 30,\r\n              borderWidth:0,\r\n          },  \r\n          {\r\n              from: 10,\r\n              to: 30,\r\n              color: '#fbe13b', // yellow\r\n              thickness: 30\r\n          }, \r\n          {\r\n              from: -10,\r\n              to: 10,\r\n              color: '#83c14b', // green\r\n              thickness: 30\r\n          }, \r\n          {\r\n              from: -10,\r\n              to: -30,\r\n              color: '#fbe13b', // yellow\r\n              thickness: 30\r\n          },\r\n          {\r\n              from: -50,\r\n              to: -30,\r\n              color: '#f44536', // red\r\n              thickness: 30\r\n          }, \r\n        ]\r\n      },\r\n\r\n    series: [{\r\n        name: 'M6.1',\r\n        data: [2.6],\r\n        tooltip: {\r\n            valueSuffix: ' (PPM)'\r\n        },\r\n        dataLabels: {\r\n            format: '{y} (PPM)',\r\n            borderWidth: 0,\r\n            color: '#333333',\r\n            style: {\r\n                fontSize: '16px'\r\n            }\r\n        },\r\n        dial: {\r\n            radius: '80%',\r\n            backgroundColor: 'black',\r\n            baseWidth: 12,\r\n            baseLength: '0%',\r\n            rearLength: '0%'\r\n        },\r\n        pivot: {\r\n            backgroundColor: 'gray',\r\n            radius: 6\r\n        }\r\n\r\n    }],\r\n          exporting: {\r\n        enabled: false\r\n      },\r\n    }\r\n  },\r\n\r\n    gauge2Options() {\r\n\r\n      return {\r\n        chart: {\r\n          type: 'gauge',\r\n          plotBackgroundColor: null,\r\n          plotBackgroundImage: null,\r\n          plotBorderWidth: 0,\r\n          plotShadow: false,\r\n          height: '80%'\r\n      },\r\n\r\n      title: null,\r\n\r\n      pane: {\r\n          startAngle: -90,\r\n          endAngle: 90,\r\n          background: {\r\n            borderColor: 'transparent',\r\n            backgroundColor: 'transparent',\r\n      },\r\n          center: ['50%', '75%'],\r\n          size: '110%',\r\n      },\r\n\r\n      // the value axis\r\n      yAxis: {\r\n          min: -50,\r\n          max: 50,\r\n          tickPixelInterval: 72,\r\n          tickPosition: 'inside',\r\n          tickColor: '#000000',\r\n          tickLength: 20,\r\n          tickWidth: 0,\r\n          minorTickInterval: null,\r\n          labels: {\r\n              distance: 15,\r\n              style: {\r\n                  fontSize: '10px'\r\n              }\r\n          },\r\n          plotBands: [\r\n          {\r\n              from: 30,\r\n              to: 50,\r\n              color: '#f44536', // red\r\n              thickness: 30,\r\n              borderWidth:0,\r\n          }, \r\n          {\r\n              from: 10,\r\n              to: 30,\r\n              color: '#fbe13b', // yellow\r\n              thickness: 30\r\n          }, \r\n          {\r\n              from: -10,\r\n              to: 10,\r\n              color: '#83c14b', // green\r\n              thickness: 30\r\n          }, \r\n          {\r\n              from: -10,\r\n              to: -30,\r\n              color: '#fbe13b', // yellow\r\n              thickness: 30\r\n          },\r\n          {\r\n              from: -50,\r\n              to: -30,\r\n              color: '#f44536', // red\r\n              thickness: 30\r\n          }, \r\n        ]\r\n      },\r\n\r\n    series: [{\r\n        name: 'M6.1',\r\n        // this returns 0 because it takes 0 first. \r\n        data: [3.2],\r\n        tooltip: {\r\n            valueSuffix: ' (PPM)'\r\n        },\r\n        dataLabels: {\r\n            format: '{y} (PPM)',\r\n            borderWidth: 0,\r\n            color: '#333333',\r\n            style: {\r\n                fontSize: '16px'\r\n            }\r\n        },\r\n        dial: {\r\n            radius: '80%',\r\n            backgroundColor: 'black',\r\n            baseWidth: 12,\r\n            baseLength: '0%',\r\n            rearLength: '0%'\r\n        },\r\n        pivot: {\r\n            backgroundColor: 'gray',\r\n            radius: 6\r\n        }\r\n\r\n    }],\r\n          exporting: {\r\n        enabled: false\r\n      },\r\n    }\r\n  },\r\n\r\n  },\r\n\r\n  watch: {\r\n    title: function(val){\r\n      this.chartOptions.title = val;\r\n    },\r\n    plotOptions: {\r\n      handler: function(val){\r\n        if(val.length){\r\n          this.chartOptions.plotOptions = val;\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    series: {\r\n      handler: function(val){\r\n        if(val.length){\r\n          this.chartOptions.series = val;\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    graph_start_date: function(val){\r\n      this.changeDateRange();\r\n    },\r\n    graph_type: function(val){\r\n      this.maybeReloadGraphData();\r\n    },\r\n    sub_days: function(val){\r\n      if(val == 'custom' && !this.graph_start_date){ return; }\r\n      if(val != 'custom'){ this.graph_start_date = ''; }\r\n      // Experimental\r\n      this.initial_start_date = null;\r\n      this.initial_end_date = null;\r\n      this.maybeReloadGraphData();\r\n    },\r\n    current_node: function(val){\r\n      this.bNotified = false;\r\n      this.maybeReloadGraphData();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    loadGraphData() {\r\n\r\n      this.loading = true;\r\n      this.in_progress = true;\r\n\r\n      this.$refs.hchart.chart.showLoading(this.bInitialQuery ? \"Loading...\" : \"Refreshing...\");\r\n\r\n      return this.$axios.post(\"/api/Graph\", {\r\n        node_address: this.current_node,\r\n        graph_type: this.graph_type,\r\n        graph_start_date: this.graph_start_date,\r\n        sub_days: this.sub_days,\r\n        is_initial: this.bInitialQuery,\r\n        selection_start: this.selection_start,\r\n        selection_end: this.selection_end\r\n      }).then(resp => {\r\n\r\n        this.loading = false;\r\n        this.in_progress = true;\r\n        this.$refs.hchart.chart.hideLoading();\r\n\r\n        if(resp.data){\r\n\r\n          if(resp.data.message && resp.data.message == 'no_data'){\r\n            swal.fire({\r\n              title: 'No data found',\r\n              text: \"This node currently has no data to plot.\",\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              buttonsStyling: false,\r\n              customClass: {\r\n                cancelButton: 'btn btn-outline-primary',\r\n                confirmButton: 'btn btn-primary'\r\n              }\r\n            });\r\n            this.chartTitle.text = \"No data found\";\r\n            return;\r\n          }\r\n\r\n          if(!this.bNotified && resp.data.not_current && resp.data.last_date){\r\n            swal.fire({\r\n              title: 'No recent data found',\r\n              text: \"Last readings up to \" + resp.data.last_date + \" could be displayed.\",\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              buttonsStyling: false,\r\n              customClass: {\r\n                cancelButton: 'btn btn-outline-primary',\r\n                confirmButton: 'btn btn-primary'\r\n              }\r\n            });\r\n            this.bNotified = true;\r\n          }\r\n\r\n          this.selection_start = null;\r\n          this.selection_end = null;\r\n\r\n          // COMMON DATA\r\n          this.node_id = resp.data.node_id;\r\n          this.field_name = resp.data.field_name;\r\n\r\n          // Experimental\r\n          if(this.bInitialQuery){\r\n            this.graph_start_date = resp.data.graph_start_date;\r\n            this.graph_type = resp.data.graph_type;\r\n            this.sub_days = resp.data.sub_days;\r\n          }\r\n\r\n          this.nutrient_lower = 'nutrient_lower' in resp.data ? resp.data.nutrient_lower : 0;\r\n          this.nutrient_upper = 'nutrient_upper' in resp.data ? resp.data.nutrient_upper : 100;\r\n          this.nutrient_gauge = 'nutrient_gauge' in resp.data ? resp.data.nutrient_gauge : 0;\r\n          this.nutrient_avg   = 'nutrient_avg'   in resp.data ? resp.data.nutrient_avg   : 0;\r\n          this.nutrient_label = 'nutrient_label' in resp.data ? resp.data.nutrient_label : '';\r\n\r\n          this.xMax = resp.data.x_max;\r\n          this.xMin = resp.data.x_min;\r\n\r\n          this.data = resp.data.data;\r\n\r\n          // EXPERIMENTAL\r\n          if(this.graph_type == 'nutrient_ppm_avg'){\r\n            this.yMax = resp.data.y_max;\r\n            this.yMin = resp.data.y_min;\r\n          } else {\r\n            this.yMax = null;\r\n            this.yMin = null;\r\n          }\r\n          // EXPERIMENTAL\r\n\r\n          this.yMaxBackup = resp.data.y_max; // used with toggle switch\r\n          this.yMinBackup = resp.data.y_min; // used with toggle switch\r\n\r\n          this.full   = resp.data.full;\r\n          this.refill = resp.data.refill;\r\n\r\n          this.lastDate = resp.data.last_date.replace(\":\", '-');\r\n          this.exportFileName = resp.data.graph.field_name + '-' + this.graph_type + '-' + this.$route.params.node_address + '-' + this.lastDate;\r\n\r\n          this.plotOptions = resp.data.graph.plotOptions;\r\n          this.chartTitle = resp.data.graph.title;\r\n          \r\n          this.series = resp.data.graph.series.filter( (series) => { if(series.data){ return series.data.length > 0; } else return false; });\r\n\r\n          this.lastTimestamp = resp.data.x_max;\r\n\r\n          if(this.graph_type == 'nutrient' || this.graph_type == 'nutrient_ppm'){\r\n            if(this.zoomOrDrag){\r\n              this.enableSeriesDragDrop();\r\n            } else {\r\n              this.disableSeriesDragDrop();\r\n            }\r\n          } else {\r\n            this.disableSeriesDragDrop();\r\n          }\r\n\r\n          if(this.graph_type == 'nutrient_ppm_avg'){\r\n            this.showPlotLines();\r\n            this.setupCustomTooltipstraight();\r\n          } \r\n          else {\r\n            this.hidePlotLines();\r\n            this.removeCustomTooltip();\r\n          }\r\n\r\n          this.related_nodes = resp.data.related_nodes;\r\n          this.$refs.hchart.chart.reflow();\r\n        }\r\n        setTimeout(() => { this.in_progress = false; this.bInitialQuery = false; }, 1);\r\n        return resp;\r\n      });\r\n    },\r\n\r\n    maybeReloadGraphData(){\r\n      if(this.in_progress == true){ return; }\r\n      this.loadGraphData();\r\n    },\r\n\r\n    changeDateRange(){\r\n      if(this.in_progress == true){ return; }\r\n      if(this.graph_start_date == ''){ return; }\r\n      this.loadGraphData();\r\n    },\r\n\r\n    enableSeriesDragDrop(){\r\n      if(this.series && this.series.length){\r\n\r\n        // Enable shared tooltip\r\n        this.chartOptions.tooltip = { shared: true };\r\n        // Enable custom Reset button\r\n        this.resetButton.enabled = true;\r\n\r\n        this.series.forEach((series, idx) => {\r\n          // Set custom Per Series Data\r\n          this.series[idx].custom = {\r\n            moved: false\r\n          };\r\n          // Enable DnD for this range of series only\r\n          this.series[idx].dragDrop = {\r\n            draggableX: false,\r\n            draggableY: true,\r\n            dragMinY:   0,\r\n            dragMaxY:   100,\r\n            groupBy:    'grp'\r\n          };\r\n          // Track changes\r\n          this.series[idx].point = {\r\n            events: {\r\n              dragStart: function(){ \r\n                this.series.options.custom.moved = true;\r\n              },\r\n            }\r\n          };\r\n          // Format tooltip: Hide value once series was moved\r\n          this.series[idx].tooltip = {\r\n            pointFormatter: function() { \r\n              return '<span style=\"color:' + this.series.color + ';\">‚óè</span> ' + this.series.name + ': <b>' + \r\n                (this.series.options.custom.moved ? '' : Highcharts.numberFormat(this.y, 2)) + '</b><br/>';\r\n            }\r\n          };\r\n        });\r\n\r\n        // Lock in Y Max/Min\r\n        if(this.graph_type != 'ave'){\r\n          this.yMax = this.yMaxBackup;\r\n          this.yMin = this.yMinBackup;\r\n        }\r\n\r\n        this.chartTriggerChange();\r\n      }\r\n    },\r\n\r\n    disableSeriesDragDrop(){\r\n      if(this.series && this.series.length){\r\n\r\n        // Disable drag\r\n        this.series.forEach((series, idx) => {\r\n          this.series[idx].dragDrop = {\r\n            draggableX: false,\r\n            draggableY: false,\r\n          };\r\n        });\r\n        // Disable shared tooltip\r\n        this.chartOptions.tooltip = { shared: false };\r\n        // Disable custom Reset button\r\n        this.resetButton.enabled = false;\r\n\r\n        // Disable Y Max/Min\r\n        if(this.graph_type != 'ave'){\r\n          this.yMax = null;\r\n          this.yMin = null;\r\n        }\r\n\r\n        this.chartTriggerChange();\r\n      }\r\n    },\r\n\r\n    toggleSeriesDragDrop(){\r\n      // Zoom\r\n      if(this.zoomOrDrag){\r\n        this.enableSeriesDragDrop();\r\n      // Drag\r\n      } else {\r\n        this.disableSeriesDragDrop();\r\n      }\r\n    },\r\n\r\n    showPlotLines(){\r\n      this.plotLines = [\r\n        { /* Full Line */\r\n          value: this.full,\r\n          color: '#00F',\r\n          width: 2,\r\n          label: {\r\n            x:0,\r\n            align:'right',\r\n            formatter: () => { return 'Full: ' + this.full; }\r\n          }\r\n        },\r\n        { /* Refill Line */\r\n          value: this.refill,\r\n          color: '#D26761',\r\n          width: 2,\r\n          label: {\r\n            x:0,\r\n            align:'right',\r\n            formatter: () => { return 'Refill: ' + this.refill; }\r\n          }\r\n        }\r\n      ];\r\n    },\r\n\r\n    hidePlotLines(){\r\n      this.plotLines = [];\r\n    },\r\n\r\n    // Hack to trigger chart update via faux change\r\n    chartTriggerChange(){\r\n      this.series.push({ type:'line', name: 'Faux', data:[] });\r\n      this.series.pop();\r\n    },\r\n\r\n    exportGraphCSV(){\r\n\r\n      this.zoomOrDrag = false;\r\n\r\n      // accessing internal series data from the outside\r\n      let series = this.$refs.hchart.chart.series;\r\n      try {\r\n        for(var i = 0; i < series.length; i++){\r\n          if(typeof series[i].options.custom.moved !== \"undefined\"){\r\n            if(series[i].options.custom.moved == true){\r\n              this.seriesAdjusted = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      } catch(err){}\r\n\r\n      if(this.seriesAdjusted){\r\n        this.resetSeriesData().then((resp) => {\r\n          this.$refs.hchart.chart.downloadCSV();\r\n        });\r\n      } else {\r\n        this.$refs.hchart.chart.downloadCSV();\r\n      }\r\n    },\r\n\r\n    resetSeriesData(){\r\n      this.seriesAdjusted = false;\r\n      return this.loadGraphData();\r\n    },\r\n\r\n    setupCustomTooltip(){\r\n      for(var i = 0; i < this.series.length; i++){\r\n        if(this.series[i].name == 'Average'){\r\n          this.series[i].tooltip = {\r\n            pointFormatter: function () {\r\n              let str = '<span style=\"color:' + this.series.color + ';\">‚óè</span> ' + this.series.name + ': <b>' + this.y + '</b><br>';\r\n              return str;\r\n            }\r\n          };\r\n        }\r\n      }\r\n    },\r\n\r\n    setupCustomTooltipstraight(){\r\n      for(var i = 0; i < this.series.length; i++){\r\n          this.series[i].tooltip = {\r\n            pointFormatter: function () {\r\n              let str = '<span style=\"font-size:25px; color:black;\">‚óè</span> ' + this.series.name + ': <b>' + this.y + '</b><br>';\r\n              return str;\r\n            }\r\n          };\r\n      }\r\n    },\r\n\r\n    removeCustomTooltip(){\r\n      for(var i = 0; i < this.series.length; i++){\r\n        if(this.series[i].tooltip && this.series[i].tooltip.pointFormatter){\r\n          delete this.series[i].tooltip.pointFormatter;\r\n        }\r\n      }\r\n    },\r\n\r\n    goToManage(){\r\n      this.$router.push({\r\n        name: 'nutrients_edit',\r\n        params: { node_address: this.current_node }\r\n      });\r\n    },\r\n\r\n    afterSetExtremes(e)\r\n    {\r\n      // initial load\r\n      if(e.trigger == null){ \r\n        if(this.bInitialQuery){\r\n          this.initial_start_date = this.xMin;\r\n          this.initial_end_date = this.xMax;\r\n          this.bInitialQuery = false;\r\n        }\r\n      } else {\r\n        if(e.target.chart.resetZoomButton){\r\n          this.selection_start = e.min;\r\n          this.selection_end = e.max;\r\n        } else {\r\n          this.selection_start = this.initial_start_date;\r\n          this.selection_end = this.initial_end_date;\r\n        }\r\n        this.maybeReloadGraphData();\r\n      }\r\n    },\r\n  },\r\n\r\n  created() {\r\n    var today = new Date();\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    this.date_now = today = yyyy + '-' + mm + '-' + dd;\r\n  },\r\n\r\n  mounted() {\r\n    this.loadGraphData();\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.highcharts-tooltip {\r\n  pointer-events: auto !important;\r\n}\r\n\r\n/* .highcharts-tooltip-container .highcharts-tooltip>span {\r\n  min-width: 400px;\r\n  max-width: 400px;\r\n  white-space: normal;\r\n  overflow-y:scroll !important;\r\n  height:auto !important;\r\n  white-space:normal !important; \r\n}\r\n\r\n.highcharts-tooltip span {\r\n    height:auto !important;\r\n    width:400px !important;\r\n    max-width:400px !important;\r\n    overflow-y:scroll !important;\r\n    white-space:normal !important; \r\n} */\r\n\r\n.highcharts-tooltip-box span:first-child{\r\n    font-size:15px;\r\n    color:#fff;\r\n    white-space: nowrap;\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n    white-space: nowrap;\r\n    margin: 4px, 4px;\r\n    padding: 18px;\r\n    background-color: #00a04c;\r\n    width: auto !important;\r\n    right: 0 !important;\r\n    margin: 0 auto !important;\r\n    left:0 !important;\r\n    top:0 !important;\r\n    text-align:center;\r\n}\r\n\r\n.highcharts-tooltip-box, .highcharts-tooltip {\r\n    right: 0 !important;\r\n    margin: 0 auto !important;\r\n    left:0 !important;\r\n}\r\n\r\n.highcharts-tooltip-box {\r\n  top: 138px !important;\r\n}\r\n\r\n.highcharts-tooltip {\r\n  top:-88px !important;\r\n}\r\n\r\n.highcharts-label-box {\r\n  fill: transparent;\r\n}\r\n\r\n.date_of_reading {\r\n  text-align: center;\r\n  display:block;\r\n  position:sticky;\r\n  padding:5px !important;\r\n}\r\n\r\n.graph_margin {\r\n  margin-top:-100px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NutrientsGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NutrientsGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NutrientsGraph.vue?vue&type=template&id=2ea246c4&\"\nimport script from \"./NutrientsGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./NutrientsGraph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NutrientsGraph.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n"],"sourceRoot":""}