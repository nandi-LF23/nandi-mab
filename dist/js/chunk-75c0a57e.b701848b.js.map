{"version":3,"sources":["webpack:///./src/views/Pages/WellsTable.vue?ded1","webpack:///src/views/Pages/WellsTable.vue","webpack:///./src/views/Pages/WellsTable.vue?0513","webpack:///./src/views/Pages/WellsTable.vue","webpack:///./src/util/mab-utils.js","webpack:///./src/views/Pages/WellsTable.vue?3c8b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","value","expression","on","loadWells","model","callback","$$v","perPage","entities","length","filterEntity","_l","e","key","id","company_name","_e","filterText","tableColumns","tableData","bInitialQuery","sortingChanged","$event","scopedSlots","_u","fn","data","userCan","item","params","node_address","_s","style","calcLastReadingColor","loading","handleGraph","index","handleManage","proxy","slot","Math","min","currentPage","totalRows","staticRenderFns","mixins","components","tableLoading","filterable","label","sortable","tdClass","sortByFormatted","formatter","sortBy","sortDir","canAction","methods","$axios","post","cur_page","per_page","initial","filter","entity","sort_by","sort_dir","then","thClass","row","$router","push","sortDesc","watch","mounted","component","obj","color","date_diff","h","d","days","y","m","isAdmin","email","$store","getters","isDistributor","isRestricted","permission","subsystem","object_id","object_type","userLimits","convertNodeTypeToGraphRouteName","type","convertNodeTypeToSubsystem","convertToInches","val","replace","parseInt","convertToIndex","truncateString","str","substring"],"mappings":"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","file":"js/chunk-75c0a57e.b701848b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"wells\"}},[_c('b-row',{staticClass:\"py-4\",attrs:{\"align-v\":\"center\"}},[_c('b-col',[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0 mr-5\"},[_vm._v(\"Well Controls\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mab_spinner light right\"})])],1)],1),_c('b-container',{staticClass:\"mt--6\",attrs:{\"fluid\":\"\"}},[_c('card',{staticClass:\"no-border-card\",attrs:{\"body-classes\":\"px-0 pb-1\",\"footer-classes\":\"pb-2\"}},[_c('b-row',{staticClass:\"nomargin\"},[_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-form-select',{on:{\"change\":_vm.loadWells},model:{value:(_vm.perPage),callback:function ($$v) {_vm.perPage=$$v},expression:\"perPage\"}},[_c('b-form-select-option',{attrs:{\"value\":5}},[_vm._v(\"5\")]),_c('b-form-select-option',{attrs:{\"value\":10}},[_vm._v(\"10\")]),_c('b-form-select-option',{attrs:{\"value\":25,\"selected\":\"\"}},[_vm._v(\"25\")]),_c('b-form-select-option',{attrs:{\"value\":50}},[_vm._v(\"50\")])],1)],1),_c('b-col',{attrs:{\"md\":\"\"}},[(_vm.entities && _vm.entities.length && _vm.entities.length > 1)?_c('el-select',{staticClass:\"fullwidth\",attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"Filter by Entity..\"},on:{\"change\":_vm.loadWells},model:{value:(_vm.filterEntity),callback:function ($$v) {_vm.filterEntity=$$v},expression:\"filterEntity\"}},_vm._l((_vm.entities),function(e){return _c('el-option',{key:e.id,attrs:{\"value\":e.id,\"label\":e.company_name}})}),1):_vm._e()],1),_c('b-col',{attrs:{\"md\":\"\"}},[_c('base-input',{attrs:{\"prepend-icon\":\"fas fa-search\"}},[_c('b-input',{attrs:{\"debounce\":1000,\"placeholder\":\"Search...\"},on:{\"update\":_vm.loadWells},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}})],1)],1)],1),_c('b-row',{staticClass:\"nomargin\"},[_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-table',{attrs:{\"striped\":\"\",\"bordered\":\"\",\"outlined\":\"\",\"small\":\"\",\"stacked\":\"lg\",\"responsive\":\"\",\"show-empty\":\"\",\"primary-key\":\"node_address\",\"no-local-sorting\":\"\",\"fields\":_vm.tableColumns,\"items\":_vm.tableData,\"busy\":_vm.bInitialQuery},on:{\"sort-changed\":_vm.sortingChanged,\"update:busy\":function($event){_vm.bInitialQuery=$event}},scopedSlots:_vm._u([{key:\"cell(field_name)\",fn:function(data){return [_c('strong',[(_vm.userCan('Graph', 'Well Controls', data.item.id, 'O'))?_c('router-link',{attrs:{\"to\":{ \n                    name: 'well_controls_graph',\n                    params: { node_address: data.item.node_address }\n                  }}},[_vm._v(\"\\n                  \"+_vm._s(data.value)+\"\\n                \")]):[_vm._v(\"\\n                  \"+_vm._s(data.value)+\"\\n                \")]],2)]}},{key:\"cell(date_time)\",fn:function(data){return [_c('div',{style:('color:' + _vm.calcLastReadingColor(data.item))},[_vm._v(_vm._s(data.value))])]}},{key:\"cell()\",fn:function(data){return [_vm._v(\"\\n              \"+_vm._s(data.value)+\"\\n            \")]}},(_vm.canAction)?{key:\"cell(actions)\",fn:function(data){return [_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('b-button',{staticClass:\"btn\",attrs:{\"disabled\":!_vm.userCan('Graph', 'Well Controls', data.item.id, 'O') || _vm.loading,\"variant\":\"outline-primary\",\"size\":\"sm\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.handleGraph(data.index, data.item)}}},[_vm._v(\"\\n                  Graph\\n                  \")]),_c('b-button',{staticClass:\"btn\",attrs:{\"disabled\":!_vm.userCan('Edit', 'Well Controls', data.item.id, 'O') || _vm.loading,\"variant\":\"outline-primary\",\"size\":\"sm\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.handleManage(data.index, data.item)}}},[_vm._v(\"\\n                  Manage\\n                  \")])],1)]}}:null,{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center\"},[_c('div',{staticClass:\"mab_spinner\"})])]},proxy:true},{key:\"emptyfiltered\",fn:function(){return [_c('div',{staticClass:\"text-center\"},[_vm._v(\"\\n                No matches found\\n              \")])]},proxy:true},{key:\"empty\",fn:function(){return [_c('div',{staticClass:\"text-center\"},[_vm._v(\"\\n                No entries found\\n              \")])]},proxy:true}],null,true)})],1)],1),_c('div',{staticClass:\"align-right\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_vm._v(\"\\n            Showing \"+_vm._s(Math.min(1 + (_vm.perPage * (_vm.currentPage-1)), _vm.totalRows))+\" to \"+_vm._s(Math.min((_vm.perPage*(_vm.currentPage-1)) + _vm.perPage, _vm.totalRows))+\" of \"+_vm._s(_vm.totalRows)+\" entries\\n          \")]),_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-pagination',{attrs:{\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"right\"},on:{\"input\":_vm.loadWells},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"content\">\n    <base-header class=\"pb-6\" type=\"wells\">\n      <b-row align-v=\"center\" class=\"py-4\">\n        <b-col>\n          <h6 class=\"h2 text-white d-inline-block mb-0 mr-5\">Well Controls</h6>\n          <div v-show='loading' class='mab_spinner light right'></div>\n        </b-col>\n      </b-row>\n    </base-header>\n    <b-container fluid class=\"mt--6\">\n\n      <card class=\"no-border-card\" body-classes=\"px-0 pb-1\" footer-classes=\"pb-2\">\n\n        <b-row class='nomargin'>\n          <b-col md>\n            <b-form-select v-model=\"perPage\" @change=\"loadWells\">\n              <b-form-select-option :value=\"5\">5</b-form-select-option>\n              <b-form-select-option :value=\"10\">10</b-form-select-option>\n              <b-form-select-option :value=\"25\" selected>25</b-form-select-option>\n              <b-form-select-option :value=\"50\">50</b-form-select-option>\n            </b-form-select>\n          </b-col>\n          <b-col md>\n            <el-select v-if=\"entities && entities.length && entities.length > 1\"\n              class=\"fullwidth\"\n              clearable\n              filterable\n              placeholder=\"Filter by Entity..\"\n              v-model=\"filterEntity\"\n              @change=\"loadWells\">\n              <el-option v-for=\"e in entities\" :value=\"e.id\" :label=\"e.company_name\" :key=\"e.id\"></el-option>\n            </el-select>\n          </b-col>\n          <b-col md>\n            <base-input prepend-icon=\"fas fa-search\">\n              <b-input v-model=\"filterText\"\n                :debounce=\"1000\"\n                @update=\"loadWells\"\n                placeholder=\"Search...\">\n              </b-input>\n            </base-input>\n          </b-col>\n        </b-row>\n\n        <b-row class='nomargin'>\n          <b-col md>\n            <b-table\n              striped\n              bordered\n              outlined\n              small\n              stacked=\"lg\"\n              responsive\n              show-empty\n              primary-key=\"node_address\"\n              no-local-sorting\n              @sort-changed=\"sortingChanged\"\n              :fields=\"tableColumns\"\n              :items=\"tableData\"\n              :busy.sync=\"bInitialQuery\">\n\n              <template #cell(field_name)=\"data\">\n                <strong>\n                  <router-link v-if=\"userCan('Graph', 'Well Controls', data.item.id, 'O')\"\n                    :to=\"{ \n                      name: 'well_controls_graph',\n                      params: { node_address: data.item.node_address }\n                    }\">\n                    {{ data.value }}\n                  </router-link>\n                  <template v-else>\n                    {{ data.value }}\n                  </template>\n                </strong>\n              </template>\n\n              <template #cell(date_time)=\"data\">\n                <div :style=\"'color:' + calcLastReadingColor(data.item)\">{{ data.value }}</div>\n              </template>\n\n              <template #cell()=\"data\">\n                {{ data.value }}\n              </template>\n\n              <template #cell(actions)=\"data\" v-if=\"canAction\">\n                  \n                <div class=\"d-flex justify-content-center\">\n                    <b-button\n                      :disabled=\"!userCan('Graph', 'Well Controls', data.item.id, 'O') || loading\"\n                      @click=\"handleGraph(data.index, data.item)\"\n                      class=\"btn\"\n                      variant=\"outline-primary\"\n                      size=\"sm\"\n                      icon>\n                    Graph\n                    </b-button>\n                    <b-button\n                      :disabled=\"!userCan('Edit', 'Well Controls', data.item.id, 'O') || loading\"\n                      @click=\"handleManage(data.index, data.item)\"\n                      class=\"btn\"\n                      variant=\"outline-primary\"\n                      size=\"sm\"\n                      icon>\n                    Manage\n                    </b-button>\n                </div>\n\n              </template>\n\n              <template #table-busy>\n                <div class=\"text-center\">\n                  <div class='mab_spinner'></div>\n                </div>\n              </template>\n\n              <template #emptyfiltered>\n                <div class=\"text-center\">\n                  No matches found\n                </div>\n              </template>\n\n              <template #empty>\n                <div class=\"text-center\">\n                  No entries found\n                </div>\n              </template>\n\n            </b-table>\n\n          </b-col>\n        </b-row>\n\n        <div slot=\"footer\" class='align-right'>\n          <b-row>\n            <b-col md>\n              Showing {{ Math.min(1 + (perPage * (currentPage-1)), totalRows) }} to {{ Math.min((perPage*(currentPage-1)) + perPage, totalRows)  }} of {{ totalRows }} entries\n            </b-col>\n            <b-col md>\n              <b-pagination @input=\"loadWells\" v-model=\"currentPage\" :total-rows=\"totalRows\" :per-page=\"perPage\" align=\"right\"></b-pagination>\n            </b-col>\n          </b-row>\n        </div>\n \n      </card>\n\n    </b-container>\n    </div>\n</template>\n<script>\n\nimport { parse } from 'date-fns';\nimport mab_utils from '../../util/mab-utils';\nimport { Select, Option } from 'element-ui';\n\nexport default {\n\n  mixins: [ mab_utils ],\n\n  components: {\n    [Select.name]: Select,\n    [Option.name]: Option\n  },\n\n  data() {\n    return {\n      loading: false,\n      tableLoading: false,\n      bInitialQuery: true,\n      filterable: ['field_name','node_address','company_name'],\n      tableColumns: [\n        {\n          key: 'field_name',\n          label: 'Field Name',\n          sortable: true,\n          tdClass: 'valign'\n        },\n        {\n          key: 'node_address',\n          label: 'Node Address',\n          sortable: true,\n          tdClass: 'valign'\n        },\n        {\n          key: 'commissioning_date',\n          label: 'Installed',\n          sortable: true,\n          tdClass: 'valign'\n        },\n        {\n          key: 'date_time',\n          label: 'Last Update',\n          sortable: true,\n          tdClass: 'valign',\n          sortByFormatted: true,\n          formatter: (v, k, i) => {\n            if(v == 'N/A'){ return null; }\n            return v;\n          }\n        },\n        {\n          key: 'measurement_type',\n          label: 'Unit of Reading',\n          sortable: true,\n          tdClass: 'valign'\n        }\n      ],\n      tableData: [],\n      totalRows: 1,\n      currentPage: 1,\n      perPage: 25,\n      filterText: '',\n      filterEntity: null,\n      entities: [],\n      sortBy: 'date_time',\n      sortDir: 'desc',\n\n      canAction: false\n    };\n  },\n\n  methods: {\n\n    loadWells()\n    {\n\n      this.loading = true;\n\n      this.$axios.post(\"/api/WMTable\", {\n        cur_page: this.currentPage,\n        per_page: this.perPage,\n        initial:  this.bInitialQuery,\n        filter:   this.filterText,\n        entity:   this.filterEntity,\n        sort_by:  this.sortBy,\n        sort_dir: this.sortDir ? 'desc' : 'asc'\n      })\n      .then(resp => {\n\n        this.loading = false;\n        this.bInitialQuery = false;\n\n        if(this.isAdmin() || this.userLimits('View', 'Well Controls', 'C').length > 1){\n          this.tableColumns.unshift({\n            key: 'company_name',\n            label: 'Entity',\n            sortable: true,\n            tdClass: 'valign'\n          });\n        }\n\n        if(this.isAdmin() || this.userCan('Graph', 'Well Controls') || this.userCan('Edit', 'Well Controls')){\n          this.canAction = true;\n          this.tableColumns.push({\n            key: 'actions',\n            label: 'Actions',\n            thClass: 'halign'\n          });\n        }\n\n        this.tableData = resp.data.rows;\n        this.totalRows = resp.data.total;\n        this.entities  = resp.data.entities;\n\n        if(this.totalRows == 0){ this.currentPage = 1; }\n\n      });\n    },\n    \n    handleGraph(index, row) {\n      this.$router.push({\n        name: \"well_controls_graph\",\n        params: { node_address: row.node_address }\n      });\n    },\n\n    handleManage(index, row) {\n      this.$router.push({\n        name: \"well_controls_edit\",\n        params:{ node_address: row.node_address }\n      });\n    },\n\n    sortingChanged(e)\n    {\n      this.sortBy  = e.sortBy;\n      this.sortDir = e.sortDesc;\n      this.loadWells();\n    }\n\n  },\n\n  // filter change reset page\n  watch: { filterText: function(n,o) { this.currentPage = n != o ? 1 : this.currentPage } },\n\n  mounted()\n  {\n    this.loadWells();\n  }\n};\n</script>\n<style>\n  .no-border-card .card-footer{\n    border-top: 0;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WellsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WellsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WellsTable.vue?vue&type=template&id=727029d1&\"\nimport script from \"./WellsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./WellsTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WellsTable.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  methods: {\n    \n    // Calculate Node's Last Reading Date Color\n    calcLastReadingColor(obj)\n    {\n      let color = 'black';\n      if(typeof obj.date_diff !== \"undefined\" && obj.date_diff != 'N/A'){\n        if(obj.date_diff.h < 3){ color = 'green'; }\n        if(obj.date_diff.h >= 3 && obj.date_diff.h < 6){ color = 'orange'; }\n        if(obj.date_diff.h >= 6){ color = 'red'; }\n        if(obj.date_diff.d > 0 || obj.date_diff.days > 0){ color = 'red'; }\n        if(obj.date_diff.y > 0 || obj.date_diff.m > 0 || obj.date_diff.d > 0 || obj.date_diff.days > 0){ color = 'red'; }\n      }\n      return color;\n    },\n\n    isAdmin(email = '')\n    {\n      return this.$store.getters.isAdmin(email);\n    },\n\n    isDistributor(email = '')\n    {\n      return this.$store.getters.isDistributor(email);\n    },\n\n    isRestricted()\n    {\n      return this.$store.getters.isRestricted();\n    },\n\n    userCan(permission, subsystem, object_id = null, object_type = '')\n    {\n      return this.$store.getters.userCan(permission, subsystem, object_id, object_type);\n    },\n\n    userLimits(permission, subsystem, object_type = ''){\n      return this.$store.getters.userLimits(permission, subsystem, object_type);\n    },\n\n    convertNodeTypeToGraphRouteName(type){\n      if(type == 'Soil Moisture'){\n        return 'soil_moisture_graph';\n      } else if(type == 'Nutrients'){\n        return 'nutrients_graph';\n      } else if(type == 'Wells'){\n        return 'well_controls_graph';\n      } else if(type == 'Water Meter'){\n        return 'meters_graph';\n      } else {\n        return '';\n      }\n    },\n\n    convertNodeTypeToSubsystem(type){\n      if(type == 'Soil Moisture'){\n        return 'Soil Moisture';\n      } else if(type == 'Nutrients'){\n        return 'Nutrients';\n      } else if(type == 'Wells'){\n        return 'Well Controls';\n      } else if(type == 'Water Meter'){\n        return 'Meters';\n      } else {\n        return '';\n      }\n    },\n\n    /* To be used exclusively with Sensor Dropdowns / Checkbox Lists */\n    convertToInches(val){\n      val = val.replace('mm','');\n      val = parseInt(parseInt(val) / 25) + '\"';\n      return val;\n    },\n\n    /* \" */\n    convertToIndex(val){\n      val = val.replace('mm','');\n      val = parseInt(parseInt(val) / 100);\n      return val;\n    },\n\n    truncateString(str){\n      return str.length <= 24 ? str: (str.substring(0, 21) + '...');\n    }\n\n  }\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WellsTable.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}