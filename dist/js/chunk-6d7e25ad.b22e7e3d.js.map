{"version":3,"sources":["webpack:///./src/views/Pages/SoilMoistureGraph.vue?cd8d","webpack:///src/views/Pages/SoilMoistureGraph.vue","webpack:///./src/views/Pages/SoilMoistureGraph.vue?ef66","webpack:///./src/views/Pages/SoilMoistureGraph.vue","webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","field_name","current_node","directives","name","rawName","value","expression","slot","modifiers","node_id","userCan","loading","nativeOn","$event","exportGraphCSV","goToManage","related_nodes","length","model","callback","$$v","_l","node","index","key","$route","params","node_address","_e","graph_type","sub_days","scopedSlots","_u","fn","ref","focus","blur","maxDate","date_now","on","graph_start_date","chartOptions","chartUpdateArgs","toggleSeriesDragDrop","zoomOrDrag","staticRenderFns","Highcharts","mixins","components","flatPicker","data","in_progress","data_grouping","bInitialQuery","bNotified","labelsEnabled","reversed","series","duration","seriesAdjusted","stacking","lastDate","exportFileName","initial_start_date","initial_end_date","selection_start","selection_end","yMaxBackup","yMinBackup","yMin","yMax","xMin","xMax","lastTimestamp","full","refill","plotOptions","dataGrouping","enabled","lineWidth","states","inactive","opacity","chartTitle","text","widthAdjust","plotLines","resetButton","onclick","computed","credits","chart","type","zoomType","panning","panKey","height","resetZoomButton","position","x","y","exporting","buttons","contextButton","exportButton","menuItems","printButton","filename","colors","xAxis","min","max","dateTimeLabelFormats","millisecond","second","minute","hour","day","week","month","year","tickPosition","labels","rotation","crosshair","events","setExtremes","c","setTimeout","e","afterSetExtremes","yAxis","tickInterval","minPadding","maxPadding","title","legend","layout","align","verticalAlign","tooltip","shared","watch","val","handler","deep","changeDateRange","maybeReloadGraphData","methods","loadGraphData","$refs","hchart","showLoading","$axios","post","$store","state","baseUrl","is_initial","then","swal","showCancelButton","confirmButtonText","buttonsStyling","customClass","cancelButton","confirmButton","resp","enableSeriesDragDrop","console","forEach","moved","draggableX","draggableY","dragMinY","dragMaxY","groupBy","dragStart","options","custom","pointFormatter","color","chartTriggerChange","disableSeriesDragDrop","showPlotLines","width","label","formatter","hidePlotLines","push","pop","resetSeriesData","downloadCSV","setupCustomTooltip","i","str","removeCustomTooltip","$router","created","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","mounted","component","toLength","repeat","defined","module","exports","that","maxLength","fillString","left","S","stringLength","fillStr","undefined","intMaxLength","fillLen","stringFiller","call","Math","ceil","slice","toInteger","count","res","n","Infinity","RangeError","$export","$pad","userAgent","WEBKIT_BUG","test","P","F","arguments"],"mappings":"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","file":"js/chunk-6d7e25ad.b22e7e3d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"soilmoisture\"}},[_c('b-row',{staticClass:\"py-4\",attrs:{\"align-v\":\"center\"}},[_c('b-col',[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0 mr-5\"},[_vm._v(\"Soil Moisture - \"+_vm._s(_vm.field_name)+\" ( \"+_vm._s(_vm.current_node)+\" ) -\\n          Graph\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mab_spinner light right\"})])],1)],1),_c('div',{staticClass:\"container-fluid mt--6\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('card',{attrs:{\"body-classes\":\"px-0 py-0\"}},[_c('template',{slot:\"header\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('base-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"btn\",attrs:{\"disabled\":!_vm.node_id || !_vm.userCan('Export', 'Soil Moisture', _vm.node_id, 'O') || _vm.loading,\"size\":\"sm\",\"type\":\"primary\",\"title\":\"Export device data to a CSV file.\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.exportGraphCSV()}}},[_vm._v(\"\\n                  Export CSV\\n                \")]),_c('base-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"btn\",attrs:{\"disabled\":!_vm.node_id || !_vm.userCan('Edit', 'Soil Moisture', _vm.node_id, 'O') || _vm.loading,\"size\":\"sm\",\"type\":\"primary\",\"title\":\"Navigate to the soil moisture node's management screen\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.goToManage()}}},[_vm._v(\"\\n                  Manage SM\\n                \")])],1)])]),_c('div',{staticClass:\"card-body\"},[_c('b-row',[(_vm.related_nodes.length > 1)?_c('b-col',{attrs:{\"sm\":\"\"}},[_c('base-input',{attrs:{\"label\":\"Current Node\"}},[_c('el-select',{attrs:{\"disabled\":_vm.loading},model:{value:(_vm.current_node),callback:function ($$v) {_vm.current_node=$$v},expression:\"current_node\"}},[_vm._l((_vm.related_nodes),function(node,index){return [_c('el-option',{key:index,attrs:{\"label\":node,\"value\":node,\"selected\":_vm.$route.params.node_address}})]})],2)],1)],1):_vm._e(),_c('b-col',{attrs:{\"sm\":\"\"}},[_c('base-input',{attrs:{\"label\":\"Graph Type\"}},[_c('el-select',{attrs:{\"disabled\":_vm.loading},model:{value:(_vm.graph_type),callback:function ($$v) {_vm.graph_type=$$v},expression:\"graph_type\"}},[_c('el-option',{attrs:{\"label\":\"Separate Levels\",\"value\":\"sm\",\"selected\":\"\"}}),_c('el-option',{attrs:{\"label\":\"Stacked Graph\",\"value\":\"stack\"}}),_c('el-option',{attrs:{\"label\":\"Sum\",\"value\":\"sum\"}}),_c('el-option',{attrs:{\"label\":\"Average\",\"value\":\"ave\"}}),_c('el-option',{attrs:{\"label\":\"Temperature\",\"value\":\"temp\"}}),_c('el-option',{attrs:{\"label\":\"Technical\",\"value\":\"tech\"}})],1)],1)],1),_c('b-col',{attrs:{\"sm\":\"\"}},[_c('base-input',{attrs:{\"label\":\"Range\"}},[_c('el-select',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],attrs:{\"disabled\":_vm.loading,\"title\":\"Choose the time range of data to view.\"},model:{value:(_vm.sub_days),callback:function ($$v) {_vm.sub_days=$$v},expression:\"sub_days\"}},[_c('el-option',{attrs:{\"label\":\"Last 24 Hours\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"Last Week\",\"value\":\"7\"}}),_c('el-option',{attrs:{\"label\":\"Last Two Weeks\",\"value\":\"14\"}}),_c('el-option',{attrs:{\"label\":\"Last Month\",\"value\":\"31\"}}),_c('el-option',{attrs:{\"label\":\"Last Year\",\"value\":\"365\"}}),_c('el-option',{attrs:{\"label\":\"Custom\",\"value\":\"custom\"}})],1)],1)],1),_c('b-col',{attrs:{\"sm\":\"\"}},[_c('base-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sub_days=='custom'),expression:\"sub_days=='custom'\"}],attrs:{\"label\":\"Start Date\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar focus = ref.focus;\nvar blur = ref.blur;\nreturn _c('flat-picker',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"form-control datepicker\",attrs:{\"config\":{maxDate: _vm.date_now },\"placeholder\":\"Custom Date\",\"title\":\"A custom start date allows a custom range of data to be viewed.\"},on:{\"on-open\":focus,\"on-close\":blur},model:{value:(_vm.graph_start_date),callback:function ($$v) {_vm.graph_start_date=$$v},expression:\"graph_start_date\"}})}}])})],1),_c('b-col',{attrs:{\"sm\":\"\"}})],1),_c('highcharts',{ref:\"hchart\",staticClass:\"hc\",attrs:{\"options\":_vm.chartOptions,\"update-args\":_vm.chartUpdateArgs}}),_c('b-row',[_c('b-col',{staticClass:\"text-center\"},[_c('div',{staticClass:\"d-flex flow-row justify-content-center\"},[_c('div',{staticClass:\"m-1\"},[(_vm.graph_type=='sm')?_c('b-form-checkbox',{attrs:{\"size\":\"lg\",\"switch\":\"\"},on:{\"change\":_vm.toggleSeriesDragDrop},model:{value:(_vm.zoomOrDrag),callback:function ($$v) {_vm.zoomOrDrag=$$v},expression:\"zoomOrDrag\"}},[_vm._v(\"Mode: \"+_vm._s(_vm.zoomOrDrag ? \"Drag\" : \"Zoom\")+\"\\n                    \")]):_vm._e()],1),(_vm.graph_type=='stack')?_c('b-form-checkbox',{attrs:{\"size\":\"lg\",\"switch\":\"\"},on:{\"change\":_vm.toggleSeriesDragDrop},model:{value:(_vm.zoomOrDrag),callback:function ($$v) {_vm.zoomOrDrag=$$v},expression:\"zoomOrDrag\"}},[_vm._v(\"Mode: \"+_vm._s(_vm.zoomOrDrag ? \"Drag\" : \"Zoom\")+\"\\n                  \")]):_vm._e()],1)])],1)],1)],2)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content\">\r\n    <base-header class=\"pb-6\" type=\"soilmoisture\">\r\n      <b-row align-v=\"center\" class=\"py-4\">\r\n        <b-col>\r\n          <h6 class=\"h2 text-white d-inline-block mb-0 mr-5\">Soil Moisture - {{ field_name }} ( {{ current_node }} ) -\r\n            Graph</h6>\r\n          <div v-show='loading' class='mab_spinner light right'></div>\r\n        </b-col>\r\n      </b-row>\r\n    </base-header>\r\n\r\n    <div class='container-fluid mt--6'>\r\n      <div class='row'>\r\n        <div class='col-md-12'>\r\n          <card body-classes=\"px-0 py-0\">\r\n            <template slot=\"header\">\r\n              <div class='row'>\r\n                <div class='col-md-12'>\r\n                  <base-button :disabled=\"!node_id || !userCan('Export', 'Soil Moisture', node_id, 'O') || loading\"\r\n                    @click.native=\"exportGraphCSV()\" class=\"btn\" size=\"sm\" type=\"primary\" v-b-tooltip.hover.top\r\n                    title=\"Export device data to a CSV file.\" icon>\r\n                    Export CSV\r\n                  </base-button>\r\n\r\n                  <base-button :disabled=\"!node_id || !userCan('Edit', 'Soil Moisture', node_id, 'O') || loading\"\r\n                    @click.native=\"goToManage()\" class=\"btn\" size=\"sm\" type=\"primary\" v-b-tooltip.hover.top\r\n                    title=\"Navigate to the soil moisture node's management screen\" icon>\r\n                    Manage SM\r\n                  </base-button>\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <div class=\"card-body\">\r\n\r\n              <b-row>\r\n\r\n                <b-col sm v-if=\"related_nodes.length > 1\">\r\n                  <base-input label=\"Current Node\">\r\n                    <el-select v-model=\"current_node\" :disabled=\"loading\">\r\n                      <template v-for=\"(node, index) in related_nodes\">\r\n                        <el-option :key=\"index\" :label=\"node\" :value=\"node\" :selected=\"$route.params.node_address\">\r\n                        </el-option>\r\n                      </template>\r\n                    </el-select>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col sm>\r\n                  <base-input label=\"Graph Type\">\r\n                    <el-select v-model=\"graph_type\" :disabled=\"loading\">\r\n                      <el-option label=\"Separate Levels\" value='sm' selected></el-option>\r\n                      <el-option label=\"Stacked Graph\" value='stack'></el-option>\r\n                      <el-option label=\"Sum\" value='sum'></el-option>\r\n                      <el-option label=\"Average\" value='ave'></el-option>\r\n                      <el-option label=\"Temperature\" value='temp'></el-option>\r\n                      <el-option label=\"Technical\" value='tech'></el-option>\r\n                    </el-select>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col sm>\r\n                  <base-input label=\"Range\">\r\n                    <el-select v-model=\"sub_days\" :disabled=\"loading\" v-b-tooltip.hover.top\r\n                      title=\"Choose the time range of data to view.\">\r\n                      <el-option label=\"Last 24 Hours\" value='1'></el-option>\r\n                      <el-option label=\"Last Week\" value='7'></el-option>\r\n                      <el-option label=\"Last Two Weeks\" value='14'></el-option>\r\n                      <el-option label=\"Last Month\" value='31'></el-option>\r\n                      <el-option label=\"Last Year\" value='365'></el-option>\r\n                      <el-option label=\"Custom\" value='custom'></el-option>\r\n                    </el-select>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col sm>\r\n                  <base-input v-show=\"sub_days=='custom'\" label=\"Start Date\">\r\n                    <flat-picker slot-scope=\"{focus, blur}\" @on-open=\"focus\" @on-close=\"blur\" v-model=\"graph_start_date\"\r\n                      :config=\"{maxDate: date_now }\" placeholder=\"Custom Date\" class=\"form-control datepicker\"\r\n                      v-b-tooltip.hover.top title=\"A custom start date allows a custom range of data to be viewed.\">\r\n                    </flat-picker>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col sm>\r\n                </b-col>\r\n\r\n              </b-row>\r\n\r\n              <highcharts class=\"hc\" :options=\"chartOptions\" :update-args=\"chartUpdateArgs\" ref=\"hchart\"></highcharts>\r\n\r\n              <b-row>\r\n                <b-col class='text-center'>\r\n                  <div class=\"d-flex flow-row justify-content-center\">\r\n                    <div class=\"m-1\">\r\n                      <b-form-checkbox v-if=\"graph_type=='sm'\" @change=\"toggleSeriesDragDrop\" v-model=\"zoomOrDrag\"\r\n                        size=\"lg\" switch>Mode: {{ zoomOrDrag ? \"Drag\" : \"Zoom\" }}\r\n                      </b-form-checkbox>\r\n                    </div>\r\n                    <b-form-checkbox v-if=\"graph_type=='stack'\" @change=\"toggleSeriesDragDrop\" v-model=\"zoomOrDrag\"\r\n                      size=\"lg\" switch>Mode: {{ zoomOrDrag ? \"Drag\" : \"Zoom\" }}\r\n                    </b-form-checkbox>\r\n                  </div>\r\n                  <!-- <div class=\"m-1\">\r\n                      <b-form-checkbox v-if=\"graph_type=='sm'\" v-model=\"stacking\" @change=\"toggleStacking\" size=\"lg\"\r\n                        value=\"normal\" :unchecked-value=\"false\" switch>\r\n                        Stacking: {{ stacking == 'normal' ? \"On\" : \"Off\" }}\r\n                      </b-form-checkbox>\r\n                    </div> -->\r\n            </div>\r\n            </b-col>\r\n            </b-row>\r\n        </div>\r\n        </card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-new */\r\nimport { Select, Option } from 'element-ui'\r\nimport flatPicker from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Highcharts from 'highcharts';\r\nimport mab_utils from '../../util/mab-utils';\r\nimport swal from 'sweetalert2';\r\n\r\n// Tweak to prevent Tooltip from disappearing (Testing working)\r\nHighcharts.Pointer.prototype.reset = function () { return undefined; };\r\n\r\nexport default {\r\n\r\n  mixins: [ mab_utils ],\r\n    \r\n  components: {\r\n    [Select.name]: Select,\r\n    [Option.name]: Option,\r\n    flatPicker\r\n\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      in_progress: true,\r\n\r\n      current_node: this.$route.params.node_address,\r\n      node_id: null,\r\n      field_name: null,\r\n\r\n      data_grouping: false,\r\n\r\n      graph_start_date: '',\r\n      graph_type: '',\r\n      sub_days: '',\r\n\r\n      bInitialQuery: true,\r\n      bNotified: false,\r\n\r\n      related_nodes: [],\r\n\r\n      labelsEnabled: true,\r\n\r\n      reversed: false,\r\n\r\n      date_now: '',\r\n      series: [],\r\n      chartUpdateArgs: [ true, true, { duration: 1000 } ],\r\n      seriesAdjusted: false,\r\n      zoomOrDrag: false, /* false == zoom, true == drag */\r\n      stacking: 'normal',\r\n      lastDate: null,\r\n      exportFileName: '',\r\n\r\n      initial_start_date: null,\r\n      initial_end_date: null,\r\n\r\n      selection_start: null,\r\n      selection_end:   null,\r\n\r\n      yMaxBackup: 0,\r\n      yMinBackup: 0,\r\n\r\n      yMin: null,\r\n      yMax: null,\r\n\r\n      xMin: 1000,\r\n      xMax: 0,\r\n\r\n      lastTimestamp: null,\r\n\r\n      full: 0,\r\n      refill: 0,\r\n\r\n      // yAxis: {\r\n      //   labels: {\r\n      //     enabled:false\r\n      //   }\r\n      // },\r\n\r\n      plotOptions: {\r\n        series: {\r\n          dataGrouping: {\r\n            enabled: this.data_grouping\r\n          },\r\n          lineWidth: 3,\r\n          // stacking: this.stacking,\r\n          // stickyTracking: false,\r\n          states: {\r\n            inactive: {\r\n              opacity: 1\r\n            }\r\n          }\r\n        }\r\n      },\r\n      chartTitle: {\r\n        text: \"Loading..\",\r\n        widthAdjust: -300\r\n      },\r\n      plotLines: [],\r\n      resetButton: {\r\n        text: \"Reset\",\r\n        enabled: true,\r\n        onclick: (e) => {\r\n          this.resetSeriesData();\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    chartOptions(){\r\n      return {\r\n        credits:{ enabled: false },\r\n        chart: {\r\n          type: 'line',\r\n          zoomType: this.zoomOrDrag == false ? 'x' : false,\r\n          panning: true,\r\n          panKey: 'shift',\r\n          height: 600,\r\n          resetZoomButton: { position: { x: 0, y: -50 } },\r\n        },\r\n        exporting: {\r\n          buttons: {\r\n            contextButton: { enabled: false },\r\n            exportButton: { text: 'Export', menuItems: ['downloadPNG', 'downloadJPEG', 'downloadPDF', 'downloadSVG'] },\r\n            printButton: { text: 'Print', onclick: function () { this.print(); } },\r\n            resetButton: this.resetButton\r\n          },\r\n          filename: this.exportFileName\r\n        },\r\n        colors: [\"#93a9d0\", \"#aa4644\", \"#89a54e\", \"#71588f\", \"#4298af\", \"#db843d\", \"#a99bbe\", \"#d09392\", \"#bacd96\", \"#a99bbe\"],\r\n        series: this.series,\r\n        xAxis: {\r\n          min: this.xMin,\r\n          max: this.xMax,\r\n          type: 'datetime',\r\n          dateTimeLabelFormats: {\r\n            millisecond: '%H:%M:%S.%L',\r\n            second: '%H:%M:%S',\r\n            minute: '%H:%M',\r\n            hour: '%H:%M',\r\n            day: '<span style=\"fill: #00A04C; font-weight:600\">%e %b</span>',\r\n            week: '%e %b',\r\n            month: '%b %Y',\r\n            year: '%Y'\r\n          },\r\n          tickPosition: 'inside',\r\n          labels: {\r\n            rotation:-45\r\n          },\r\n          crosshair: true,\r\n\r\n          events: {\r\n            setExtremes: function(e){\r\n              var c = this;\r\n              setTimeout(function() {\r\n                if (typeof e.min == 'undefined' && typeof e.max == 'undefined') {\r\n                  // 'zoom-reset'\r\n                  c.chart.yAxis[0].setExtremes(c.chart.yAxis[0].min, c.chart.yAxis[0].max);\r\n                } else {\r\n                  // 'zoom-in'\r\n                  c.chart.yAxis[0].setExtremes();\r\n                }\r\n              }, 1);\r\n            },\r\n            afterSetExtremes: this.afterSetExtremes\r\n          }\r\n\r\n        },\r\n        yAxis: {\r\n          tickInterval:1,\r\n          max: this.yMax,\r\n          min: this.yMin,\r\n          minPadding: 0,\r\n          maxPadding: 0,\r\n          title: { text: '' }, \r\n          plotLines: this.plotLines,\r\n          reversed: this.reversed,\r\n          labels: {\r\n            enabled: this.labelsEnabled\r\n          },\r\n        },\r\n        legend: {\r\n          layout: 'horizontal',\r\n          align: 'center',\r\n          verticalAlign: 'bottom'\r\n        },\r\n        tooltip: {\r\n          shared: true\r\n        },\r\n        plotOptions: this.plotOptions,\r\n        title: this.chartTitle\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    title: function(val){\r\n      this.chartOptions.title = val;\r\n    },\r\n    plotOptions: {\r\n      handler: function(val){\r\n        if(val.length){\r\n          this.chartOptions.plotOptions = val;\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    series: {\r\n      handler: function(val){\r\n        if(val.length){\r\n          this.chartOptions.series = val;\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    graph_start_date: function(val){\r\n      this.changeDateRange();\r\n    },\r\n    graph_type: function(val){\r\n      this.maybeReloadGraphData();\r\n    },\r\n    sub_days: function(val){\r\n      if(val == 'custom' && !this.graph_start_date){ return; }\r\n      if(val != 'custom'){ this.graph_start_date = ''; }\r\n      // Experimental\r\n      this.initial_start_date = null;\r\n      this.initial_end_date = null;\r\n      this.maybeReloadGraphData();\r\n    },\r\n    current_node: function(val){\r\n      this.bNotified = false;\r\n      this.maybeReloadGraphData();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    loadGraphData() {\r\n\r\n      this.loading = true;\r\n      this.in_progress = true;\r\n\r\n      this.$refs.hchart.chart.showLoading(this.bInitialQuery ? \"Loading...\" : \"Refreshing...\");\r\n\r\n      return this.$axios.post(this.$store.state.baseUrl+\"/api/Graph\", {\r\n        node_address: this.current_node,\r\n        graph_type: this.graph_type,\r\n        graph_start_date: this.graph_start_date,\r\n        sub_days: this.sub_days,\r\n        is_initial: this.bInitialQuery,\r\n        selection_start: this.selection_start,\r\n        selection_end: this.selection_end\r\n      }).then(resp => {\r\n\r\n        this.loading = false;\r\n        this.in_progress = true;\r\n        this.$refs.hchart.chart.hideLoading();\r\n\r\n        if(resp.data){\r\n\r\n          if(resp.data.message && resp.data.message == 'no_data'){\r\n            swal.fire({\r\n              title: 'No data found',\r\n              text: \"This node currently has no data to plot.\",\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              buttonsStyling: false,\r\n              customClass: {\r\n                cancelButton: 'btn btn-outline-primary',\r\n                confirmButton: 'btn btn-primary'\r\n              }\r\n            });\r\n            this.chartTitle.text = \"No data found\";\r\n            setTimeout(() => { this.in_progress = false; }, 1);\r\n            return;\r\n          }\r\n\r\n          if(!this.bNotified && resp.data.not_current && resp.data.last_date){\r\n            swal.fire({\r\n              title: 'No recent data found',\r\n              text: \"Last readings up to \" + resp.data.last_date + \" could be displayed.\",\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              buttonsStyling: false,\r\n              customClass: {\r\n                cancelButton: 'btn btn-outline-primary',\r\n                confirmButton: 'btn btn-primary'\r\n              }\r\n            });\r\n            this.bNotified = true;\r\n          }\r\n\r\n          this.selection_start = null;\r\n          this.selection_end = null;\r\n\r\n          // COMMON DATA\r\n          this.node_id = resp.data.node_id;\r\n          this.field_name = resp.data.field_name;\r\n          // Experimental\r\n          if(this.bInitialQuery){\r\n            this.graph_start_date = resp.data.graph_start_date;\r\n            this.graph_type = resp.data.graph_type;\r\n            this.sub_days = resp.data.sub_days;\r\n          }\r\n          this.xMax = resp.data.x_max;\r\n          this.xMin = resp.data.x_min;\r\n          //this.yMin = resp.data.y_min;\r\n\r\n          if(this.graph_type == 'ave'){\r\n            this.yMax = resp.data.y_max;\r\n            this.yMin = resp.data.y_min;\r\n          } else {\r\n            this.yMax = null;\r\n            this.yMin = null;\r\n          }\r\n\r\n          if (this.graph_type == 'stack') {\r\n            this.reversed = false;\r\n          } \r\n          // else {\r\n          //   this.reversed = false;\r\n          // }\r\n\r\n          this.yMaxBackup = resp.data.y_max; // used with toggle switch\r\n          this.yMinBackup = resp.data.y_min; // used with toggle switch\r\n\r\n          this.full   = resp.data.full;\r\n          this.refill = resp.data.refill;\r\n\r\n          this.lastDate = resp.data.last_date.replace(\":\", '-');\r\n          this.exportFileName = resp.data.graph.field_name + '-' + this.graph_type + '-' + this.$route.params.node_address + '-' + this.lastDate;\r\n\r\n          this.plotOptions = resp.data.graph.plotOptions;\r\n          this.chartTitle = resp.data.graph.title;\r\n          \r\n          this.series = resp.data.graph.series.filter( (series) => { if(series.data){ return series.data.length > 0; } else return false; });\r\n\r\n          this.lastTimestamp = resp.data.x_max;\r\n\r\n          if (this.graph_type == 'sm' || this.graph_type == 'stack'){\r\n            if(this.zoomOrDrag){\r\n              this.enableSeriesDragDrop();\r\n            } else {\r\n              this.disableSeriesDragDrop();\r\n            }\r\n          } else {\r\n            this.disableSeriesDragDrop();\r\n          }\r\n\r\n          // if (this.graph_type == 'stack') {\r\n          //   if (this.zoomOrDrag) {\r\n          //     this.enableSeriesDragDrop();\r\n          //   } else {\r\n          //     this.disableSeriesDragDrop();\r\n          //   }\r\n          // } else {\r\n          //   this.disableSeriesDragDrop();\r\n          // }\r\n\r\n          if(this.graph_type == 'ave'){\r\n            this.showPlotLines();\r\n            this.setupCustomTooltip();\r\n          } else {\r\n            this.hidePlotLines();\r\n            this.removeCustomTooltip();\r\n          }\r\n\r\n          this.related_nodes = resp.data.related_nodes;\r\n          this.$refs.hchart.chart.reflow();\r\n        }\r\n        setTimeout(() => { this.in_progress = false; this.bInitialQuery = false; }, 1);\r\n        return resp;\r\n      });\r\n    },\r\n\r\n    maybeReloadGraphData(){\r\n      if(this.in_progress == true){ return; }\r\n      this.loadGraphData();\r\n    },\r\n\r\n    changeDateRange(){\r\n\r\n      if(this.in_progress == true){ return; }\r\n      if(this.graph_start_date == ''){ return; }\r\n      this.loadGraphData();\r\n    },\r\n\r\n    enableSeriesDragDrop(){\r\n      if(this.series && this.series.length){\r\n        console.log(\"Enabling Series Drag and Drop\");\r\n        console.log(this.series);\r\n\r\n        if (this.graph_type == 'stack') {\r\n          // Remove labels on yAxis when DnD is true\r\n          this.labelsEnabled = false;\r\n        } else {\r\n          this.labelsEnabled = true;\r\n        }\r\n\r\n        // Enable shared tooltip\r\n        this.chartOptions.tooltip = { shared: true };\r\n        // Enable custom Reset button\r\n        this.resetButton.enabled = true;\r\n\r\n        this.series.forEach((series, idx) => {\r\n\r\n          // Set custom Per Series Data\r\n          this.series[idx].custom = {\r\n            moved: false\r\n          };\r\n\r\n          this.series[idx].pointStart = Date.UTC(2004, 3, 1);\r\n          this.series[idx].pointInterval = 3600 * 1000;\r\n\r\n          // Enable DnD for this range of series only\r\n          this.series[idx].dragDrop = {\r\n            draggableX: false,\r\n            draggableY: true,\r\n            dragMinY:   0,\r\n            dragMaxY:   100,\r\n            groupBy:'grp',\r\n          };\r\n\r\n          this.series[idx].dragDrop.draggableX = false;\r\n          this.series[idx].dragDrop.draggableY = true;\r\n          if(this.series[idx].name != 'Average'){\r\n            this.series[idx].dragDrop.groupBy = 'grp' + (idx+1);\r\n          } else {\r\n            this.series[idx].dragDrop.groupBy = 'grpavg';\r\n          }\r\n\r\n          // Track changes\r\n          this.series[idx].point = {\r\n            events: {\r\n              dragStart: function(){ \r\n                this.series.options.custom.moved = true;\r\n              },\r\n            }\r\n          };\r\n          // Format tooltip: Hide value once series was moved\r\n          this.series[idx].tooltip = {\r\n            pointFormatter: function() { \r\n              return '<span style=\"color:' + this.series.color + ';\">●</span> ' + this.series.name + ': <b>' + \r\n                (this.series.options.custom.moved ? '' : Highcharts.numberFormat(this.y, 2)) + '</b><br/>';\r\n            }\r\n          };\r\n        });\r\n\r\n        // Lock in Y Max/Min\r\n        // if(this.graph_type != 'ave'){\r\n        //   this.yMax = this.yMaxBackup;\r\n        //   this.yMin = this.yMinBackup;\r\n        // }\r\n\r\n        // Lock in Y Max/Min\r\n        if(this.graph_type != 'ave'){\r\n          console.log(this.$refs.hchart);\r\n          this.yMax = this.$refs.hchart.chart.yAxis[0].max;\r\n          this.yMin = this.$refs.hchart.chart.yAxis[0].min;\r\n        }\r\n\r\n        this.chartTriggerChange();\r\n      }\r\n    },\r\n\r\n    disableSeriesDragDrop(){\r\n      if(this.series && this.series.length){\r\n        console.log(\"Disabling series DnD\");\r\n\r\n        // Disable drag\r\n        this.series.forEach((series, idx) => {\r\n          // if(typeof(this.series[idx].dragDrop) === \"undefined\"){\r\n            this.series[idx].dragDrop = {\r\n              draggableX: false,\r\n              draggableY: false,\r\n              groupBy: this.series[idx].name == 'Average' ? 'grpavg' : ('grp'+(idx+1))\r\n            };\r\n          // } else {\r\n          //   this.series[idx].dragDrop.draggableX = false;\r\n          //   this.series[idx].dragDrop.draggableY = false;\r\n          // }\r\n          // this.series[idx].dragDrop.draggableX = false;\r\n          // this.series[idx].dragDrop.draggableY = false;\r\n\r\n          this.series[idx].pointStart = Date.UTC(2004, 3, 1);\r\n          this.series[idx].pointInterval = 3600 * 1000;\r\n        });\r\n\r\n        // Enable labels on yAxis when DnD is false\r\n        this.labelsEnabled = true;\r\n\r\n        // Disable shared tooltip\r\n        this.chartOptions.tooltip = { shared: false };\r\n        // Disable custom Reset button\r\n        this.resetButton.enabled = false;\r\n\r\n        // Disable Y Max/Min\r\n        if(this.graph_type != 'ave'){\r\n          this.yMax = null;\r\n          this.yMin = null;\r\n        }\r\n\r\n        this.chartTriggerChange();\r\n      }\r\n    },\r\n\r\n    toggleSeriesDragDrop(){\r\n      // Zoom\r\n      if(this.zoomOrDrag){\r\n        this.enableSeriesDragDrop();\r\n      // Drag\r\n      } else {\r\n        this.disableSeriesDragDrop();\r\n      }\r\n    },\r\n\r\n    // toggleStacking()\r\n    // {\r\n    //   console.log('Toggle Stacking');\r\n    //   this.plotOptions.series.stacking = this.stacking;\r\n    //   this.chartTriggerChange();\r\n    // },\r\n\r\n    showPlotLines(){\r\n      this.plotLines = [\r\n        { /* Full Line */\r\n          value: this.full,\r\n          color: '#00F',\r\n          width: 2,\r\n          label: {\r\n            x:0,\r\n            align:'right',\r\n            formatter: () => { return 'Full: ' + this.full; }\r\n          }\r\n        },\r\n        { /* Refill Line */\r\n          value: this.refill,\r\n          color: '#D26761',\r\n          width: 2,\r\n          label: {\r\n            x:0,\r\n            align:'right',\r\n            formatter: () => { return 'Refill: ' + this.refill; }\r\n          }\r\n        }\r\n      ];\r\n    },\r\n\r\n    hidePlotLines(){\r\n      this.plotLines = [];\r\n    },\r\n\r\n    // Hack to trigger chart update via faux change\r\n    chartTriggerChange(){\r\n      this.series.push({ type:'line', name: 'Faux', data:[] });\r\n      this.series.pop();\r\n    },\r\n\r\n    exportGraphCSV(){\r\n\r\n      this.zoomOrDrag = false;\r\n\r\n      // accessing internal series data from the outside\r\n      let series = this.$refs.hchart.chart.series;\r\n      try {\r\n        for(var i = 0; i < series.length; i++){\r\n          if(typeof series[i].options.custom.moved !== \"undefined\"){\r\n            if(series[i].options.custom.moved == true){\r\n              this.seriesAdjusted = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      } catch(err){}\r\n\r\n      if(this.seriesAdjusted){\r\n        this.resetSeriesData().then((resp) => {\r\n          this.$refs.hchart.chart.downloadCSV();\r\n        });\r\n      } else {\r\n        this.$refs.hchart.chart.downloadCSV();\r\n      }\r\n    },\r\n\r\n    resetSeriesData(){\r\n      this.seriesAdjusted = false;\r\n      return this.loadGraphData();\r\n    },\r\n\r\n    setupCustomTooltip(){\r\n      for(var i = 0; i < this.series.length; i++){\r\n        if(this.series[i].name == 'Average'){\r\n          this.series[i].tooltip = {\r\n            pointFormatter: function () {\r\n              let str = '<span style=\"color:' + this.series.color + ';\">●</span> ' + this.series.name + ': <b>' + this.y + '</b><br>';\r\n              if(this.series.name == 'Average' && this.status){\r\n                str += '<span style=\"color:black;\">●</span> Status: <strong>' + this.status + '%</strong><br>';\r\n              }\r\n              return str;\r\n            }\r\n          };\r\n        }\r\n      }\r\n    },\r\n\r\n    removeCustomTooltip(){\r\n      for(var i = 0; i < this.series.length; i++){\r\n        if(this.series[i].tooltip && this.series[i].tooltip.pointFormatter){\r\n          delete this.series[i].tooltip.pointFormatter;\r\n        }\r\n      }\r\n    },\r\n\r\n    goToManage(){\r\n      this.$router.push({\r\n        name: 'soil_moisture_edit',\r\n        params: { node_address: this.current_node }\r\n      });\r\n    },\r\n\r\n    afterSetExtremes(e)\r\n    {\r\n      // initial load\r\n      if(e.trigger == null){ \r\n        if(this.bInitialQuery){\r\n          this.initial_start_date = this.xMin;\r\n          this.initial_end_date = this.xMax;\r\n          this.bInitialQuery = false;\r\n        }\r\n      } else {\r\n        if(e.target.chart.resetZoomButton){\r\n          this.selection_start = e.min;\r\n          this.selection_end = e.max;\r\n        } else {\r\n          this.selection_start = this.initial_start_date;\r\n          this.selection_end = this.initial_end_date;\r\n        }\r\n        this.maybeReloadGraphData();\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    var today = new Date();\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    this.date_now = today = yyyy + '-' + mm + '-' + dd;\r\n  },\r\n\r\n  mounted() {\r\n    this.loadGraphData();\r\n  }\r\n\r\n};\r\n</script>\r\n<style></style>\r\n_end_date = this.xMax;\r\n          this.bInitialQuery = false;\r\n        }\r\n      } else {\r\n        if(e.target.chart.resetZoomButton){\r\n          this.selection_start = e.min;\r\n          this.selection_end = e.max;\r\n        } else {\r\n          this.selection_start = this.initial_start_date;\r\n          this.selection_end = this.initial_end_date;\r\n        }\r\n        this.maybeReloadGraphData();\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    var today = new Date();\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    this.date_now = today = yyyy + '-' + mm + '-' + dd;\r\n  },\r\n\r\n  mounted() {\r\n    this.loadGraphData();\r\n  }\r\n\r\n};\r\n</script>\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoilMoistureGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SoilMoistureGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SoilMoistureGraph.vue?vue&type=template&id=31da3d86&\"\nimport script from \"./SoilMoistureGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./SoilMoistureGraph.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n"],"sourceRoot":""}