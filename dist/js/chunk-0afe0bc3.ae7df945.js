(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0afe0bc3"],{"0d38":function(t,e,n){},"1aa2":function(t,e,n){},4469:function(t,e,n){"use strict";n("1aa2")},8928:function(t,e,n){"use strict";n("0d38")},b477:function(t,e,n){"use strict";(function(t,r){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}n.d(e,"a",(function(){return Sl}));var a="object"==typeof t&&t&&t.Object===Object&&t,o="object"==typeof self&&self&&self.Object===Object&&self,s=a||o||Function("return this")(),l=()=>s.Date.now(),u=/\s/,c=/^\s+/;function h(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&u.test(t.charAt(e)););return e}(t)+1).replace(c,""):t}var f=s.Symbol,d=Object.prototype,p=d.hasOwnProperty,m=d.toString,b=f?f.toStringTag:void 0,v=Object.prototype.toString,g=f?f.toStringTag:void 0;function _(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?function(t){var e=p.call(t,b),n=t[b];try{t[b]=void 0;var r=!0}catch(a){}var i=m.call(t);return r&&(e?t[b]=n:delete t[b]),i}(t):function(t){return v.call(t)}(t)}function y(t){return null!=t&&"object"==typeof t}function w(t){return"symbol"==typeof t||y(t)&&"[object Symbol]"==_(t)}var M=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,C=/^0o[0-7]+$/i,k=parseInt;function N(t){if("number"==typeof t)return t;if(w(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=h(t);var n=x.test(t);return n||C.test(t)?k(t.slice(2),n?2:8):M.test(t)?NaN:+t}var A=Math.max,S=Math.min;function T(t,e,n){var r,a,o,s,u,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=r,i=a;return r=a=void 0,h=e,s=t.apply(i,n)}function b(t){return h=t,u=setTimeout(g,e),f?m(t):s}function v(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-h>=o}function g(){var t=l();if(v(t))return _(t);u=setTimeout(g,function(t){var n=e-(t-c);return d?S(n,o-(t-h)):n}(t))}function _(t){return u=void 0,p&&r?m(t):(r=a=void 0,s)}function y(){var t=l(),n=v(t);if(r=arguments,a=this,c=t,n){if(void 0===u)return b(c);if(d)return clearTimeout(u),u=setTimeout(g,e),m(c)}return void 0===u&&(u=setTimeout(g,e)),s}return e=N(e)||0,i(n)&&(f=!!n.leading,o=(d="maxWait"in n)?A(N(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==u&&clearTimeout(u),h=0,r=c=a=u=void 0},y.flush=function(){return void 0===u?s:_(l())},y}function O(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}var j,P=(t,e,n)=>{for(var r=-1,i=Object(t),a=n(t),o=a.length;o--;){var s=a[j?o:++r];if(!1===e(i[s],s,i))break}return t},L=P;function I(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function E(t){return y(t)&&"[object Arguments]"==_(t)}var R=Object.prototype,z=R.hasOwnProperty,$=R.propertyIsEnumerable,q=E(function(){return arguments}())?E:t=>y(t)&&z.call(t,"callee")&&!$.call(t,"callee"),B=Array.isArray,V="object"==typeof exports&&exports&&!exports.nodeType&&exports,F=V&&"object"==typeof r&&r&&!r.nodeType&&r,W=F&&F.exports===V?s.Buffer:void 0,D=(W?W.isBuffer:void 0)||function(){return!1},U=/^(?:0|[1-9]\d*)$/;function H(t,e){var n=typeof t;return!!(e=null!=e?e:9007199254740991)&&("number"==n||"symbol"!=n&&U.test(t))&&t>-1&&t%1==0&&t<e}function X(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var G={};G["[object Float32Array]"]=G["[object Float64Array]"]=G["[object Int8Array]"]=G["[object Int16Array]"]=G["[object Int32Array]"]=G["[object Uint8Array]"]=G["[object Uint8ClampedArray]"]=G["[object Uint16Array]"]=G["[object Uint32Array]"]=!0,G["[object Arguments]"]=G["[object Array]"]=G["[object ArrayBuffer]"]=G["[object Boolean]"]=G["[object DataView]"]=G["[object Date]"]=G["[object Error]"]=G["[object Function]"]=G["[object Map]"]=G["[object Number]"]=G["[object Object]"]=G["[object RegExp]"]=G["[object Set]"]=G["[object String]"]=G["[object WeakMap]"]=!1;var Y,Q="object"==typeof exports&&exports&&!exports.nodeType&&exports,J=Q&&"object"==typeof r&&r&&!r.nodeType&&r,Z=J&&J.exports===Q&&a.process,K=(()=>{try{var t=J&&J.require&&J.require("util").types;return t||Z&&Z.binding&&Z.binding("util")}catch(e){}})(),tt=K&&K.isTypedArray,et=tt?(Y=tt,t=>Y(t)):function(t){return y(t)&&X(t.length)&&!!G[_(t)]},nt=Object.prototype.hasOwnProperty,rt=Object.prototype;function it(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||rt)}var at=function(t,e){return n=>t(e(n))}(Object.keys,Object),ot=at,st=Object.prototype.hasOwnProperty;function lt(t){if(!it(t))return ot(t);var e=[];for(var n in Object(t))st.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ut(t){if(!i(t))return!1;var e=_(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ct(t){return null!=t&&X(t.length)&&!ut(t)}function ht(t){return ct(t)?function(t,e){var n=B(t),r=!n&&q(t),i=!n&&!r&&D(t),a=!n&&!r&&!i&&et(t),o=n||r||i||a,s=o?I(t.length,String):[],l=s.length;for(var u in t)!e&&!nt.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||H(u,l))||s.push(u);return s}(t):lt(t)}function ft(t,e){return t&&L(t,e,ht)}var dt=function(t,e){return(n,r)=>{if(null==n)return n;if(!ct(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&!1!==r(o[a],a,o););return n}}(ft),pt=dt;function mt(t){return t}function bt(t){return"function"==typeof t?t:mt}function vt(t,e){return(B(t)?O:pt)(t,bt(e))}function gt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var _t,yt,wt=(1===(_t=gt).length&&(yt=_t,_t=(t,e)=>gt(yt(t),e)),{left:(t,e,n,r)=>{for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;_t(t[i],e)<0?n=i+1:r=i}return n},right:(t,e,n,r)=>{for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;_t(t[i],e)>0?r=i:n=i+1}return n}}),Mt=wt.right,xt=Math.sqrt(50),Ct=Math.sqrt(10),kt=Math.sqrt(2);function Nt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=xt?10:a>=Ct?5:a>=kt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=xt?10:a>=Ct?5:a>=kt?2:1)}var At={value:()=>{}};function St(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Tt(r)}function Tt(t){this._=t}function Ot(t,e){return t.trim().split(/^|\s+/).map(t=>{var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function jt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Pt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=At,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Tt.prototype=St.prototype={constructor:Tt,on:function(t,e){var n,r=this._,i=Ot(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=Pt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Pt(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=jt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Tt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var Lt="http://www.w3.org/1999/xhtml",It={svg:"http://www.w3.org/2000/svg",xhtml:Lt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Et(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),It.hasOwnProperty(e)?{space:It[e],local:t}:t}function Rt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Lt&&e.documentElement.namespaceURI===Lt?e.createElement(t):e.createElementNS(n,t)}}function zt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $t(t){var e=Et(t);return(e.local?zt:Rt)(e)}function qt(){}function Bt(t){return null==t?qt:function(){return this.querySelector(t)}}function Vt(){return[]}function Ft(t){return null==t?Vt:function(){return this.querySelectorAll(t)}}function Wt(t){return function(){return this.matches(t)}}function Dt(t){return new Array(t.length)}function Ut(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ht(t,e,n,r,i,a){for(var o,s=0,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Ut(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function Xt(t,e,n,r,i,a,o){var s,l,u,c={},h=e.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=u="$"+o.call(l,l.__data__,s,e),u in c?i[s]=l:c[u]=l);for(s=0;s<f;++s)(l=c[u="$"+o.call(t,a[s],s,a)])?(r[s]=l,l.__data__=a[s],c[u]=null):n[s]=new Ut(t,a[s]);for(s=0;s<h;++s)(l=e[s])&&c[d[s]]===l&&(i[s]=l)}function Gt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Yt(t){return function(){this.removeAttribute(t)}}function Qt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jt(t,e){return function(){this.setAttribute(t,e)}}function Zt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Kt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function te(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ee(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ne(t){return function(){this.style.removeProperty(t)}}function re(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ie(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ae(t,e){return t.style.getPropertyValue(e)||ee(t).getComputedStyle(t,null).getPropertyValue(e)}function oe(t){return function(){delete this[t]}}function se(t,e){return function(){this[t]=e}}function le(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ue(t){return t.trim().split(/^|\s+/)}function ce(t){return t.classList||new he(t)}function he(t){this._node=t,this._names=ue(t.getAttribute("class")||"")}function fe(t,e){for(var n=ce(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function de(t,e){for(var n=ce(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function pe(t){return function(){fe(this,t)}}function me(t){return function(){de(this,t)}}function be(t,e){return function(){(e.apply(this,arguments)?fe:de)(this,t)}}function ve(){this.textContent=""}function ge(t){return function(){this.textContent=t}}function _e(t){return function(){var e=t.apply(this,arguments);this.textContent=null!=e?e:""}}function ye(){this.innerHTML=""}function we(t){return function(){this.innerHTML=t}}function Me(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null!=e?e:""}}function xe(){this.nextSibling&&this.parentNode.appendChild(this)}function Ce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ke(){return null}function Ne(){var t=this.parentNode;t&&t.removeChild(this)}function Ae(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Se(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}Ut.prototype={constructor:Ut,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},he.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Te={};function Oe(t,e,n){return t=je(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function je(t,e,n){return function(r){try{t.call(this,this.__data__,e,n)}finally{}}}function Pe(t){return t.trim().split(/^|\s+/).map(t=>{var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function Le(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Ie(t,e,n){var r=Te.hasOwnProperty(t.type)?Oe:je;return function(i,a,o){var s,l=this.__on,u=r(e,a,o);if(l)for(var c=0,h=l.length;c<h;++c)if((s=l[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function Ee(t,e,n){var r=ee(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Re(t,e){return function(){return Ee(this,t,e)}}function ze(t,e){return function(){return Ee(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Te={mouseenter:"mouseover",mouseleave:"mouseout"}));var $e=[null];function qe(t,e){this._groups=t,this._parents=e}function Be(){return new qe([[document.documentElement]],$e)}function Ve(t){return"string"==typeof t?new qe([[document.querySelector(t)]],[document.documentElement]):new qe([[t]],$e)}function Fe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function We(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function De(){}qe.prototype=Be.prototype={constructor:qe,select:function(t){"function"!=typeof t&&(t=Bt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],l=s.length,u=r[i]=new Array(l),c=0;c<l;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new qe(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Ft(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,u=0;u<l;++u)(o=s[u])&&(r.push(t.call(o,o.__data__,u,s)),i.push(o));return new qe(r,i)},filter:function(t){"function"!=typeof t&&(t=Wt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new qe(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),u=-1,this.each(t=>{d[++u]=t}),d;var n=e?Xt:Ht,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return()=>t}(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],h=i[u],f=h.length,d=t.call(c,c&&c.__data__,u,r),p=d.length,m=s[u]=new Array(p),b=o[u]=new Array(p);n(c,h,m,b,l[u]=new Array(f),d,e);for(var v,g,_=0,y=0;_<p;++_)if(v=m[_]){for(_>=y&&(y=_+1);!(g=b[y])&&++y<p;);v._next=g||null}}return(o=new qe(o,r))._enter=s,o._exit=l,o},enter:function(){return new qe(this._enter||this._groups.map(Dt),this._parents)},exit:function(){return new qe(this._exit||this._groups.map(Dt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,u=e[s],c=n[s],h=u.length,f=o[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(f[d]=l);for(;s<r;++s)o[s]=e[s];return new qe(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Gt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,u=i[a]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(e)}return new qe(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each(()=>{++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=Et(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Qt:Yt:"function"==typeof e?n.local?te:Kt:n.local?Zt:Jt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?ne:"function"==typeof e?ie:re)(t,e,null!=n?n:"")):ae(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?oe:"function"==typeof e?le:se)(t,e)):this.node()[t]},classed:function(t,e){var n=ue(t+"");if(arguments.length<2){for(var r=ce(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?be:e?pe:me)(n,e))},text:function(t){return arguments.length?this.each(null==t?ve:("function"==typeof t?_e:ge)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ye:("function"==typeof t?Me:we)(t)):this.node().innerHTML},raise:function(){return this.each(xe)},lower:function(){return this.each(Ce)},append:function(t){var e="function"==typeof t?t:$t(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:$t(t),r=null==e?ke:"function"==typeof e?e:Bt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ne)},clone:function(t){return this.select(t?Se:Ae)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=Pe(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Ie:Le,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?ze:Re)(t,e))}};var Ue=1/.7,He="\\s*([+-]?\\d+)\\s*",Xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ge="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ye=/^#([0-9a-f]{3,8})$/,Qe=new RegExp("^rgb\\("+[He,He,He]+"\\)$"),Je=new RegExp("^rgb\\("+[Ge,Ge,Ge]+"\\)$"),Ze=new RegExp("^rgba\\("+[He,He,He,Xe]+"\\)$"),Ke=new RegExp("^rgba\\("+[Ge,Ge,Ge,Xe]+"\\)$"),tn=new RegExp("^hsl\\("+[Xe,Ge,Ge]+"\\)$"),en=new RegExp("^hsla\\("+[Xe,Ge,Ge,Xe]+"\\)$"),nn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rn(){return this.rgb().formatHex()}function an(){return this.rgb().formatRgb()}function on(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ye.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?sn(e):3===n?new hn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ln(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ln(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Qe.exec(t))?new hn(e[1],e[2],e[3],1):(e=Je.exec(t))?new hn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ze.exec(t))?ln(e[1],e[2],e[3],e[4]):(e=Ke.exec(t))?ln(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=tn.exec(t))?mn(e[1],e[2]/100,e[3]/100,1):(e=en.exec(t))?mn(e[1],e[2]/100,e[3]/100,e[4]):nn.hasOwnProperty(t)?sn(nn[t]):"transparent"===t?new hn(NaN,NaN,NaN,0):null}function sn(t){return new hn(t>>16&255,t>>8&255,255&t,1)}function ln(t,e,n,r){return r<=0&&(t=e=n=NaN),new hn(t,e,n,r)}function un(t){return t instanceof De||(t=on(t)),t?new hn((t=t.rgb()).r,t.g,t.b,t.opacity):new hn}function cn(t,e,n,r){return 1===arguments.length?un(t):new hn(t,e,n,null!=r?r:1)}function hn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function fn(){return"#"+pn(this.r)+pn(this.g)+pn(this.b)}function dn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function pn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function mn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gn(t,e,n,r)}function bn(t){if(t instanceof gn)return new gn(t.h,t.s,t.l,t.opacity);if(t instanceof De||(t=on(t)),!t)return new gn;if(t instanceof gn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new gn(o,s,l,t.opacity)}function vn(t,e,n,r){return 1===arguments.length?bn(t):new gn(t,e,n,null!=r?r:1)}function gn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function _n(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function yn(t){return()=>t}function wn(t,e){return n=>t+n*e}function Mn(t){return 1==(t=+t)?xn:(e,n)=>n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,r=>Math.pow(t+r*e,n)}(e,n,t):yn(isNaN(e)?n:e)}function xn(t,e){var n=e-t;return n?wn(t,n):yn(isNaN(t)?e:t)}Fe(De,on,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:rn,formatHex:rn,formatHsl:function(){return bn(this).formatHsl()},formatRgb:an,toString:an}),Fe(hn,cn,We(De,{brighter:function(t){return t=null==t?Ue:Math.pow(Ue,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fn,formatHex:fn,formatRgb:dn,toString:dn})),Fe(gn,vn,We(De,{brighter:function(t){return t=null==t?Ue:Math.pow(Ue,t),new gn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new gn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new hn(_n(t>=240?t-240:t+120,i,r),_n(t,i,r),_n(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Cn=function t(e){var n=Mn(e);function r(t,e){var r=n((t=cn(t)).r,(e=cn(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=xn(t.opacity,e.opacity);return e=>(t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+"")}return r.gamma=t,r}(1);function kn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return a=>{for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function Nn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Ln(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return t=>{for(n=0;n<i;++n)o[n]=a[n](t);return o}}function An(t,e){var n=new Date;return t=+t,e=+e,r=>(n.setTime(t*(1-r)+e*r),n)}function Sn(t,e){return t=+t,e=+e,n=>t*(1-n)+e*n}function Tn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ln(t[n],e[n]):i[n]=e[n];return t=>{for(n in r)i[n]=r[n](t);return i}}var On=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jn=new RegExp(On.source,"g");function Pn(t,e){var n,r,i,a=On.lastIndex=jn.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=On.exec(t))&&(r=jn.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:Sn(n,r)})),a=jn.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(t){return e=>t(e)+""}(l[0].x):function(t){return()=>t}(e):(e=l.length,t=>{for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Ln(t,e){var n,r=typeof e;return null==e||"boolean"===r?yn(e):("number"===r?Sn:"string"===r?(n=on(e))?(e=n,Cn):Pn:e instanceof on?Cn:e instanceof Date?An:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?kn:Array.isArray(e)?Nn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Tn:Sn)(t,e)}function In(t,e){return t=+t,e=+e,n=>Math.round(t*(1-n)+e*n)}var En,Rn,zn,$n,qn=180/Math.PI,Bn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Vn(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*qn,skewX:Math.atan(l)*qn,scaleX:o,scaleY:s}}function Fn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return(a,o)=>{var s=[],l=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:Sn(t,i)},{i:l-2,x:Sn(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Sn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,l),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Sn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,l),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Sn(t,n)},{i:s-2,x:Sn(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,t=>{for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Wn,Dn,Un=Fn((function(t){return"none"===t?Bn:(En||(En=document.createElement("DIV"),Rn=document.documentElement,zn=document.defaultView),En.style.transform=t,t=zn.getComputedStyle(Rn.appendChild(En),null).getPropertyValue("transform"),Rn.removeChild(En),Vn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Hn=Fn((function(t){return null==t?Bn:($n||($n=document.createElementNS("http://www.w3.org/2000/svg","g")),$n.setAttribute("transform",t),(t=$n.transform.baseVal.consolidate())?Vn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Bn)}),", ",")",")"),Xn=function(t){return(e,n)=>{var r=t((e=vn(e)).h,(n=vn(n)).h),i=xn(e.s,n.s),a=xn(e.l,n.l),o=xn(e.opacity,n.opacity);return t=>(e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+"")}}((function(t,e){var n=e-t;return n?wn(t,n>180||n<-180?n-360*Math.round(n/360):n):yn(isNaN(t)?e:t)})),Gn=0,Yn=0,Qn=0,Jn=0,Zn=0,Kn=0,tr="object"==typeof performance&&performance.now?performance:Date,er="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):t=>{setTimeout(t,17)};function nr(){return Zn||(er(rr),Zn=tr.now()+Kn)}function rr(){Zn=0}function ir(){this._call=this._time=this._next=null}function ar(t,e,n){var r=new ir;return r.restart(t,e,n),r}function or(){Zn=(Jn=tr.now())+Kn,Gn=Yn=0;try{!function(){nr(),++Gn;for(var t,e=Wn;e;)(t=Zn-e._time)>=0&&e._call.call(null,t),e=e._next;--Gn}()}finally{Gn=0,function(){for(var t,e,n=Wn,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Wn=e);Dn=t,lr(r)}(),Zn=0}}function sr(){var t=tr.now(),e=t-Jn;e>1e3&&(Kn-=e,Jn=t)}function lr(t){Gn||(Yn&&(Yn=clearTimeout(Yn)),t-Zn>24?(t<1/0&&(Yn=setTimeout(or,t-tr.now()-Kn)),Qn&&(Qn=clearInterval(Qn))):(Qn||(Jn=tr.now(),Qn=setInterval(sr,1e3)),Gn=1,er(or)))}function ur(t,e,n){var r=new ir;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}ir.prototype=ar.prototype={constructor:ir,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?nr():+n)+(null==e?0:+e),this._next||Dn===this||(Dn?Dn._next=this:Wn=this,Dn=this),this._call=t,this._time=n,lr()},stop:function(){this._call&&(this._call=null,this._time=1/0,lr())}};var cr=St("start","end","cancel","interrupt"),hr=[];function fr(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var u,c,h,f;if(1!==n.state)return l();for(u in i)if((f=i[u]).name===n.name){if(3===f.state)return ur(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[u]):+u<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[u])}if(ur(()=>{3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=ar(a,0,n.time)}(t,n,{name:e,index:r,group:i,on:cr,tween:hr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function dr(t,e){var n=mr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function pr(t,e){var n=mr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function mr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function br(t,e){var n,r;return function(){var i=pr(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function vr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=pr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function gr(t,e,n){var r=t._id;return t.each((function(){var t=pr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),t=>mr(t,r).value[e]}function _r(t,e){var n;return("number"==typeof e?Sn:e instanceof on?Cn:(n=on(e))?(e=n,Cn):Pn)(t,e)}function yr(t){return function(){this.removeAttribute(t)}}function wr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mr(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function xr(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function Cr(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttribute(t)}}function kr(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}function Nr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ar(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Sr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ar(t,i)),n}return i._value=e,i}function Tr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Nr(t,i)),n}return i._value=e,i}function Or(t,e){return function(){dr(this,t).delay=+e.apply(this,arguments)}}function jr(t,e){return e=+e,function(){dr(this,t).delay=e}}function Pr(t,e){return function(){pr(this,t).duration=+e.apply(this,arguments)}}function Lr(t,e){return e=+e,function(){pr(this,t).duration=e}}function Ir(t,e){if("function"!=typeof e)throw new Error;return function(){pr(this,t).ease=e}}function Er(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every(t=>{var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?dr:pr;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var Rr=Be.prototype.constructor;function zr(t){return function(){this.style.removeProperty(t)}}function $r(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function qr(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&$r(t,a,n)),r}return a._value=e,a}function Br(t){return function(e){this.textContent=t.call(this,e)}}function Vr(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Br(r)),e}return r._value=t,r}var Fr=0;function Wr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Dr(){return++Fr}var Ur=Be.prototype;function Hr(t){return+t}function Xr(t){return t*t}function Gr(t){return t*(2-t)}function Yr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Qr(t){return t*t*t}function Jr(t){return--t*t*t+1}function Zr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Wr.prototype={constructor:Wr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Bt(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,u=r[o],c=u.length,h=a[o]=new Array(c),f=0;f<c;++f)(s=u[f])&&(l=t.call(s,s.__data__,f,u))&&("__data__"in s&&(l.__data__=s.__data__),h[f]=l,fr(h[f],e,n,f,h,mr(s,n)));return new Wr(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ft(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,u=r[s],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var f,d=t.call(l,l.__data__,h,u),p=mr(l,n),m=0,b=d.length;m<b;++m)(f=d[m])&&fr(f,e,n,m,d,p);a.push(d),o.push(l)}return new Wr(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Wt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new Wr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,u=e[s],c=n[s],h=u.length,f=o[s]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(f[d]=l);for(;s<r;++s)o[s]=e[s];return new Wr(o,this._parents,this._name,this._id)},selection:function(){return new Rr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Dr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,u=0;u<l;++u)if(o=s[u]){var c=mr(o,e);fr(o,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Wr(r,this._parents,t,n)},call:Ur.call,nodes:Ur.nodes,node:Ur.node,size:Ur.size,empty:Ur.empty,each:Ur.each,on:function(t,e){var n=this._id;return arguments.length<2?mr(this.node(),n).on.on(t):this.each(Er(n,t,e))},attr:function(t,e){var n=Et(t),r="transform"===n?Hn:_r;return this.attrTween(t,"function"==typeof e?(n.local?kr:Cr)(n,r,gr(this,"attr."+t,e)):null==e?(n.local?wr:yr)(n):(n.local?xr:Mr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Et(t);return this.tween(n,(r.local?Sr:Tr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Un:_r;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=ae(this,t),o=(this.style.removeProperty(t),ae(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,zr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=ae(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=ae(this,t)),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}(t,r,gr(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var l=pr(this,t),u=l.on,c=null==l.value[o]?a||(a=zr(e)):void 0;u===n&&i===c||(r=(n=u).copy()).on(s,i=c),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=ae(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,qr(t,e,null!=n?n:""))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null!=e?e:""}}(gr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Vr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=mr(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?br:vr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Or:jr)(e,t)):mr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Pr:Lr)(e,t)):mr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ir(e,t)):mr(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:()=>{0==--i&&a()}};n.each((function(){var n=pr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var Kr=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),ti=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),ei=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),ni=Math.PI,ri=ni/2;function ii(t){return 1==+t?1:1-Math.cos(t*ri)}function ai(t){return Math.sin(t*ri)}function oi(t){return(1-Math.cos(ni*t))/2}function si(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function li(t){return si(1-+t)}function ui(t){return 1-si(t)}function ci(t){return((t*=2)<=1?si(1-t):2-si(t-1))/2}function hi(t){return 1-Math.sqrt(1-t*t)}function fi(t){return Math.sqrt(1- --t*t)}function di(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var pi=4/11,mi=7.5625;function bi(t){return 1-vi(1-t)}function vi(t){return(t=+t)<pi?mi*t*t:t<.7272727272727273?mi*(t-=.5454545454545454)*t+.75:t<.9090909090909091?mi*(t-=.8181818181818182)*t+.9375:mi*(t-=.9545454545454546)*t+.984375}function gi(t){return((t*=2)<=1?1-vi(1-t):vi(t-1)+1)/2}var _i=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),yi=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),wi=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Mi=2*Math.PI,xi=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mi);function i(t){return e*si(- --t)*Math.sin((r-t)/n)}return i.amplitude=e=>t(e,n*Mi),i.period=n=>t(e,n),i}(1,.3),Ci=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mi);function i(t){return 1-e*si(t=+t)*Math.sin((t+r)/n)}return i.amplitude=e=>t(e,n*Mi),i.period=n=>t(e,n),i}(1,.3),ki=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mi);function i(t){return((t=2*t-1)<0?e*si(-t)*Math.sin((r-t)/n):2-e*si(t)*Math.sin((r+t)/n))/2}return i.amplitude=e=>t(e,n*Mi),i.period=n=>t(e,n),i}(1,.3),Ni={time:null,delay:0,duration:250,ease:Zr};function Ai(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Ni.time=nr(),Ni;return n}Be.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},Be.prototype.transition=function(t){var e,n;t instanceof Wr?(e=t._id,t=t._name):(e=Dr(),(n=Ni).time=nr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,u=0;u<l;++u)(o=s[u])&&fr(o,t,e,u,s,n||Ai(o,e));return new Wr(r,this._parents,t,e)};var Si=Math.PI,Ti=2*Si,Oi=Ti-1e-6;function ji(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Pi(){return new ji}function Li(){}function Ii(t,e){var n=new Li;if(t instanceof Li)t.each((t,e)=>{n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function Ei(){}ji.prototype=Pi.prototype={constructor:ji,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,l=r-e,u=a-t,c=o-e,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-l*u)>1e-6&&i){var f=n-a,d=r-o,p=s*s+l*l,m=f*f+d*d,b=Math.sqrt(p),v=Math.sqrt(h),g=i*Math.tan((Si-Math.acos((p+h-m)/(2*b*v)))/2),_=g/v,y=g/b;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*u)+","+(e+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+y*s)+","+(this._y1=e+y*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+o,u=e+s,c=1^a,h=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%Ti+Ti),h>Oi?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Si)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Li.prototype=Ii.prototype={constructor:Li,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Ri=Ii.prototype;function zi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $i(t){return(t=zi(Math.abs(t)))?t[1]:NaN}Ei.prototype={constructor:Ei,has:Ri.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Ri.remove,clear:Ri.clear,values:Ri.keys,size:Ri.size,empty:Ri.empty,each:Ri.each};var qi,Bi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vi(t){if(!(e=Bi.exec(t)))throw new Error("invalid format: "+t);var e;return new Fi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Fi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Wi(t,e){var n=zi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Vi.prototype=Fi.prototype,Fi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Di={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Wi(100*t,e),r:Wi,s:function(t,e){var n=zi(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(qi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+zi(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ui(t){return t}var Hi,Xi,Gi,Yi=Array.prototype.map,Qi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ji(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ui:(e=Yi.call(t.grouping,Number),n=t.thousands+"",(t,r)=>{for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ui:function(t){return e=>e.replace(/[0-9]/g,e=>t[+e])}(Yi.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Vi(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,m=t.comma,b=t.precision,v=t.trim,g=t.type;"n"===g?(m=!0,g="g"):Di[g]||(void 0===b&&(b=12),v=!0,g="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===f?a:/[%p]/.test(g)?l:"",w=Di[g],M=/[defgprs%]/.test(g);function x(t){var i,a,l,f=_,x=y;if("c"===g)x=w(t)+x,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),b),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==h&&(C=!1),f=(C?"("===h?h:u:"-"===h||"("===h?"":h)+f,x=("s"===g?Qi[8+qi/3]:"")+x+(C&&"("===h?")":""),M)for(i=-1,a=t.length;++i<a;)if(48>(l=t.charCodeAt(i))||l>57){x=(46===l?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var k=f.length+t.length+x.length,N=k<p?new Array(p-k+1).join(e):"";switch(m&&d&&(t=r(N+t,N.length?p-x.length:1/0),N=""),n){case"<":t=f+t+x+N;break;case"=":t=f+N+t+x;break;case"^":t=N.slice(0,k=N.length>>1)+f+t+x+N.slice(k);break;default:t=N+f+t+x}return s(t)}return b=void 0===b?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),x.toString=()=>t+"",x}return{format:h,formatPrefix:function(t,e){var n=h(((t=Vi(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor($i(e)/3))),i=Math.pow(10,-r),a=Qi[8+r/3];return t=>n(i*t)+a}}}function Zi(){return Math.random()}Hi=Ji({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Xi=Hi.format,Gi=Hi.formatPrefix,function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,()=>e()*n+t}return n.source=t,n}(Zi);var Ki=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,()=>{var a;if(null!=r)a=r,r=null;else do{r=2*e()-1,a=2*e()-1,i=r*r+a*a}while(!i||i>1);return t+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Zi);!function t(e){function n(){var t=Ki.source(e).apply(this,arguments);return()=>Math.exp(t())}return n.source=t,n}(Zi);var ta=function t(e){function n(t){return()=>{for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Zi);function ea(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}!function t(e){function n(t){var n=ta.source(e)(t);return()=>n()/t}return n.source=t,n}(Zi),function t(e){function n(t){return()=>-Math.log(1-e())/t}return n.source=t,n}(Zi);var na=Array.prototype,ra=na.map,ia=na.slice;function aa(t){return+t}var oa=[0,1];function sa(t){return t}function la(t,e){return(e-=t=+t)?n=>(n-t)/e:function(t){return()=>t}(isNaN(e)?NaN:.5)}function ua(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),t=>Math.max(n,Math.min(r,t))}function ca(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=la(i,r),a=n(o,a)):(r=la(r,i),a=n(a,o)),t=>a(r(t))}function ha(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=la(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return e=>{var n=Mt(t,e,1,r)-1;return a[n](i[n](e))}}function fa(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function da(t,e){return function(){var t,e,n,r,i,a,o=oa,s=oa,l=Ln,u=sa;function c(){return r=Math.min(o.length,s.length)>2?ha:ca,i=a=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,l)))(t(u(e)))}return h.invert=n=>u(e((a||(a=r(s,o.map(t),Sn)))(n))),h.domain=function(t){return arguments.length?(o=ra.call(t,aa),u===sa||(u=ua(o)),c()):o.slice()},h.range=function(t){return arguments.length?(s=ia.call(t),c()):s.slice()},h.rangeRound=t=>(s=ia.call(t),l=In,c()),h.clamp=function(t){return arguments.length?(u=t?ua(o):sa,h):u!==sa},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},(n,r)=>(t=n,e=r,c())}()(t,e)}function pa(t,e,n,r){var i,a=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=xt?i*=10:a>=Ct?i*=5:a>=kt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Vi(null!=r?r:",f")).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($i(e)/3)))-$i(Math.abs(t)))}(a,o))||(r.precision=i),Gi(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$i(e)-$i(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-$i(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Xi(r)}function ma(t){var e=t.domain;return t.ticks=t=>{var n=e();return function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=Nt(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}(n[0],n[n.length-1],null!=t?t:10)},t.tickFormat=(t,n)=>{var r=e();return pa(r[0],r[r.length-1],null!=t?t:10,n)},t.nice=n=>{null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(r=s,s=l,l=r,r=a,a=o,o=r),(r=Nt(s,l,n))>0?r=Nt(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=Nt(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}function ba(){var t=da(sa,sa);return t.copy=()=>fa(t,ba()),ea.apply(t,arguments),ma(t)}function va(){var t,e=0,n=1,r=1,i=[.5],a=[0,1];function o(e){return e<=e?a[Mt(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},o.range=function(t){return arguments.length?(r=(a=ia.call(t)).length-1,s()):a.slice()},o.invertExtent=t=>{var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=()=>i.slice(),o.copy=()=>va().domain([e,n]).range(a).unknown(t),ea.apply(ma(o),arguments)}function ga(t){return function(){return t}}var _a=Math.abs,ya=Math.atan2,wa=Math.cos,Ma=Math.max,xa=Math.min,Ca=Math.sin,ka=Math.sqrt,Na=Math.PI,Aa=Na/2,Sa=2*Na;function Ta(t){return t>1?0:t<-1?Na:Math.acos(t)}function Oa(t){return t>=1?Aa:t<=-1?-Aa:Math.asin(t)}function ja(t){return t.innerRadius}function Pa(t){return t.outerRadius}function La(t){return t.startAngle}function Ia(t){return t.endAngle}function Ea(t){return t&&t.padAngle}function Ra(t,e,n,r,i,a,o,s){var l=n-t,u=r-e,c=o-i,h=s-a,f=h*l-c*u;if(!(f*f<1e-12))return[t+(f=(c*(e-a)-h*(t-i))/f)*l,e+f*u]}function za(t,e,n,r,i,a,o){var s=t-n,l=e-r,u=(o?a:-a)/ka(s*s+l*l),c=u*l,h=-u*s,f=t+c,d=e+h,p=n+c,m=r+h,b=(f+p)/2,v=(d+m)/2,g=p-f,_=m-d,y=g*g+_*_,w=i-a,M=f*m-p*d,x=(_<0?-1:1)*ka(Ma(0,w*w*y-M*M)),C=(M*_-g*x)/y,k=(-M*g-_*x)/y,N=(M*_+g*x)/y,A=(-M*g+_*x)/y,S=C-b,T=k-v,O=N-b,j=A-v;return S*S+T*T>O*O+j*j&&(C=N,k=A),{cx:C,cy:k,x01:-c,y01:-h,x11:C*(i/w-1),y11:k*(i/w-1)}}function $a(t){this._context=t}function qa(t){return new $a(t)}function Ba(t){return t[0]}function Va(t){return t[1]}function Fa(t){return t<0?-1:1}function Wa(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Fa(a)+Fa(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Da(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ua(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Ha(t){this._context=t}function Xa(t){return new Ha(t)}function Ga(){this._=null}function Ya(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Qa(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ja(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Za(t){for(;t.L;)t=t.L;return t}function Ka(t,e,n,r){var i=[null,null],a=Co.push(i)-1;return i.left=t,i.right=e,n&&eo(i,t,e,n),r&&eo(i,e,t,r),Mo[t.index].halfedges.push(a),Mo[e.index].halfedges.push(a),i}function to(t,e,n){var r=[e,n];return r.left=t,r}function eo(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function no(t,e,n,r,i){var a,o=t[0],s=t[1],l=o[0],u=o[1],c=0,h=1,f=s[0]-l,d=s[1]-u;if(a=e-l,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>c&&(c=a)}if(a=r-l,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<h&&(h=a)}if(a=n-u,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>c&&(c=a)}if(a=i-u,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<h&&(h=a)}return!(c>0||h<1)||(c>0&&(t[0]=[l+c*f,u+c*d]),h<1&&(t[1]=[l+h*f,u+h*d]),!0)}}}}}function ro(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,l=t[0],u=t.left,c=t.right,h=u[0],f=u[1],d=c[0],p=c[1],m=(h+d)/2,b=(f+p)/2;if(p===f){if(m<e||m>=r)return;if(h>d){if(l){if(l[1]>=i)return}else l=[m,n];a=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];a=[m,n]}}else if(s=b-(o=(h-d)/(p-f))*m,o<-1||o>1)if(h>d){if(l){if(l[1]>=i)return}else l=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/o,i];a=[(n-s)/o,n]}else if(f<p){if(l){if(l[0]>=r)return}else l=[e,o*e+s];a=[r,o*r+s]}else{if(l){if(l[0]<e)return}else l=[r,o*r+s];a=[e,o*e+s]}return t[0]=l,t[1]=a,!0}function io(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ao(t,e){return e[+(e.left!==t.site)]}function oo(t,e){return e[+(e.left===t.site)]}$a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ua(this,this._t0,Da(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ua(this,Da(this,n=Wa(this,t,e)),n);break;default:Ua(this,this._t0,n=Wa(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Ha.prototype).point=function(t,e){Ha.prototype.point.call(this,e,t)},Ga.prototype={constructor:Ga,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Za(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Qa(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ja(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ja(this,n),n=(t=n).U),n.C=!1,r.C=!0,Qa(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?Za(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Qa(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ja(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Qa(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ja(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Qa(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ja(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var so,lo=[];function uo(){Ya(this),this.x=this.y=this.arc=this.site=this.cy=null}function co(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],l=r[0]-o,u=r[1]-s,c=a[0]-o,h=a[1]-s,f=2*(l*h-u*c);if(!(f>=-No)){var d=l*l+u*u,p=c*c+h*h,m=(h*d-u*p)/f,b=(l*p-c*d)/f,v=lo.pop()||new uo;v.arc=t,v.site=i,v.x=m+o,v.y=(v.cy=b+s)+Math.sqrt(m*m+b*b),t.circle=v;for(var g=null,_=xo._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){g=_.P;break}_=_.L}else{if(!_.R){g=_;break}_=_.R}xo.insert(g,v),g||(so=v)}}}}function ho(t){var e=t.circle;e&&(e.P||(so=e.N),xo.remove(e),lo.push(e),Ya(e),t.circle=null)}var fo=[];function po(){Ya(this),this.edge=this.site=this.circle=null}function mo(t){var e=fo.pop()||new po;return e.site=t,e}function bo(t){ho(t),wo.remove(t),fo.push(t),Ya(t)}function vo(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];bo(t);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<ko&&Math.abs(r-l.circle.cy)<ko;)a=l.P,s.unshift(l),bo(l),l=a;s.unshift(l),ho(l);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<ko&&Math.abs(r-u.circle.cy)<ko;)o=u.N,s.push(u),bo(u),u=o;s.push(u),ho(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],eo(u.edge,l.site,u.site,i);l=s[0],(u=s[h-1]).edge=Ka(l.site,u.site,null,i),co(l),co(u)}function go(t){for(var e,n,r,i,a=t[0],o=t[1],s=wo._;s;)if((r=_o(s,o)-a)>ko)s=s.L;else{if(!((i=a-yo(s,o))>ko)){r>-ko?(e=s.P,n=s):i>-ko?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Mo[t.index]={site:t,halfedges:[]}}(t);var l=mo(t);if(wo.insert(e,l),e||n){if(e===n)return ho(e),n=mo(e.site),wo.insert(l,n),l.edge=n.edge=Ka(e.site,l.site),co(e),void co(n);if(n){ho(e),ho(n);var u=e.site,c=u[0],h=u[1],f=t[0]-c,d=t[1]-h,p=n.site,m=p[0]-c,b=p[1]-h,v=2*(f*b-d*m),g=f*f+d*d,_=m*m+b*b,y=[(b*g-d*_)/v+c,(f*_-m*g)/v+h];eo(n.edge,u,p,y),l.edge=Ka(u,t,null,y),n.edge=Ka(t,p,null,y),co(e),co(n)}else l.edge=Ka(e.site,l.site)}}function _o(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],l=n[1],u=l-e;if(!u)return s;var c=s-r,h=1/a-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+i-a/2)))/h+r:(r+s)/2}function yo(t,e){var n=t.N;if(n)return _o(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var wo,Mo,xo,Co,ko=1e-6,No=1e-12;function Ao(t,e){return e[1]-t[1]||e[0]-t[0]}function So(t,e){var n,r,i,a=t.sort(Ao).pop();for(Co=[],Mo=new Array(t.length),wo=new Ga,xo=new Ga;;)if(i=so,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(go(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;vo(i.arc)}if(function(){for(var t,e,n,r,i=0,a=Mo.length;i<a;++i)if((t=Mo[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=io(t,Co[e[n]]);for(o.sort((t,e)=>s[e]-s[t]),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var o=+e[0][0],s=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,r){for(var i,a=Co.length;a--;)ro(i=Co[a],t,e,n,r)&&no(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>ko||Math.abs(i[0][1]-i[1][1])>ko)||delete Co[a]}(o,s,l,u),function(t,e,n,r){var i,a,o,s,l,u,c,h,f,d,p,m,b=Mo.length,v=!0;for(i=0;i<b;++i)if(a=Mo[i]){for(o=a.site,s=(l=a.halfedges).length;s--;)Co[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=(d=oo(a,Co[l[s]]))[0],m=d[1],h=(c=ao(a,Co[l[++s%u]]))[0],f=c[1],(Math.abs(p-h)>ko||Math.abs(m-f)>ko)&&(l.splice(s,0,Co.push(to(o,d,Math.abs(p-t)<ko&&r-m>ko?[t,Math.abs(h-t)<ko?f:r]:Math.abs(m-r)<ko&&n-p>ko?[Math.abs(f-r)<ko?h:n,r]:Math.abs(p-n)<ko&&m-e>ko?[n,Math.abs(h-n)<ko?f:e]:Math.abs(m-e)<ko&&p-t>ko?[Math.abs(f-e)<ko?h:t,e]:null))-1),++u);u&&(v=!1)}if(v){var g,_,y,w=1/0;for(i=0,v=null;i<b;++i)(a=Mo[i])&&(y=(g=(o=a.site)[0]-t)*g+(_=o[1]-e)*_)<w&&(w=y,v=a);if(v){var M=[t,e],x=[t,r],C=[n,r],k=[n,e];v.halfedges.push(Co.push(to(o=v.site,M,x))-1,Co.push(to(o,x,C))-1,Co.push(to(o,C,k))-1,Co.push(to(o,k,M))-1)}}for(i=0;i<b;++i)(a=Mo[i])&&(a.halfedges.length||delete Mo[i])}(o,s,l,u)}this.edges=Co,this.cells=Mo,wo=xo=Co=Mo=null}function To(t,e,n){this.k=t,this.x=e,this.y=n}So.prototype={constructor:So,polygons:function(){var t=this.edges;return this.cells.map(e=>{var n=e.halfedges.map(n=>ao(e,t[n]));return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((n,r)=>{if(a=(i=n.halfedges).length)for(var i,a,o,s,l,u,c=n.site,h=-1,f=e[i[a-1]],d=f.left===c?f.right:f.left;++h<a;)o=d,d=(f=e[i[h]]).left===c?f.right:f.left,o&&d&&r<o.index&&r<d.index&&(l=o,u=d,((s=c)[0]-u[0])*(l[1]-s[1])-(s[0]-l[0])*(u[1]-s[1])<0)&&t.push([c.data,o.data,d.data])}),t},links:function(){return this.edges.filter(t=>t.right).map(t=>({source:t.left.data,target:t.right.data}))},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var l=t-i.site[0],u=e-i.site[1],c=l*l+u*u;do{i=a.cells[r=o],o=null,i.halfedges.forEach(n=>{var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=t-s[0],u=e-s[1],h=l*l+u*u;h<c&&(c=h,o=s.index)}})}while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}},To.prototype={constructor:To,scale:function(t){return 1===t?this:new To(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new To(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new To(1,0,0),To.prototype;var Oo,jo=s["__core-js_shared__"],Po=(Oo=/[^.]+$/.exec(jo&&jo.keys&&jo.keys.IE_PROTO||""))?"Symbol(src)_1."+Oo:"",Lo=Function.prototype.toString;function Io(t){if(null!=t){try{return Lo.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var Eo=/^\[object .+?Constructor\]$/,Ro=Function.prototype,zo=Object.prototype,$o=Ro.toString,qo=zo.hasOwnProperty,Bo=RegExp("^"+$o.call(qo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vo(t){return!(!i(t)||function(t){return!!Po&&Po in t}(t))&&(ut(t)?Bo:Eo).test(Io(t))}function Fo(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Vo(n)?n:void 0}var Wo=Fo(s,"DataView"),Do=Fo(s,"Map"),Uo=Fo(s,"Promise"),Ho=Fo(s,"Set"),Xo=Fo(s,"WeakMap"),Go=Io(Wo),Yo=Io(Do),Qo=Io(Uo),Jo=Io(Ho),Zo=Io(Xo),Ko=_;(Wo&&"[object DataView]"!=Ko(new Wo(new ArrayBuffer(1)))||Do&&"[object Map]"!=Ko(new Do)||Uo&&"[object Promise]"!=Ko(Uo.resolve())||Ho&&"[object Set]"!=Ko(new Ho)||Xo&&"[object WeakMap]"!=Ko(new Xo))&&(Ko=t=>{var e=_(t),n="[object Object]"==e?t.constructor:void 0,r=n?Io(n):"";if(r)switch(r){case Go:return"[object DataView]";case Yo:return"[object Map]";case Qo:return"[object Promise]";case Jo:return"[object Set]";case Zo:return"[object WeakMap]"}return e});var ts=Ko,es=Object.prototype.hasOwnProperty;function ns(t){if(null==t)return!0;if(ct(t)&&(B(t)||"string"==typeof t||"function"==typeof t.splice||D(t)||et(t)||q(t)))return!t.length;var e=ts(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(it(t))return!lt(t).length;for(var n in t)if(es.call(t,n))return!1;return!0}function rs(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}function is(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}function as(t){var e=function(t){return t?1/0===(t=N(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}var os=Math.min;function ss(t,e){return function(t){return t&&t.length?((t,e)=>{for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n})(t,mt):0}(function(t,e,n){return t&&t.length?is(t,0,(e=n||void 0===e?1:as(e))<0?0:e):[]}(t,e))}function ls({tickData:t,customSegmentStops:e,min:n,max:r}){if(!B(e)||ns(e))return t;if(function(t){return t&&t.length?t[0]:void 0}(e)!==n)throw new Error("First value should be equivalent to min value given. Current min value - "+n);if(rs(e)!==r)throw new Error("Last value should be equivalent to max value given. Current min value - "+r);const i=e.map((t,i)=>{if(0!==i)return(t-e[i-1])/(r-n)});return function(t,e,n){var r=null==t?0:t.length;return r?is(t,(e=n||void 0===e?1:as(e))<0?0:e,r):[]}(i)}function us({maxSegmentLabelCount:t,segmentCount:e}){const n=parseInt(t,10),r=parseInt(e,10);return("number"==typeof(i=n)||y(i)&&"[object Number]"==_(i))&&n>=0&&n<=r?n:r;var i}function cs({min:t,max:e,segments:n}){return ba().range([0,1]).domain([t,e])}function hs(t,{min:e,max:n,segments:r}){let i=[];if(i=t.ticks(r),(rs(i)!==n||r<i.length)&&i.length>1){const t=(n-e)/r;i=[e],function(t,e){if((t=as(t))<1||t>9007199254740991)return[];var n=4294967295,r=os(t,4294967295);t-=4294967295;for(I(r,e=bt(e));++n<t;)e(n)}(r,n=>{i.push(e+(n+1)*t)})}return 1===i.length&&(i=[e,n]),i}function fs(t){return t*Math.PI/180}const ds={easeLinear:"easeLinear",easeQuadIn:"easeQuadIn",easeQuadOut:"easeQuadOut",easeQuadInOut:"easeQuadInOut",easeCubicIn:"easeCubicIn",easeCubicOut:"easeCubicOut",easeCubicInOut:"easeCubicInOut",easePolyIn:"easePolyIn",easePolyOut:"easePolyOut",easePolyInOut:"easePolyInOut",easeSinIn:"easeSinIn",easeSinOut:"easeSinOut",easeSinInOut:"easeSinInOut",easeExpIn:"easeExpIn",easeExpOut:"easeExpOut",easeExpInOut:"easeExpInOut",easeCircleIn:"easeCircleIn",easeCircleOut:"easeCircleOut",easeCircleInOut:"easeCircleInOut",easeBounceIn:"easeBounceIn",easeBounceOut:"easeBounceOut",easeBounceInOut:"easeBounceInOut",easeBackIn:"easeBackIn",easeBackOut:"easeBackOut",easeBackInOut:"easeBackInOut",easeElasticIn:"easeElasticIn",easeElasticOut:"easeElasticOut",easeElasticInOut:"easeElasticInOut",easeElastic:"easeElastic"},ps={value:0,minValue:0,maxValue:1e3,forceRender:!1,width:300,height:300,paddingHorizontal:0,paddingVertical:0,fluidWidth:!1,dimensionUnit:"px",segments:5,maxSegmentLabels:-1,customSegmentStops:[],customSegmentLabels:[],needleColor:"steelblue",startColor:"#FF471A",endColor:"#33CC33",segmentColors:[],needleTransition:ds.easeQuadInOut,needleTransitionDuration:500,needleHeightRatio:.9,ringWidth:60,textColor:"#666",valueFormat:"",currentValueText:"${value}",currentValuePlaceholderStyle:"${value}",labelFontSize:"14px",valueTextFontSize:"16px",valueTextFontWeight:"bold",svgAriaLabel:"React d3 speedometer"},ms={ringInset:20,pointerWidth:10,pointerTailLength:5,minAngle:-90,maxAngle:90,labelInset:10};var bs=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function vs(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(r=t[n],i=e[n],!(r===i||bs(r)&&bs(i)))return!1;var r,i;return!0}function gs(t,e){var n;void 0===e&&(e=vs);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&e(o,i)||(r=t.apply(this,o),a=!0,n=this,i=o),r}}const _s=gs((function(t){return cs({min:t.minValue,max:t.maxValue,segments:t.maxSegmentLabels})})),ys=gs((function(t){let e=hs(_s(t),{min:t.minValue,max:t.maxValue,segments:t.maxSegmentLabels});return t.customSegmentStops.length>0&&0!==t.maxSegmentLabels&&(e=t.customSegmentStops),e})),ws=gs((function(t){const e=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}(t.majorTicks).map(e=>1/t.majorTicks);return ls({tickData:e,customSegmentStops:t.customSegmentStops,min:t.minValue,max:t.maxValue})})),Ms=gs((function(t){const e=ws(t),n=t.maxAngle-t.minAngle,r=t.width/2;return function(){var t=ja,e=Pa,n=ga(0),r=null,i=La,a=Ia,o=Ea,s=null;function l(){var l,u,c=+t.apply(this,arguments),h=+e.apply(this,arguments),f=i.apply(this,arguments)-Aa,d=a.apply(this,arguments)-Aa,p=_a(d-f),m=d>f;if(s||(s=l=Pi()),h<c&&(u=h,h=c,c=u),h>1e-12)if(p>Sa-1e-12)s.moveTo(h*wa(f),h*Ca(f)),s.arc(0,0,h,f,d,!m),c>1e-12&&(s.moveTo(c*wa(d),c*Ca(d)),s.arc(0,0,c,d,f,m));else{var b,v,g=f,_=d,y=f,w=d,M=p,x=p,C=o.apply(this,arguments)/2,k=C>1e-12&&(r?+r.apply(this,arguments):ka(c*c+h*h)),N=xa(_a(h-c)/2,+n.apply(this,arguments)),A=N,S=N;if(k>1e-12){var T=Oa(k/c*Ca(C)),O=Oa(k/h*Ca(C));(M-=2*T)>1e-12?(y+=T*=m?1:-1,w-=T):(M=0,y=w=(f+d)/2),(x-=2*O)>1e-12?(g+=O*=m?1:-1,_-=O):(x=0,g=_=(f+d)/2)}var j=h*wa(g),P=h*Ca(g),L=c*wa(w),I=c*Ca(w);if(N>1e-12){var E,R=h*wa(_),z=h*Ca(_),$=c*wa(y),q=c*Ca(y);if(p<Na&&(E=Ra(j,P,$,q,R,z,L,I))){var B=j-E[0],V=P-E[1],F=R-E[0],W=z-E[1],D=1/Ca(Ta((B*F+V*W)/(ka(B*B+V*V)*ka(F*F+W*W)))/2),U=ka(E[0]*E[0]+E[1]*E[1]);A=xa(N,(c-U)/(D-1)),S=xa(N,(h-U)/(D+1))}}x>1e-12?S>1e-12?(b=za($,q,j,P,h,S,m),v=za(R,z,L,I,h,S,m),s.moveTo(b.cx+b.x01,b.cy+b.y01),S<N?s.arc(b.cx,b.cy,S,ya(b.y01,b.x01),ya(v.y01,v.x01),!m):(s.arc(b.cx,b.cy,S,ya(b.y01,b.x01),ya(b.y11,b.x11),!m),s.arc(0,0,h,ya(b.cy+b.y11,b.cx+b.x11),ya(v.cy+v.y11,v.cx+v.x11),!m),s.arc(v.cx,v.cy,S,ya(v.y11,v.x11),ya(v.y01,v.x01),!m))):(s.moveTo(j,P),s.arc(0,0,h,g,_,!m)):s.moveTo(j,P),c>1e-12&&M>1e-12?A>1e-12?(b=za(L,I,R,z,c,-A,m),v=za(j,P,$,q,c,-A,m),s.lineTo(b.cx+b.x01,b.cy+b.y01),A<N?s.arc(b.cx,b.cy,A,ya(b.y01,b.x01),ya(v.y01,v.x01),!m):(s.arc(b.cx,b.cy,A,ya(b.y01,b.x01),ya(b.y11,b.x11),!m),s.arc(0,0,c,ya(b.cy+b.y11,b.cx+b.x11),ya(v.cy+v.y11,v.cx+v.x11),m),s.arc(v.cx,v.cy,A,ya(v.y11,v.x11),ya(v.y01,v.x01),!m))):s.arc(0,0,c,w,y,m):s.lineTo(L,I)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Na/2;return[wa(r)*n,Ca(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:ga(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ga(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ga(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ga(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:ga(+t),l):i},l.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:ga(+t),l):a},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:ga(+t),l):o},l.context=function(t){return arguments.length?(s=null!=t?t:null,l):s},l}().innerRadius(r-t.ringWidth-t.ringInset).outerRadius(r-t.ringInset).startAngle((r,i)=>{const a=ss(e,i);return fs(t.minAngle+a*n)}).endAngle((r,i)=>{const a=ss(e,i+1);return fs(t.minAngle+a*n)})})),xs=({d3_refs:t,newValue:e,config:n})=>{const r=_s(n)(e),i=n.maxAngle-n.minAngle,a=n.minAngle+r*i;t.pointer.transition().duration(n.needleTransitionDuration).ease(function(t){switch(t){case ds.easeLinear:return Hr;case ds.easeQuadIn:return Xr;case ds.easeQuadOut:return Gr;case ds.easeQuadInOut:return Yr;case ds.easeCubicIn:return Qr;case ds.easeCubicOut:return Jr;case ds.easeCubicInOut:return Zr;case ds.easePolyIn:return Kr;case ds.easePolyOut:return ti;case ds.easePolyInOut:return ei;case ds.easeSinIn:return ii;case ds.easeSinOut:return ai;case ds.easeSinInOut:return oi;case ds.easeExpIn:return li;case ds.easeExpOut:return ui;case ds.easeExpInOut:return ci;case ds.easeCircleIn:return hi;case ds.easeCircleOut:return fi;case ds.easeCircleInOut:return di;case ds.easeBounceIn:return bi;case ds.easeBounceOut:return vi;case ds.easeBounceInOut:return gi;case ds.easeBackIn:return _i;case ds.easeBackOut:return yi;case ds.easeBackInOut:return wi;case ds.easeElasticIn:return xi;case ds.easeElasticOut:return Ci;case ds.easeElasticInOut:return ki;case ds.easeElastic:return Ci;default:return Yr}}(n.needleTransition)).attr("transform",`rotate(${a})`),t.current_value_text.text(function(t,e){const n=e.labelFormat(t),r=e.currentValuePlaceholderStyle;return e.currentValueText.replace(r,n)}(e,n))},Cs=({container:t,config:e})=>{const n=function(t){return t.width/2}(e),r=function(t,e,n){return`translate(${t+e}, ${t+n})`}(n,e.paddingHorizontal,e.paddingVertical),i=function({container:t,config:e}){const n=e.width+2*e.paddingHorizontal,r=e.height+2*e.paddingVertical;return Ve(t).append("svg:svg").attr("class","speedometer").attr("width",`${n}${e.dimensionUnit}`).attr("height",`${r}${e.dimensionUnit}`).attr("role","img").attr("focusable","false").attr("aria-label",e.svgAriaLabel).style("width",`${n}${e.dimensionUnit}`).style("height",`${r}${e.dimensionUnit}`)}({container:t,config:e});return function({config:t,svg:e,centerTx:n}){const r=ws(t),i=Ms(t);e.append("g").attr("class","arc").attr("transform",n).selectAll("path").data(r).enter().append("path").attr("class","speedo-segment").attr("fill",(e,n)=>!ns(t.segmentColors)&&t.segmentColors[n]?t.segmentColors[n]:t.arcColorFn(e*n)).attr("d",i)}({config:e,svg:i,centerTx:r}),function({config:t,svg:e,centerTx:n,r:r}){const i=ys(t),a=ws(t),o=_s(t),s=t.maxAngle-t.minAngle,{customSegmentLabels:l}=t,u=B(l)&&!ns(l),c=u&&l.length===a.length;if(u&&!c)throw new Error("Custom Segment Labels should be an array with length of "+a.length);u&&c?function({config:t,svg:e,centerTx:n,r:r,ticks:i,tickData:a,scale:o,range:s}){const{customSegmentStops:l,customSegmentLabels:u}=t;function c(e,n){const r=0===l.length?o(e):ss(a,n);return t.minAngle+r*s}const h=u.map((t,e)=>{const n=e,r=e+1,a=c(i[n],n);return(c(i[r],r)+a)/2}),f=r-t.ringWidth-t.ringInset,d=r-t.ringInset,p=d-(d-f)/2;e.append("g").attr("class","label").attr("transform",n).selectAll("text").data(u).enter().append("text").attr("transform",(e,n)=>{const i=h[n],a=`rotate(${i}) translate(0, ${t.labelInset-r})`,o=`rotate(${i}) translate(0, ${t.labelInset/2-p})`;return"OUTSIDE"===e.position?a:o}).text(t=>t.text||"").attr("class","segment-value").style("text-anchor","middle").style("font-size",e=>e.fontSize||t.labelFontSize).style("font-weight","bold").style("fill",e=>e.color||t.textColor)}({config:t,svg:e,centerTx:n,r:r,ticks:i,tickData:a,scale:o,range:s}):e.append("g").attr("class","label").attr("transform",n).selectAll("text").data(i).enter().append("text").attr("transform",(e,n)=>{const i=0===t.customSegmentStops.length?o(e):ss(a,n);return`rotate(${t.minAngle+i*s}) translate(0, ${t.labelInset-r})`}).text(t.labelFormat).attr("class","segment-value").style("text-anchor","middle").style("font-size",t.labelFontSize).style("font-weight","bold").style("fill",t.textColor)}({config:e,svg:i,centerTx:r,r:n}),{current_value_text:ks({config:e,svg:i}),pointer:Ns({config:e,svg:i,r:n,centerTx:r})}};function ks({config:t,svg:e}){const n=(t.width+2*t.paddingHorizontal)/2,r=(t.width+4*t.paddingVertical)/2;return e.append("g").attr("transform",`translate(${n}, ${r})`).append("text").attr("class","current-value").attr("text-anchor","middle").attr("y",23).text(t.currentValue).style("font-size",t.valueTextFontSize).style("font-weight",t.valueTextFontWeight).style("fill",t.textColor)}function Ns({config:t,svg:e,r:n,centerTx:r}){const i=function({heightRatio:t,radius:e}){if(t<0||t>1)throw new Error("Invalid needleHeightRatio given - "+t);return Math.round(e*t)}({heightRatio:t.needleHeightRatio,radius:n}),a=[[t.pointerWidth/2,0],[0,-i],[-t.pointerWidth/2,0],[0,t.pointerTailLength],[t.pointerWidth/2,0]],o=function(){var t=Ba,e=Va,n=ga(!0),r=null,i=qa,a=null;function o(o){var s,l,u,c=o.length,h=!1;for(null==r&&(a=i(u=Pi())),s=0;s<=c;++s)!(s<c&&n(l=o[s],s,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(l,s,o),+e(l,s,o));if(u)return a=null,u+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:ga(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:ga(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:ga(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}().curve(Xa);return e.append("g").data([a]).attr("class","pointer").attr("transform",r).style("fill",t.needleColor).append("path").attr("d",o).attr("transform",`rotate(${t.minAngle})`)}var As=(()=>{try{var t=Fo(Object,"defineProperty");return t({},"",{}),t}catch(e){}})(),Ss=As;function Ts(t,e){return t===e||t!=t&&e!=e}function Os(t,e){for(var n=t.length;n--;)if(Ts(t[n][0],e))return n;return-1}var js=Array.prototype.splice;function Ps(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ps.prototype.clear=function(){this.__data__=[],this.size=0},Ps.prototype.delete=function(t){var e=this.__data__,n=Os(e,t);return!(n<0)&&(n==e.length-1?e.pop():js.call(e,n,1),--this.size,!0)},Ps.prototype.get=function(t){var e=this.__data__,n=Os(e,t);return n<0?void 0:e[n][1]},Ps.prototype.has=function(t){return Os(this.__data__,t)>-1},Ps.prototype.set=function(t,e){var n=this.__data__,r=Os(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Ls=Fo(Object,"create"),Is=Object.prototype.hasOwnProperty,Es=Object.prototype.hasOwnProperty;function Rs(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zs(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function $s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qs(t){var e=this.__data__=new Ps(t);this.size=e.size}function Bs(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new $s;++e<n;)this.add(t[e])}function Vs(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Fs(t,e,n,r,i,a){var o=1&n,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var h=-1,f=!0,d=2&n?new Bs:void 0;for(a.set(t,e),a.set(e,t);++h<s;){var p=t[h],m=e[h];if(r)var b=o?r(m,p,h,e,t,a):r(p,m,h,t,e,a);if(void 0!==b){if(b)continue;f=!1;break}if(d){if(!Vs(e,(t,e)=>{if(o=e,!d.has(o)&&(p===t||i(p,t,n,r,a)))return d.push(e);var o})){f=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}Rs.prototype.clear=function(){this.__data__=Ls?Ls(null):{},this.size=0},Rs.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Rs.prototype.get=function(t){var e=this.__data__;if(Ls){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Is.call(e,t)?e[t]:void 0},Rs.prototype.has=function(t){var e=this.__data__;return Ls?void 0!==e[t]:Es.call(e,t)},Rs.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ls&&void 0===e?"__lodash_hash_undefined__":e,this},$s.prototype.clear=function(){this.size=0,this.__data__={hash:new Rs,map:new(Do||Ps),string:new Rs}},$s.prototype.delete=function(t){var e=zs(this,t).delete(t);return this.size-=e?1:0,e},$s.prototype.get=function(t){return zs(this,t).get(t)},$s.prototype.has=function(t){return zs(this,t).has(t)},$s.prototype.set=function(t,e){var n=zs(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},qs.prototype.clear=function(){this.__data__=new Ps,this.size=0},qs.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},qs.prototype.get=function(t){return this.__data__.get(t)},qs.prototype.has=function(t){return this.__data__.has(t)},qs.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ps){var r=n.__data__;if(!Do||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $s(r)}return n.set(t,e),this.size=n.size,this},Bs.prototype.add=Bs.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Bs.prototype.has=function(t){return this.__data__.has(t)};var Ws=s.Uint8Array;function Ds(t){var e=-1,n=Array(t.size);return t.forEach((t,r)=>{n[++e]=[r,t]}),n}function Us(t){var e=-1,n=Array(t.size);return t.forEach(t=>{n[++e]=t}),n}var Hs=f?f.prototype:void 0,Xs=Hs?Hs.valueOf:void 0,Gs=Object.prototype.propertyIsEnumerable,Ys=Object.getOwnPropertySymbols,Qs=Ys?t=>null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}(Ys(t),e=>Gs.call(t,e))):function(){return[]},Js=Qs;function Zs(t){return function(t,e,n){var r=e(t);return B(t)?r:((t,e)=>{for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t})(r,n(t))}(t,ht,Js)}var Ks=Object.prototype.hasOwnProperty,tl="[object Object]",el=Object.prototype.hasOwnProperty;function nl(t,e,n,r,i,a){var o=B(t),s=B(e),l=o?"[object Array]":ts(t),u=s?"[object Array]":ts(e),c=(l="[object Arguments]"==l?tl:l)==tl,h=(u="[object Arguments]"==u?tl:u)==tl,f=l==u;if(f&&D(t)){if(!D(e))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new qs),o||et(t)?Fs(t,e,n,r,i,a):function(t,e,n,r,i,a,o){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new Ws(t),new Ws(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ts(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Ds;case"[object Set]":var l=1&r;if(s||(s=Us),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=2,o.set(t,e);var c=Fs(s(t),s(e),r,i,a,o);return o.delete(t),c;case"[object Symbol]":if(Xs)return Xs.call(t)==Xs.call(e)}return!1}(t,e,l,n,r,i,a);if(!(1&n)){var d=c&&el.call(t,"__wrapped__"),p=h&&el.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,b=p?e.value():e;return a||(a=new qs),i(m,b,n,r,a)}}return!!f&&(a||(a=new qs),function(t,e,n,r,i,a){var o=1&n,s=Zs(t),l=s.length;if(l!=Zs(e).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in e:Ks.call(e,c)))return!1}var h=a.get(t),f=a.get(e);if(h&&f)return h==e&&f==t;var d=!0;a.set(t,e),a.set(e,t);for(var p=o;++u<l;){var m=t[c=s[u]],b=e[c];if(r)var v=o?r(b,m,c,e,t,a):r(m,b,c,t,e,a);if(!(void 0===v?m===b||i(m,b,n,r,a):v)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var g=t.constructor,_=e.constructor;g==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,r,i,a))}function rl(t,e,n,r,i){return t===e||(null==t||null==e||!y(t)&&!y(e)?t!=t&&e!=e:nl(t,e,n,r,rl,i))}function il(t){return t==t&&!i(t)}function al(t,e){return n=>null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}function ol(t){var e=function(t){for(var e=ht(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,il(i)]}return e}(t);return 1==e.length&&e[0][2]?al(e[0][0],e[0][1]):n=>n===t||function(t,e,n,r){var i=n.length,a=i,o=!r;if(null==t)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){var l=(s=n[i])[0],u=t[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in t))return!1}else{var h=new qs;if(r)var f=r(u,c,l,t,e,h);if(!(void 0===f?rl(c,u,3,r,h):f))return!1}}return!0}(n,t,e)}var sl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ll=/^\w*$/;function ul(t,e){if(B(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!w(t))||ll.test(t)||!sl.test(t)||null!=e&&t in Object(e)}function cl(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(cl.Cache||$s),n}cl.Cache=$s;var hl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fl=/\\(\\)?/g,dl=function(t){var e=cl(t,t=>(500===n.size&&n.clear(),t)),n=e.cache;return e}(t=>{var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(hl,(t,n,r,i)=>{e.push(r?i.replace(fl,"$1"):n||t)}),e}),pl=dl,ml=f?f.prototype:void 0,bl=ml?ml.toString:void 0;function vl(t){if("string"==typeof t)return t;if(B(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(t,vl)+"";if(w(t))return bl?bl.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function gl(t,e){return B(t)?t:ul(t,e)?[t]:pl(function(t){return null==t?"":vl(t)}(t))}function _l(t){if("string"==typeof t||w(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function yl(t,e){for(var n=0,r=(e=gl(e,t)).length;null!=t&&n<r;)t=t[_l(e[n++])];return n&&n==r?t:void 0}function wl(t,e){return null!=t&&e in Object(t)}function Ml(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=gl(e,t)).length,a=!1;++r<i;){var o=_l(e[r]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++r!=i?a:!!(i=null==t?0:t.length)&&X(i)&&H(o,i)&&(B(t)||q(t))}(t,e,wl)}function xl(t,e){return ul(t)&&il(e)?al(_l(t),e):n=>{var r=function(t,e,n){var r=null==t?void 0:yl(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?Ml(n,t):rl(e,r,3)}}function Cl(t){return ul(t)?(e=_l(t),t=>null==t?void 0:t[e]):function(t){return e=>yl(e,t)}(t);var e}const kl={value:{type:Number,required:!0},minValue:{type:Number,required:!0},maxValue:{type:Number,required:!0},forceRender:{type:Boolean,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},paddingHorizontal:{type:Number,required:!0},paddingVertical:{type:Number,required:!0},dimensionUnit:{type:String,required:!0},fluidWidth:{type:Boolean,required:!0},segments:{type:Number,required:!0},maxSegmentLabels:{type:Number},customSegmentStops:{type:Array},customSegmentLabels:{type:Array},needleColor:{type:String,required:!0},startColor:{type:String,required:!0},endColor:{type:String,required:!0},segmentColors:{type:Array,required:!0},needleTransition:{type:String,required:!0},needleTransitionDuration:{type:Number,required:!0},needleHeightRatio:{type:Number,required:!0},ringWidth:{type:Number,required:!0},textColor:{type:String,required:!0},valueFormat:{type:String,required:!0},currentValueText:{type:String,required:!0},currentValuePlaceholderStyle:{type:String,required:!0},labelFontSize:{type:String,required:!0},valueTextFontSize:{type:String,required:!0},valueTextFontWeight:{type:String,required:!0},svgAriaLabel:{type:String,required:!0}},Nl=function(t,e){var n,r={};return e="function"==typeof(n=e)?n:null==n?mt:"object"==typeof n?B(n)?xl(n[0],n[1]):ol(n):Cl(n),ft(t,(t,n,i)=>{!function(t,e,n){"__proto__"==e&&Ss?Ss(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}(r,n,e(t,n,i))}),r}(kl,(t,e)=>({...t,default:{customSegmentStops:()=>[],customSegmentLabels:()=>[],segmentColors:()=>[],svgAriaLabel:()=>"Vue Speedometer"}[e]||ps[e],required:!1}));function Al(t){const e=ht(kl);let n={};return vt(e,e=>{n[e]=t[e]}),n}var Sl={name:"vue-speedometer",props:Nl,template:"\n    <div></div>\n  ",beforeCreate:function(){this.d3_refs={pointer:!1,current_value_text:!1}},created:function(){this._initWatchers()},mounted:function(){this.renderGauge()},data:function(){return{force_render:this.forceRender}},watch:{forceRender:function(t){this.force_render=t}},methods:{_initWatchers(){this.updateReadings=T(this._updateReadings,0,{leading:!1,trailing:!0}),vt(ht(kl).filter(t=>"forceRender"!==t),t=>{this.$watch(t,(function(e,n){this.watchUpdater({newValue:e,oldValue:n,prop:t})}))})},watchUpdater:function({newValue:t,oldValue:e,prop:n}){const r=Object.assign({[n]:t||e},"value"===n?{value:t}:{});var i,a;this.config=(i=this.config,a=r,{...i,...a}),this.$nextTick().then(()=>{this.updateReadings()})},renderGauge:function(){this.config=(({PROPS:t,parentWidth:e,parentHeight:n})=>{const r={width:t.fluidWidth?e:t.width,height:t.fluidWidth?n:t.height,paddingHorizontal:t.paddingHorizontal,paddingVertical:t.paddingVertical,dimensionUnit:t.dimensionUnit,ringWidth:t.ringWidth,minValue:t.minValue,maxValue:t.maxValue,needleColor:t.needleColor,majorTicks:t.segments,customSegmentStops:t.customSegmentStops,customSegmentLabels:t.customSegmentLabels,maxSegmentLabels:us({maxSegmentLabelCount:t.maxSegmentLabels,segmentCount:t.segments}),segmentColors:t.segmentColors,arcColorFn:t.segmentColors.length>0?va(t.segmentColors):Xn(cn(t.startColor),cn(t.endColor)),needleTransition:t.needleTransition,needleTransitionDuration:t.needleTransitionDuration,needleHeightRatio:t.needleHeightRatio,textColor:t.textColor,labelFormat:Xi(t.valueFormat),currentValueText:t.currentValueText,currentValuePlaceholderStyle:t.currentValuePlaceholderStyle,labelFontSize:t.labelFontSize,valueTextFontSize:t.valueTextFontSize,valueTextFontWeight:t.valueTextFontWeight,svgAriaLabel:t.svgAriaLabel};return Object.assign({},ms,r)})({PROPS:Al(this),parentWidth:this.$el.parentNode.clientWidth,parentHeight:this.$el.parentNode.clientHeight}),Ve(this.$el).select("svg").remove(),this.d3_refs=Cs({container:this.$el,config:this.config}),xs({d3_refs:this.d3_refs,newValue:this.value,config:this.config})},_updateReadings:function(){this.force_render?this.renderGauge():xs({d3_refs:this.d3_refs,newValue:this.config.value||0,config:this.config})}}}}).call(this,n("c8ba"),n("dd40")(t))},b7a2:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nifty_gauge",style:"width:"+t.size+"; max-width:"+t.size,attrs:{id:t.uniqid_gen},on:{click:t.emitClick}},[n("div",{staticClass:"inner_wrapper"},[n("svg",{attrs:{viewBox:"0 0 100 100"}},[n("clipPath",{attrs:{id:"clip"}},[n("path",{attrs:{d:"M 50 0 a 50 50 0 0 1 0 100 50 50 0 0 1 0 -100 v 16 a 34 34 0 0 0 0 68 34 34 0 0 0 0 -68"}})]),n("foreignObject",{attrs:{x:"0",y:"0",width:"100",height:"100","clip-path":"url(#clip)"}},[n("div",{staticClass:"gradient",style:t.buildConicGradient(),attrs:{xmlns:"http://www.w3.org/1999/xhtml"}})])])]),n("div",{staticClass:"gauge",style:"transform:translate(-50%, -100%) rotate("+t.capAngle()+"deg);"}),n("div",{staticClass:"knob"}),t.subl?n("span",{staticClass:"subl"},[t._v(t._s(t.subl))]):t._e(),t.subm?n("span",{staticClass:"subm"},[t._v(t._s(t.subm))]):t._e(),t.subr?n("span",{staticClass:"subr"},[t._v(t._s(t.subr))]):t._e(),t.label?n("span",{staticClass:"label"},[t._v(t._s(t.label))]):t._e(),t.tooltip?n("b-tooltip",{attrs:{target:t.uniqid_gen}},[t._v(t._s(t.tooltip))]):t._e()],1)},a=[],o=(n("6b54"),{name:"NiftyGauge",props:{angle:{type:String,default:"0"},size:{type:String,default:""},tooltip:{type:String,default:""},subm:{type:String,default:""},subl:{type:String,default:""},subr:{type:String,default:""},label:{type:String,default:""},stops:{type:Array,default:["from","90deg","#f44336","0%","#f44336","50%","#ffeb3b","60%","#4caf50","75%","#ffeb3b","90%","#f44336","100%"]}},data:function(){return{uniqid_gen:""}},created:function(){this.uniqid_gen=this.uniqid("ngtt_")},methods:{uniqid:function(t){return t+window.Math.random().toString(36)},emitClick:function(){this.$emit("clicked",this.uniqid_gen)},capAngle:function(){var t=50,e=50,n=35;return this.angle=-.5*Math.PI-2*i*Math.PI,(t-n*Math.cos(angle)).toFixed(4),(e+n*Math.sin(angle)).toFixed(4),this.angle},lerp:function(t,e,n){return t+(e-t)*n},buildConicGradient:function(){for(var t="background-image:conic-gradient(",e=0;e<this.stops.length;e+=2)t=t+this.stops[e]+" "+this.stops[e+1]+(e+2<this.stops.length?", ":"");return t+=")",t}}}),s=o,l=(n("8928"),n("2877")),u=Object(l["a"])(s,r,a,!1,null,"4d9a73a9",null);e["a"]=u.exports},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},df6f:function(t,e,n){"use strict";n.r(e);var r,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("base-header",{staticClass:"pb-6",attrs:{type:"nutrients"}},[n("b-row",{staticClass:"py-4",attrs:{"align-v":"center"}},[n("b-col",[n("h6",{directives:[{name:"show",rawName:"v-show",value:t.field_name,expression:"field_name"}],staticClass:"h2 text-white d-inline-block mb-0 mr-5"},[t._v("Nutrients - "+t._s(t.field_name)+" - "+t._s(t.model.node_address)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"mab_spinner light right"})])],1)],1),n("div",{staticClass:"container-fluid mt--6"},[n("b-modal",{attrs:{centered:"","no-close-on-esc":"","no-close-on-backdrop":"",size:"lg"},scopedSlots:t._u([{key:"modal-header",fn:function(e){e.close;return[n("h6",{staticClass:"modal-title"},[t._v("Nutrient Templates")])]}},{key:"modal-footer",fn:function(e){e.ok,e.cancel,e.hide;return[n("b-button",{staticClass:"ml-auto",attrs:{disabled:!t.userCan("Add","Nutrient Templates")||t.loading,variant:"outline-primary"},on:{click:t.addNutrientTemplate}},[t._v("\n            Add Template\n          ")]),n("b-button",{attrs:{variant:"outline-primary"},on:{click:t.closeBrowseTemplatesModal}},[t._v("\n            Close\n          ")])]}}]),model:{value:t.browseTemplatesModalVisible,callback:function(e){t.browseTemplatesModalVisible=e},expression:"browseTemplatesModalVisible"}},[n("b-card",{attrs:{"no-body":""}},[n("b-tabs",{attrs:{card:""}},[n("b-tab",{attrs:{title:"Micro Nutrients",active:""},scopedSlots:t._u([{key:"default",fn:function(e){e.hide;return[n("b-row",[n("b-col",[n("b-form-select",{model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}},[n("b-form-select-option",{attrs:{value:5}},[t._v("5")]),n("b-form-select-option",{attrs:{value:10,selected:""}},[t._v("10")]),n("b-form-select-option",{attrs:{value:25}},[t._v("25")]),n("b-form-select-option",{attrs:{value:50}},[t._v("50")])],1)],1),n("b-col",{attrs:{md:""}}),n("b-col",[n("base-input",{attrs:{"prepend-icon":"fas fa-search",placeholder:"Search..."},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1)],1),n("b-row",[n("b-col",{attrs:{md:""}},[n("b-table",{attrs:{striped:"",bordered:"",outlined:"",small:"",stacked:"md",responsive:"","show-empty":"","primary-key":"id","per-page":t.perPage,"current-page":t.currentPage,filter:t.filterText,fields:t.templateTableColumns,items:t.loadedTemplates,busy:t.loading},on:{"update:busy":function(e){t.loading=e}},scopedSlots:t._u([{key:"cell()",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(actions)",fn:function(e){return[n("div",{staticClass:"d-flex justify-content-center"},[n("b-button",{staticClass:"btn",attrs:{disabled:!t.userCan("Edit","Nutrient Templates",e.item.id,"O")||"Default Template"==e.item.name||t.loading,variant:"outline-primary",size:"sm",icon:""},on:{click:function(n){return t.applyNutrientTemplate(e.index,e.item)}}},[t._v("\n                    Apply\n                    ")]),n("b-button",{staticClass:"btn",attrs:{disabled:!t.userCan("Edit","Nutrient Templates",e.item.id,"O")||"Default Template"==e.item.name||t.loading,variant:"outline-primary",size:"sm",icon:""},on:{click:function(n){return t.editNutrientTemplate(e.index,e.item)}}},[t._v("\n                    Edit\n                    ")]),n("b-button",{staticClass:"btn",attrs:{disabled:!t.userCan("Delete","Nutrient Templates",e.item.id,"O")||"Default Template"==e.item.name||t.loading,variant:"outline-primary",size:"sm",icon:""},on:{click:function(n){return t.removeNutrientTemplate(e.index,e.item)}}},[t._v("\n                    Remove\n                    ")])],1)]}},{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center"},[n("div",{staticClass:"mab_spinner"})])]},proxy:!0},{key:"empty",fn:function(e){return[n("div",{staticClass:"text-center"},[t._v("\n                    No templates found\n                  ")])]}}],null,!0)})],1)],1),n("b-row",[n("b-col",{attrs:{md:""}},[t._v("\n              Showing "+t._s(Math.min(1+t.perPage*(t.currentPage-1),t.totalRows))+" to "+t._s(Math.min(t.perPage*(t.currentPage-1)+t.perPage,t.totalRows))+" of "+t._s(t.totalRows)+" templates\n            ")]),n("b-col",{attrs:{md:""}},[n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)]}}])}),n("b-tab",{attrs:{title:"Macro Nutrients"},scopedSlots:t._u([{key:"default",fn:function(t){t.hide;return[n("b-row",[n("b-col",[n("div"),n("b-col")],1)],1)]}}])}),n("b-tab",{attrs:{title:"Sensor Setup"},scopedSlots:t._u([{key:"default",fn:function(e){e.hide;return[n("b-row",[n("b-col",{staticClass:"p-0",attrs:{md:"3"}},[n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-body",{staticClass:"p-0"},[n("b-list-group",[n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M3.1\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M4.1\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-2",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M5.1\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-3",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M6.1\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-4",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1)],1)],1)],1)],1),n("b-col",{staticClass:"p-0",attrs:{md:"3"}},[n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-body",{staticClass:"p-0"},[n("b-list-group",[n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M3.2\n                                  "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M4.2\n                                  "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-2",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M5.2\n                                  "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-3",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M6.2\n                                  "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-4",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1)],1)],1)],1)],1),n("b-col",{staticClass:"p-0",attrs:{md:"3"}},[n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-body",{staticClass:"p-0"},[n("b-list-group",[n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M3.3\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M4.3\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-2",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M5.3\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-3",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M6.3\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-4",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1)],1)],1)],1)],1),n("b-col",{staticClass:"p-0",attrs:{md:"3"}},[n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-body",{staticClass:"p-0"},[n("b-list-group",[n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M3.4\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M4.4\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-2",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M5.4\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-3",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1),n("b-list-group-item",{staticClass:"p-0 pl-2"},[t._v("M6.4\n                            "),n("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-4",text:"Nutrient"}},t._l(t.loadedTemplates,(function(e){return n("b-dropdown-item",[t._v(t._s(e.name))])})),1)],1)],1)],1)],1)],1)],1)]}}])})],1)],1)],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("card",{attrs:{"body-classes":"px-0 py-0"}},[n("template",{slot:"header"},[n("b-row",[n("b-col",[n("base-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",modifiers:{hover:!0,top:!0}}],staticClass:"btn",attrs:{disabled:!t.userCan("Graph","Nutrients",t.model.node_address,"O")||t.loading,type:"primary",size:"sm",title:"Navigate to node's graphing screen.",icon:""},nativeOn:{click:function(e){return t.goToGraph()}}},[t._v("\n                    Graph\n                  ")])],1)],1)],1),n("div",{staticClass:"card-body"},[n("b-row",[n("b-col",{attrs:{md:""}},[n("card",{attrs:{"body-classes":"px-1 py-1"}},[n("div",{staticClass:"card-body"},[n("b-row",[n("b-col",{attrs:{md:"","align-self":"center"}},[n("b-toast",{attrs:{visible:!0,title:"Readings Date",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                            "+t._s(t.latestDateReported)+"\n                          ")])],1),n("b-col",{attrs:{md:"","align-self":"center"}},[n("b-toast",{attrs:{visible:!0,title:"Active Template",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                            "+t._s(t.loadedTemplateName)+"\n                          ")])],1),n("b-col",{attrs:{md:"","align-self":"center"}},[n("base-button",{staticClass:"btn",attrs:{disabled:!t.userCan("View","Nutrient Templates")||t.loading,type:"primary",icon:""},nativeOn:{click:function(e){return t.openNutrientTemplatesModal()}}},[t._v("\n                            Nutrient Templates\n                          ")])],1),n("b-col",{attrs:{md:"","align-self":"center"}},[n("b-toast",{attrs:{visible:!0,title:"Install Depth",static:"","no-auto-hide":"","no-close-button":""}},[n("validation-observer",{ref:"nform",attrs:{slim:""}},[n("base-input",{attrs:{vid:"install_depth",rules:"required",name:"install depth"}},[n("el-select",{attrs:{size:"small",placeholder:"Install Depth"},on:{change:t.syncFields},model:{value:t.model.install_depth,callback:function(e){t.$set(t.model,"install_depth",e)},expression:"model.install_depth"}},t._l(t.install_depths,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1)],1)],1)],1)])],1)],1),n("b-row",[n("b-col",{attrs:{md:""}},[n("div",{staticClass:"accordion",attrs:{role:"tablist"}},[n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"light text-left acc-btn",attrs:{block:"",variant:"text-left"}},[t._v("Raw")])],1),n("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[n("b-card-body",[n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M3_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M3_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M3_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M3_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.avg_M3)+"\n                            ")])],1)],1),n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M4_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M4_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M4_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M4_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.avg_M4)+"\n                            ")])],1)],1),n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M5_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M5_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M5_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M5_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.avg_M5)+"\n                            ")])],1)],1),n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M6_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M6_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M6_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.M6_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.raw.avg_M6)+"\n                            ")])],1)],1)],1)],1)],1),n("b-card",{staticClass:"mb-1",attrs:{"no-body":"","body-classes":"px-1 py-1"}},[n("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticClass:"light text-left acc-btn",attrs:{block:"",variant:"text-left"}},[t._v("PPM")])],1),n("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[n("b-card-body",[n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M3_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M3_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M3_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M3_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.avg_M3)+"\n                            ")])],1)],1),n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M4_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M4_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M4_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M4_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.avg_M4)+"\n                            ")])],1)],1),n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M5_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M5_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M5_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M5_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.avg_M5)+"\n                            ")])],1)],1),n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M6_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M6_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M6_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.M6_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.ppm.avg_M6)+"\n                            ")])],1)],1)],1)],1)],1),n("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[n("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"light text-left acc-btn",attrs:{block:"",variant:"text-left"}},[t._v("Pounds")])],1),n("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[n("b-card-body",[n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M3_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M3_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M3_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M3.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M3_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.avg_M3)+"\n                            ")])],1)],1),n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M4_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M4_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M4_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M4.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M4_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.avg_M4)+"\n                            ")])],1)],1),n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M5_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M5_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M5_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M5.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M5_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.avg_M5)+"\n                            ")])],1)],1),n("b-row",[n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.1",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M6_1)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.2",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M6_2)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.3",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M6_3)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"M6.4",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.M6_4)+"\n                            ")])],1),n("b-col",[n("b-toast",{attrs:{visible:!0,title:"Avg.",static:"","no-auto-hide":"","no-close-button":""}},[t._v("\n                              "+t._s(t.pounds.avg_M6)+"\n                            ")])],1)],1)],1)],1)],1)],1)]),n("b-col",{attrs:{md:""}},[n("card",[n("template",{slot:"header"},[n("strong",[t._v("Nutrient Gauge")])]),n("div",{staticClass:"card-body"},[n("b-row",[n("b-col",{attrs:{md:""}},[n("highcharts",{ref:"hchart",staticClass:"hc",attrs:{options:t.m3ChartOptions,"update-args":t.chartUpdateArgs}})],1),n("b-col",{attrs:{md:""}},[n("highcharts",{ref:"hchart",staticClass:"hc",attrs:{options:t.m4ChartOptions,"update-args":t.chartUpdateArgs}})],1)],1),n("b-row",[n("b-col",{attrs:{md:""}},[n("highcharts",{ref:"hchart",staticClass:"hc",attrs:{options:t.m5ChartOptions,"update-args":t.chartUpdateArgs}})],1),n("b-col",{attrs:{md:""}},[n("highcharts",{ref:"hchart",staticClass:"hc",attrs:{options:t.m6ChartOptions,"update-args":t.chartUpdateArgs}})],1)],1)],1)],2)],1)],1)],1)],2),n("card",{attrs:{"body-classes":"px-0 py-0"}},[n("template",{slot:"header"},[n("h3",{staticClass:"mb-0"},[t._v("Graph Configuration")])]),n("div",{staticClass:"card-body"},[n("validation-observer",{ref:"nform",attrs:{slim:""}},[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:""}},[n("base-input",{attrs:{label:"Graph Type",name:"graph type",rules:"required",vid:"graph_type"}},[n("el-select",{attrs:{filterable:"",placeholder:"Graph Type"},on:{change:t.syncFields},model:{value:t.model.graph_type,callback:function(e){t.$set(t.model,"graph_type",e)},expression:"model.graph_type"}},[n("el-option",{attrs:{label:"Nutrients (RAW)",value:"nutrient"}}),n("el-option",{attrs:{label:"Nutrients (PPM)",value:"nutrient_ppm"}}),n("el-option",{attrs:{label:"Nutrients (PPM Average)",value:"nutrient_ppm_avg"}})],1)],1)],1),n("b-col",{attrs:{md:""}},[n("base-input",{attrs:{label:"Graph Start Date",name:"start date",vid:"graph_start_date"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.focus,i=e.blur;return n("flat-picker",{staticClass:"form-control datepicker",attrs:{placeholder:"Graph Start Date",config:t.flatPickrConfig},on:{"on-open":r,"on-close":i,"on-change":t.syncFields},model:{value:t.model.graph_start_date,callback:function(e){t.$set(t.model,"graph_start_date",e)},expression:"model.graph_start_date"}})}}])})],1)],1)],1)],1)],2)],1)])],1)],1)},a=[],o=(n("20d6"),n("bd86")),s=(n("6611"),n("450d"),n("e772")),l=n.n(s),u=(n("7f7f"),n("1f1a"),n("4e4b")),c=n.n(u),h=n("c38f"),f=n.n(h),d=(n("0952"),n("3d20")),p=n.n(d),m=n("8fe0"),b=n("b7a2"),v=n("b477"),g=(n("ea7f"),{mixins:[m["a"]],components:(r={},Object(o["a"])(r,c.a.name,c.a),Object(o["a"])(r,l.a.name,l.a),Object(o["a"])(r,"flatPicker",f.a),Object(o["a"])(r,"NiftyGauge",b["a"]),Object(o["a"])(r,"VueSpeedometer",v["a"]),r),data:function(){var t,e=this;return t={fields:["N03_1","NH4_1","N03","NH4"]},Object(o["a"])(t,"fields",[{key:"N03_1",label:"",class:"text-center"},{key:"NH4_1",label:"",class:"text-center"},{key:"N03",label:"",class:"text-center"},{key:"NH4",label:"",class:"text-center"}]),Object(o["a"])(t,"items",[{isActive:!0,N03_1:"3.1",NH4_1:"3.2",N03:"3.3",NH4:"3.2"},{isActive:!0,N03_1:"4.1",NH4_1:"4.2",N03:"4.3",NH4:"4.4"},{isActive:!0,N03_1:"5.1",NH4_1:"5.2",N03:"5.3",NH4:"5.4"},{isActive:!0,N03_1:"6.1",NH4_1:"6.2",N03:"6.3",NH4:"6.4"}]),Object(o["a"])(t,"initial",!0),Object(o["a"])(t,"loading",!1),Object(o["a"])(t,"date_now",""),Object(o["a"])(t,"applied_template",""),Object(o["a"])(t,"company_id",null),Object(o["a"])(t,"field_id",""),Object(o["a"])(t,"field_name",""),Object(o["a"])(t,"graph_type",""),Object(o["a"])(t,"series",[]),Object(o["a"])(t,"chartUpdateArgs",[!0,!0,{duration:1e3}]),Object(o["a"])(t,"plotOptions",{series:{states:{inactive:{opacity:1}}}}),Object(o["a"])(t,"exporting",{enabled:!1}),Object(o["a"])(t,"plotLines",[]),Object(o["a"])(t,"resetButton",{text:"Reset",enabled:!0,onclick:function(t){e.resetSeriesData()}}),Object(o["a"])(t,"browseTemplatesModalVisible",!1),Object(o["a"])(t,"manageTemplateModalVisible",!1),Object(o["a"])(t,"templateTableColumns",[{key:"name",label:"Template",sortable:!0,tdClass:"valign"},{key:"created_at",label:"Date Created",sortable:!0,tdClass:"valign"},{key:"user_name",label:"Created By",sortable:!0,tdClass:"valign"},{key:"actions",label:"Actions"}]),Object(o["a"])(t,"currentMode","Add"),Object(o["a"])(t,"loadedTemplates",[]),Object(o["a"])(t,"loadedTemplateId",null),Object(o["a"])(t,"loadedTemplateName","Default Template"),Object(o["a"])(t,"latestDateReported","1970-01-01 00:00:00"),Object(o["a"])(t,"totalRows",1),Object(o["a"])(t,"currentPage",1),Object(o["a"])(t,"perPage",10),Object(o["a"])(t,"filterText",""),Object(o["a"])(t,"gauge_value",0),Object(o["a"])(t,"raw",{M3_1:0,M3_2:0,M3_3:0,M3_4:0,M4_1:0,M4_2:0,M4_3:0,M4_4:0,M5_1:0,M5_2:0,M5_3:0,M5_4:0,M6_1:0,M6_2:0,M6_3:0,M6_4:0,avg_M3:0,avg_M4:0,avg_M5:0,avg_M6:0}),Object(o["a"])(t,"ppm",{M3_1:0,M3_2:0,M3_3:0,M3_4:0,M4_1:0,M4_2:0,M4_3:0,M4_4:0,M5_1:0,M5_2:0,M5_3:0,M5_4:0,M6_1:0,M6_2:0,M6_3:0,M6_4:0,avg_M3:0,avg_M4:0,avg_M5:0,avg_M6:0}),Object(o["a"])(t,"pounds",{M3_1:0,M3_2:0,M3_3:0,M3_4:0,M4_1:0,M4_2:0,M4_3:0,M4_4:0,M5_1:0,M5_2:0,M5_3:0,M5_4:0,M6_1:0,M6_2:0,M6_3:0,M6_4:0,avg_M3:0,avg_M4:0,avg_M5:0,avg_M6:0}),Object(o["a"])(t,"model",{node_id:null,node_address:null,install_depth:2.4,graph_type:"nutrients",graph_start_date:""}),Object(o["a"])(t,"template_name",null),Object(o["a"])(t,"template_model",{id:null,poly1:0,poly2:0,lower_limit:0,upper_limit:0,metric:"",soil_type:"",crop_name:""}),Object(o["a"])(t,"lower_limit",0),Object(o["a"])(t,"upper_limit",0),Object(o["a"])(t,"nutrient_label",""),Object(o["a"])(t,"soilTypes",[{value:1,label:"Sand"},{value:2,label:"Loamy Sand"},{value:3,label:"Sandy Loam"},{value:4,label:"Loam"},{value:5,label:"Silt Loam"},{value:6,label:"Silt"},{value:7,label:"Sandy Clay Loam"},{value:8,label:"Clay Loam"},{value:9,label:"Silty Clay Loam"},{value:10,label:"Sandy Clay"},{value:11,label:"Silty Clay"},{value:12,label:"Clay"}]),Object(o["a"])(t,"metrics",[{value:"ppm",label:"Parts per million (PPM)"},{value:"pounds",label:"Pounds"}]),Object(o["a"])(t,"install_depths",[{value:1.8,label:'4" - 1.8 Pound Factor'},{value:2.1,label:'6" - 2.1 Pound Factor'},{value:2.4,label:'8" - 2.4 Pound Factor'}]),t},computed:{chartOptions:function(){var t=parseFloat(this.ppm.avg).toFixed(2);return{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:"80%"},title:{text:""},pane:{startAngle:-90,endAngle:90,background:null,center:["50%","75%"],size:"110%"},yAxis:{min:-50,max:50,tickPixelInterval:72,tickPosition:"inside",tickColor:"#000000",tickLength:20,tickWidth:0,minorTickInterval:null,labels:{distance:20,style:{fontSize:"14px"}},plotBands:[{from:20,to:50,color:"#55BF3B",thickness:50},{from:-10,to:20,color:"#DDDF0D",thickness:50},{from:-50,to:-10,color:"#DF5353",thickness:50}]},series:[{name:"Average",data:[t],tooltip:{valueSuffix:" (PPM)"},dataLabels:{format:"{y} (PPM)",borderWidth:0,color:"#333333",style:{fontSize:"16px"}},dial:{radius:"80%",backgroundColor:"black",baseWidth:12,baseLength:"0%",rearLength:"0%"},pivot:{backgroundColor:"gray",radius:6}}],exporting:{enabled:!1}}},m3ChartOptions:function(){var t=parseFloat(this.ppm.M3_1);return{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:"80%"},title:null,pane:{startAngle:-90,endAngle:90,background:{borderColor:"transparent",backgroundColor:"transparent"},center:["50%","75%"],size:"110%"},yAxis:{min:-50,max:50,tickPixelInterval:72,tickPosition:"inside",tickColor:"#000000",tickLength:20,tickWidth:0,minorTickInterval:null,labels:{distance:15,style:{fontSize:"10px"}},plotBands:[{from:30,to:50,color:"#f44536",thickness:30,borderWidth:0},{from:10,to:30,color:"#fbe13b",thickness:30},{from:-10,to:10,color:"#83c14b",thickness:30},{from:-10,to:-30,color:"#fbe13b",thickness:30},{from:-50,to:-30,color:"#f44536",thickness:30}]},series:[{name:"M3.1",data:[t],tooltip:{valueSuffix:" (PPM)"},dataLabels:{format:"{y} (PPM)",borderWidth:0,color:"#333333",style:{fontSize:"16px"}},dial:{radius:"80%",backgroundColor:"black",baseWidth:12,baseLength:"0%",rearLength:"0%"},pivot:{backgroundColor:"gray",radius:6}}],exporting:{enabled:!1}}},m4ChartOptions:function(){var t=parseFloat(this.ppm.M4_1);return{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:"80%"},title:null,pane:{startAngle:-90,endAngle:90,background:{borderColor:"transparent",backgroundColor:"transparent"},center:["50%","75%"],size:"110%"},yAxis:{min:-50,max:50,tickPixelInterval:72,tickPosition:"inside",tickColor:"#000000",tickLength:20,tickWidth:0,minorTickInterval:null,labels:{distance:15,style:{fontSize:"10px"}},plotBands:[{from:30,to:50,color:"#f44536",thickness:30,borderWidth:0},{from:10,to:30,color:"#fbe13b",thickness:30},{from:-10,to:10,color:"#83c14b",thickness:30},{from:-10,to:-30,color:"#fbe13b",thickness:30},{from:-50,to:-30,color:"#f44536",thickness:30}]},series:[{name:"M4.1",data:[t],tooltip:{valueSuffix:" (PPM)"},dataLabels:{format:"{y} (PPM)",borderWidth:0,color:"#333333",style:{fontSize:"16px"}},dial:{radius:"80%",backgroundColor:"black",baseWidth:12,baseLength:"0%",rearLength:"0%"},pivot:{backgroundColor:"grey",radius:6}}],exporting:{enabled:!1}}},m5ChartOptions:function(){var t=parseFloat(this.ppm.M5_1);return{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:"80%"},title:null,pane:{startAngle:-90,endAngle:90,background:{borderColor:"transparent",backgroundColor:"transparent"},center:["50%","75%"],size:"110%"},yAxis:{min:-50,max:50,tickPixelInterval:72,tickPosition:"inside",tickColor:"#000000",tickLength:20,tickWidth:0,minorTickInterval:null,labels:{distance:15,style:{fontSize:"10px"}},plotBands:[{from:30,to:50,color:"#f44536",thickness:30,borderWidth:0},{from:10,to:30,color:"#fbe13b",thickness:30},{from:-10,to:10,color:"#83c14b",thickness:30},{from:-10,to:-30,color:"#fbe13b",thickness:30},{from:-50,to:-30,color:"#f44536",thickness:30}]},series:[{name:"M5.1",data:[t],tooltip:{valueSuffix:" (PPM)"},dataLabels:{format:"{y} (PPM)",borderWidth:0,color:"#333333",style:{fontSize:"16px"}},dial:{radius:"80%",backgroundColor:"black",baseWidth:12,baseLength:"0%",rearLength:"0%"},pivot:{backgroundColor:"gray",radius:6}}],exporting:{enabled:!1}}},m6ChartOptions:function(){var t=parseFloat(this.ppm.M6_1);return{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,height:"80%"},title:null,pane:{startAngle:-90,endAngle:90,background:{borderColor:"transparent",backgroundColor:"transparent"},center:["50%","75%"],size:"110%"},yAxis:{min:-50,max:50,tickPixelInterval:72,tickPosition:"inside",tickColor:"#000000",tickLength:20,tickWidth:0,minorTickInterval:null,labels:{distance:15,style:{fontSize:"10px"}},plotBands:[{from:30,to:50,color:"#f44536",thickness:30,borderWidth:0},{from:10,to:30,color:"#fbe13b",thickness:30},{from:-10,to:10,color:"#83c14b",thickness:30},{from:-10,to:-30,color:"#fbe13b",thickness:30},{from:-50,to:-30,color:"#f44536",thickness:30}]},series:[{name:"M6.1",data:[t],tooltip:{valueSuffix:" (PPM)"},dataLabels:{format:"{y} (PPM)",borderWidth:0,color:"#333333",style:{fontSize:"16px"}},dial:{radius:"80%",backgroundColor:"black",baseWidth:12,baseLength:"0%",rearLength:"0%"},pivot:{backgroundColor:"gray",radius:6}}],exporting:{enabled:!1}}}},methods:{loadNutrients:function(){var t=this;this.gauge_value=0,this.loading=!0,this.$axios.get("/api/ManageNutrients/"+this.$route.params.node_address).then((function(e){t.loading=!1,e.data&&(t.company_id=e.data.company_id,t.field_id=e.data.field_id,t.field_name=e.data.field_name,t.lower_limit=e.data.lower_limit,t.upper_limit=e.data.upper_limit,t.nutrient_label=e.data.nutrient_label,t.metric=e.data.metric,t.gauge_value=e.data.gauge_value,t.raw=e.data.raw,t.ppm=e.data.ppm,t.pounds=e.data.pounds,t.loadedTemplateId=e.data.active_template_id,t.loadedTemplateName=e.data.active_template_name,t.latestDateReported=e.data.latest_date_reported,t.initial&&(t.model.node_id=e.data.node_id,t.model.node_address=e.data.node_address,t.model.install_depth=e.data.install_depth,t.model.graph_type=e.data.graph_type,t.model.graph_start_date=e.data.graph_start_date),t.date_now=e.data.date_now,setTimeout((function(){t.initial=!1}),1e3))}))},loadNutrientTemplates:function(){var t=this;this.loading=!0,this.$axios.get("/api/loadNutrientTemplates/"+this.company_id).then((function(e){t.loading=!1,t.loadedTemplates=e.data.templates,t.totalRows=t.loadedTemplates.length}))},syncFields:function(){var t=this;this.initial||this.$refs.nform.validate().then((function(e){e?(t.loading=!0,t.$axios.post("/api/SaveNutrients",{model:t.model}).then((function(e){t.loading=!1,"field_updated"==e.data.message&&(t.loadNutrients(),t.$notify({title:"Saved",message:"Changes were saved",type:"success",verticalAlign:"top",horizontalAlign:"right"}),t.$refs.nform.reset())}))):t.$notify({title:"Required",message:"Please fill in all fields",type:"danger",verticalAlign:"top",horizontalAlign:"right",duration:1e3,clean:!0})}))},addNutrientTemplate:function(){this.currentMode="Add",this.clearNutrientTemplateModel(),this.openManageNutrientTemplateModal()},editNutrientTemplate:function(t,e){this.currentMode="Edit";var n=JSON.parse(e.template);this.template_name=e.name,this.template_model=Object.assign({},n),this.template_model.id=e.id,this.openManageNutrientTemplateModal()},removeNutrientTemplate:function(t,e){var n=this;p.a.fire({title:"Remove Template?",text:"Template will be permanently deleted",showCancelButton:!0,confirmButtonText:"Remove Template",buttonsStyling:!1,customClass:{cancelButton:"btn btn-outline-primary",confirmButton:"btn btn-primary"}}).then((function(t){t.value&&(n.loading=!0,n.$axios.post("/api/removeNutrientTemplate",{id:e.id}).then((function(t){if(n.loading=!1,"template_removed"==t.data.status){n.loadNutrients();var r=n.loadedTemplates.findIndex((function(t){return t.id===e.id}));r>=0&&n.loadedTemplates.splice(r,1),n.$notify({title:"Success",message:"Template Removed",type:"success",verticalAlign:"top",horizontalAlign:"right"})}})))}))},saveNutrientTemplate:function(){var t=this;this.$refs.managetpl.validate().then((function(e){e&&(t.loading=!0,t.$axios.post("/api/saveNutrientTemplate",{name:t.template_name,template:JSON.stringify(t.template_model),new:null===t.template_model.id?"yes":"no",company_id:t.company_id,id:t.template_model.id}).then((function(e){t.loading=!1,"template_saved"==e.data.status?(t.loadNutrients(),t.loadNutrientTemplates(),t.$notify({title:"Success",message:"Template "+("Add"==t.currentMode?"Added":"Updated"),type:"success",verticalAlign:"top",horizontalAlign:"right"}),t.closeManageNutrientTemplateModal()):"template_save_error"==e.data.status&&t.$notify({title:"Failed",message:"Failed to save template. Contact your admin.",type:"warning",verticalAlign:"top",horizontalAlign:"right"})})))}))},applyNutrientTemplate:function(t,e){var n=this;p.a.fire({title:"Apply Template?",text:"Template will be applied to the current nutrient configuration",showCancelButton:!0,confirmButtonText:"Apply Template",buttonsStyling:!1,customClass:{cancelButton:"btn btn-outline-primary",confirmButton:"btn btn-primary"}}).then((function(t){t.value&&(n.loading=!0,n.$axios.post("/api/applyNutrientTemplate",{id:e.id,node_address:n.model.node_address}).then((function(t){n.loading=!1,n.loadedTemplateId=e.id,n.loadedTemplateName=e.name,"template_applied"==t.data.status&&(n.closeBrowseTemplatesModal(),n.loadNutrients(),n.$notify({title:"Success",message:"Template applied",type:"success",verticalAlign:"top",horizontalAlign:"right"}))})))}))},clearNutrientTemplateModel:function(){this.currentMode="Add",this.template_model.id=null,this.template_model.poly1=0,this.template_model.poly2=0,this.template_model.lower_limit=0,this.template_model.upper_limit=0,this.template_model.metric="",this.template_model.soil_type="",this.template_model.crop_name="","undefined"!==typeof this.$refs["managetpl"]&&this.$refs["managetpl"].reset()},openNutrientTemplatesModal:function(){this.loadNutrientTemplates(),this.browseTemplatesModalVisible=!0},openMicroTemplatesModal:function(){this.browseTemplatesModalVisible=!0},closeBrowseTemplatesModal:function(){this.browseTemplatesModalVisible=!1},openManageNutrientTemplateModal:function(){this.manageTemplateModalVisible=!0},closeManageNutrientTemplateModal:function(){this.clearNutrientTemplateModel(),this.manageTemplateModalVisible=!1},goToGraph:function(){this.$router.push({name:"nutrients_graph",params:{node_id:this.model.node_id,node_address:this.model.node_address,field_id:this.field_id,field_name:this.field_name,graph_type:this.model.graph_type,graph_start_date:this.model.graph_start_date}})}},created:function(){this.loadNutrients()}}),_=g,y=(n("4469"),n("2877")),w=Object(y["a"])(_,i,a,!1,null,null,null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-0afe0bc3.ae7df945.js.map