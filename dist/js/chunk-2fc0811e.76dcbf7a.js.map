{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./src/custom_components/NiftyGauge.vue?c7fd","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./src/custom_components/NiftyGauge.vue?9829","webpack:///src/custom_components/NiftyGauge.vue","webpack:///./src/custom_components/NiftyGauge.vue?46a2","webpack:///./src/custom_components/NiftyGauge.vue","webpack:///./src/views/Pages/NutrientsGraph.vue?029f","webpack:///src/views/Pages/NutrientsGraph.vue","webpack:///./src/views/Pages/NutrientsGraph.vue?fa41","webpack:///./src/views/Pages/NutrientsGraph.vue","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js"],"names":["toLength","repeat","defined","module","exports","that","maxLength","fillString","left","S","String","stringLength","length","fillStr","undefined","intMaxLength","fillLen","stringFiller","call","Math","ceil","slice","toInteger","count","str","this","res","n","Infinity","RangeError","render","_vm","_h","$createElement","_c","_self","staticClass","style","size","attrs","uniqid_gen","on","emitClick","buildConicGradient","capAngle","_v","_s","subl","_e","subm","subr","label","tooltip","staticRenderFns","name","props","angle","type","default","stops","data","created","methods","uniqid","prefix","output","component","field_name","current_node","directives","rawName","value","expression","slot","modifiers","node_id","userCan","nativeOn","$event","exportGraphCSV","goToManage","related_nodes","loading","model","callback","$$v","_l","node","cnidx","key","$route","params","node_address","graph_type","sub_days","scopedSlots","_u","fn","ref","focus","blur","maxDate","date_now","graph_start_date","nutrient_gauge","nutrient_lower","nutrient_avg","nutrient_upper","nutrient_label","chartOptions","chartUpdateArgs","toggleSeriesDragDrop","zoomOrDrag","Highcharts","mixins","components","flatPicker","NiftyGauge","in_progress","bInitialQuery","bNotified","series","duration","seriesAdjusted","lastDate","exportFileName","initial_start_date","initial_end_date","selection_start","selection_end","yMaxBackup","yMinBackup","yMin","yMax","xMin","xMax","lastTimestamp","full","refill","plotOptions","states","inactive","opacity","chartTitle","text","widthAdjust","plotLines","resetButton","enabled","onclick","computed","credits","chart","zoomType","panning","panKey","height","resetZoomButton","position","x","y","exporting","buttons","contextButton","exportButton","menuItems","printButton","filename","colors","xAxis","min","max","dateTimeLabelFormats","millisecond","second","minute","hour","day","week","month","year","tickPosition","labels","rotation","crosshair","events","setExtremes","c","setTimeout","e","afterSetExtremes","yAxis","tickInterval","minPadding","maxPadding","title","legend","layout","align","verticalAlign","shared","watch","val","handler","deep","changeDateRange","maybeReloadGraphData","loadGraphData","$refs","hchart","showLoading","$axios","post","$store","state","baseUrl","is_initial","then","swal","showCancelButton","confirmButtonText","buttonsStyling","customClass","cancelButton","confirmButton","resp","enableSeriesDragDrop","forEach","moved","draggableX","draggableY","dragMinY","dragMaxY","groupBy","dragStart","options","custom","pointFormatter","color","chartTriggerChange","disableSeriesDragDrop","showPlotLines","width","formatter","hidePlotLines","push","pop","resetSeriesData","downloadCSV","setupCustomTooltip","i","removeCustomTooltip","$router","today","Date","dd","getDate","padStart","mm","getMonth","yyyy","getFullYear","mounted","$export","$pad","userAgent","WEBKIT_BUG","test","P","F","arguments"],"mappings":"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","file":"js/chunk-2fc0811e.76dcbf7a.js","sourcesContent":["// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NiftyGauge.vue?vue&type=style&index=0&id=0e918656&scoped=true&lang=css&\"","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nifty_gauge\",style:('width:' + _vm.size + '; max-width:' + _vm.size),attrs:{\"id\":_vm.uniqid_gen},on:{\"click\":_vm.emitClick}},[_c('div',{staticClass:\"inner_wrapper\"},[_c('svg',{attrs:{\"viewBox\":\"0 0 100 100\"}},[_c('clipPath',{attrs:{\"id\":\"clip\"}},[_c('path',{attrs:{\"d\":\"M 50 0 a 50 50 0 0 1 0 100 50 50 0 0 1 0 -100 v 16 a 34 34 0 0 0 0 68 34 34 0 0 0 0 -68\"}})]),_c('foreignObject',{attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":\"100\",\"height\":\"100\",\"clip-path\":\"url(#clip)\"}},[_c('div',{staticClass:\"gradient\",style:(_vm.buildConicGradient()),attrs:{\"xmlns\":\"http://www.w3.org/1999/xhtml\"}})])])]),_c('div',{staticClass:\"gauge\",style:('transform:translate(-50%, -100%) rotate(' + _vm.capAngle() + 'deg);')}),_c('div',{staticClass:\"knob\"}),(_vm.subl)?_c('span',{staticClass:\"subl\"},[_vm._v(_vm._s(_vm.subl))]):_vm._e(),(_vm.subm)?_c('span',{staticClass:\"subm\"},[_vm._v(_vm._s(_vm.subm))]):_vm._e(),(_vm.subr)?_c('span',{staticClass:\"subr\"},[_vm._v(_vm._s(_vm.subr))]):_vm._e(),(_vm.label)?_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.label))]):_vm._e(),(_vm.tooltip)?_c('b-tooltip',{attrs:{\"target\":_vm.uniqid_gen}},[_vm._v(_vm._s(_vm.tooltip))]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div :id=\"uniqid_gen\" class='nifty_gauge' :style=\"'width:' + size + '; max-width:' + size\" @click=\"emitClick\">\n        <div class='inner_wrapper'>\n            <svg viewBox=\"0 0 100 100\">\n                <clipPath id=\"clip\">\n                    <path d=\"M 50 0 a 50 50 0 0 1 0 100 50 50 0 0 1 0 -100 v 16 a 34 34 0 0 0 0 68 34 34 0 0 0 0 -68\" />\n                </clipPath>\n                <foreignObject x=\"0\" y=\"0\" width=\"100\" height=\"100\" clip-path=\"url(#clip)\">\n                    <div class='gradient' :style=\"buildConicGradient()\" xmlns=\"http://www.w3.org/1999/xhtml\"></div>\n                </foreignObject>\n            </svg>\n        </div>\n        <div class='gauge' :style=\"'transform:translate(-50%, -100%) rotate(' + capAngle() + 'deg);'\"></div>\n        <div class='knob'></div>\n        <span v-if=\"subl\" class='subl'>{{subl}}</span>\n        <span v-if=\"subm\" class='subm'>{{subm}}</span>\n        <span v-if=\"subr\" class='subr'>{{subr}}</span>\n        <span v-if=\"label\" class='label'>{{label}}</span>\n        <b-tooltip v-if=\"tooltip\" :target=\"uniqid_gen\">{{ tooltip }}</b-tooltip>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'NiftyGauge',\n    props: {\n        angle:   { type: String, default: '0' },\n        size:    { type: String, default: '' },\n        tooltip: { type: String, default: '' },\n        subm:    { type: String, default: '' },\n        subl:    { type: String, default: '' },\n        subr:    { type: String, default: '' },\n        label:   { type: String, default: '' },\n        stops:   {\n            type: Array,\n            default: [\n                'from',    '90deg',\n                '#f44336', '0%',  /* red */\n                '#f44336', '50%', /* red */\n                '#ffeb3b', '60%', /* yellow */\n                '#4caf50', '75%', /* green */\n                '#ffeb3b', '90%', /* yellow */\n                '#f44336', '100%' /* red */\n            ]\n        }\n    },\n    data(){ return { uniqid_gen: '' } },\n    created(){ this.uniqid_gen = this.uniqid('ngtt_'); },\n    methods: {\n        uniqid(prefix){ return prefix + window.Math.random().toString(36); },\n\n        emitClick(){ this.$emit('clicked', this.uniqid_gen); },\n\n        capAngle(){\n            if(this.angle > 90){ this.angle = 90; }\n            if(this.angle < -90){ this.angle = -90; }\n            return this.angle;\n        },\n\n        buildConicGradient(){\n\n            /* conic gradient from <x>deg: 0deg is top, 90deg is right */\n            /* conic gradient color percentage: 0-50% is half way around the circle (180 degrees) */\n\n            let output = 'background-image:conic-gradient(';\n\n            for(var i = 0; i < this.stops.length; i+= 2){\n                output = output + this.stops[i] + ' ' + this.stops[i+1] + (i+2 < this.stops.length ? ', ' : '');\n            }\n\n            output = output + ')';\n\n            //console.log(output);\n\n            return output;\n        }\n    }\n}\n</script>\n<style scoped>\n\n.nifty_gauge {\n    position: relative;\n    margin:0 auto;\n    margin-bottom:15%;\n}\n\n.nifty_gauge * {\n    transition: all 1s ease-in-out;\n}\n\n.nifty_gauge .inner_wrapper {\n    width:100%;\n    height:0;\n    padding-bottom:50%;\n    overflow:hidden;\n}\n\n.nifty_gauge .inner_wrapper svg {\n    width:100%;\n}\n\n.nifty_gauge .gradient {\n    width:100%;\n    height:100%;\n}\n\n.nifty_gauge .gauge {\n    position:absolute;\n    left:50%;\n    top:100%;\n    transform-origin:bottom center;\n    transform:translate(-50%, -100%) rotate(0deg);\n    background: black;\n    width:6%;\n    height:65%;\n    border-radius:50% 50% 0% 0%;\n}\n\n.nifty_gauge .knob {\n    position:absolute;\n    left:50%;\n    top:100%;\n    transform:translate(-50%, -50%);\n    background: black;\n    width:13%;\n    height:0;\n    padding-bottom:13%;\n    border-radius:100%;\n}\n\n.nifty_gauge .subl {\n    position: absolute;\n    text-align:left;\n    top:115%;\n    left:0%;\n    width:100%;\n    font-weight:bold;\n    font-size: 0.9em;\n}\n\n.nifty_gauge .subm {\n    position: absolute;\n    text-align:center;\n    top:115%;\n    left:50%;\n    transform:translateX(-50%);\n    width:100%;\n    font-weight:bold;\n    font-size: 0.9em;\n}\n\n.nifty_gauge .subr {\n    position: absolute;\n    text-align:right;\n    top:115%;\n    left:100%;\n    transform:translateX(-100%);\n    width:100%;\n    font-weight:bold;\n    font-size: 0.9em;\n}\n\n.nifty_gauge .label {\n    position: absolute;\n    text-align:center;\n    top:145%;\n    left:50%;\n    transform:translateX(-50%);\n    width:100%;\n    font-weight:bold;\n    font-size: 0.9em;\n}\n\n@media(max-width:1024px){\n    .nifty_gauge .label,\n    .nifty_gauge .subl,\n    .nifty_gauge .subm,\n    .nifty_gauge .subr {\n        font-size:0.8em;\n    }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NiftyGauge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NiftyGauge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NiftyGauge.vue?vue&type=template&id=0e918656&scoped=true&\"\nimport script from \"./NiftyGauge.vue?vue&type=script&lang=js&\"\nexport * from \"./NiftyGauge.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NiftyGauge.vue?vue&type=style&index=0&id=0e918656&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e918656\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"nutrients\"}},[_c('b-row',{staticClass:\"py-4\",attrs:{\"align-v\":\"center\"}},[_c('b-col',[_c('h6',{staticClass:\"h2 text-white d-inline-block mb-0 mr-5\"},[_vm._v(\"Nutrients - \"+_vm._s(_vm.field_name)+\" ( \"+_vm._s(_vm.current_node)+\" ) - Graph\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mab_spinner light right\"})])],1)],1),_c('div',{staticClass:\"container-fluid mt--6\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('card',{attrs:{\"body-classes\":\"px-0 py-0\"}},[_c('template',{slot:\"header\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('base-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"btn\",attrs:{\"disabled\":!_vm.node_id || !_vm.userCan('Export', 'Nutrients', _vm.node_id, 'O'),\"size\":\"sm\",\"type\":\"primary\",\"title\":\"Export device data to a CSV file.\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.exportGraphCSV()}}},[_vm._v(\"\\n                  Export CSV\\n                \")]),_c('base-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"btn\",attrs:{\"disabled\":!_vm.node_id || !_vm.userCan('Edit', 'Nutrients', _vm.node_id, 'O'),\"size\":\"sm\",\"type\":\"primary\",\"title\":\"Navigate to the nutrient node's management screen\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.goToManage()}}},[_vm._v(\"\\n                  Manage Nutrients\\n                \")])],1)])]),_c('div',{staticClass:\"card-body\"},[_c('b-row',[(_vm.related_nodes.length > 1)?_c('b-col',{attrs:{\"sm\":\"\"}},[_c('base-input',{attrs:{\"label\":\"Current Node\"}},[_c('el-select',{attrs:{\"disabled\":_vm.loading},model:{value:(_vm.current_node),callback:function ($$v) {_vm.current_node=$$v},expression:\"current_node\"}},[_vm._l((_vm.related_nodes),function(node,cnidx){return [_c('el-option',{key:cnidx,attrs:{\"label\":node,\"value\":node,\"selected\":_vm.$route.params.node_address}})]})],2)],1)],1):_vm._e(),_c('b-col',{attrs:{\"sm\":\"\"}},[_c('base-input',{attrs:{\"label\":\"Graph Type\"}},[_c('el-select',{attrs:{\"disabled\":_vm.loading},model:{value:(_vm.graph_type),callback:function ($$v) {_vm.graph_type=$$v},expression:\"graph_type\"}},[_c('el-option',{attrs:{\"label\":\"Nutrients (RAW)\",\"value\":\"nutrient\"}}),_c('el-option',{attrs:{\"label\":\"Nutrients (PPM)\",\"value\":\"nutrient_ppm\"}}),_c('el-option',{attrs:{\"label\":\"Nutrients (PPM Average)\",\"value\":\"nutrient_ppm_avg\"}})],1)],1)],1),_c('b-col',{attrs:{\"sm\":\"\"}},[_c('base-input',{attrs:{\"label\":\"Range\"}},[_c('el-select',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],attrs:{\"disabled\":_vm.loading,\"title\":\"Choose the time range of data to view.\"},model:{value:(_vm.sub_days),callback:function ($$v) {_vm.sub_days=$$v},expression:\"sub_days\"}},[_c('el-option',{attrs:{\"label\":\"Last 24 Hours\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"Last Week\",\"value\":\"7\"}}),_c('el-option',{attrs:{\"label\":\"Last Two Weeks\",\"value\":\"14\"}}),_c('el-option',{attrs:{\"label\":\"Last Month\",\"value\":\"31\"}}),_c('el-option',{attrs:{\"label\":\"Last Year\",\"value\":\"365\"}}),_c('el-option',{attrs:{\"label\":\"Custom\",\"value\":\"custom\"}})],1)],1)],1),_c('b-col',{attrs:{\"sm\":\"\"}},[_c('base-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sub_days=='custom'),expression:\"sub_days=='custom'\"}],attrs:{\"label\":\"Start Date\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar focus = ref.focus;\nvar blur = ref.blur;\nreturn _c('flat-picker',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.top\",modifiers:{\"hover\":true,\"top\":true}}],staticClass:\"form-control datepicker\",attrs:{\"config\":{maxDate: _vm.date_now },\"placeholder\":\"Custom Date\",\"title\":\"A custom start date allows a custom range of data to be viewed.\"},on:{\"on-open\":focus,\"on-close\":blur},model:{value:(_vm.graph_start_date),callback:function ($$v) {_vm.graph_start_date=$$v},expression:\"graph_start_date\"}})}}])})],1),_c('b-col',{attrs:{\"sm\":\"\"}},[_c('NiftyGauge',{attrs:{\"angle\":_vm.nutrient_gauge,\"size\":'100px',\"subl\":_vm.nutrient_lower,\"subm\":_vm.nutrient_avg,\"subr\":_vm.nutrient_upper,\"label\":_vm.nutrient_label,\"tooltip\":'L: ' + _vm.nutrient_lower + ', U: ' + _vm.nutrient_upper + ', A: ' + _vm.nutrient_avg + ' (PPM)'}})],1)],1),_c('highcharts',{ref:\"hchart\",staticClass:\"hc\",attrs:{\"options\":_vm.chartOptions,\"update-args\":_vm.chartUpdateArgs}}),_c('b-row',[_c('b-col',{staticClass:\"text-center\"},[(_vm.graph_type=='sm')?_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"size\":\"lg\",\"switch\":\"\"},on:{\"change\":_vm.toggleSeriesDragDrop},model:{value:(_vm.zoomOrDrag),callback:function ($$v) {_vm.zoomOrDrag=$$v},expression:\"zoomOrDrag\"}},[_vm._v(\"Mode: \"+_vm._s(_vm.zoomOrDrag ? \"Drag\" : \"Zoom\"))]):_vm._e()],1)],1)],1)],2)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content\">\r\n    <base-header class=\"pb-6\" type=\"nutrients\">\r\n      <b-row align-v=\"center\" class=\"py-4\">\r\n        <b-col>\r\n          <h6 class=\"h2 text-white d-inline-block mb-0 mr-5\">Nutrients - {{ field_name }} ( {{ current_node }} ) - Graph</h6>\r\n          <div v-show='loading' class='mab_spinner light right'></div>\r\n        </b-col>\r\n      </b-row>\r\n    </base-header>\r\n\r\n    <div class='container-fluid mt--6'>\r\n      <div class='row'>\r\n        <div class='col-md-12'>\r\n          <card body-classes=\"px-0 py-0\">\r\n            <template slot=\"header\">\r\n              <div class='row'>\r\n                <div class='col-md-12'>\r\n                  <base-button\r\n                    :disabled=\"!node_id || !userCan('Export', 'Nutrients', node_id, 'O')\"\r\n                    @click.native=\"exportGraphCSV()\"\r\n                    class=\"btn\"\r\n                    size=\"sm\"\r\n                    type=\"primary\"\r\n                    v-b-tooltip.hover.top title=\"Export device data to a CSV file.\"\r\n                    icon>\r\n                    Export CSV\r\n                  </base-button>\r\n\r\n                  <base-button\r\n                    :disabled=\"!node_id || !userCan('Edit', 'Nutrients', node_id, 'O')\"\r\n                    @click.native=\"goToManage()\"\r\n                    class=\"btn\"\r\n                    size=\"sm\"\r\n                    type=\"primary\"\r\n                    v-b-tooltip.hover.top title=\"Navigate to the nutrient node's management screen\"\r\n                    icon>\r\n                    Manage Nutrients\r\n                  </base-button>\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <div class=\"card-body\">\r\n\r\n              <b-row>\r\n\r\n                <b-col sm v-if=\"related_nodes.length > 1\">\r\n                  <base-input label=\"Current Node\">\r\n                    <el-select v-model=\"current_node\" :disabled=\"loading\">\r\n                      <template v-for=\"(node, cnidx) in related_nodes\">\r\n                        <el-option :key=\"cnidx\" :label=\"node\" :value=\"node\" :selected='$route.params.node_address'></el-option>\r\n                      </template>\r\n                    </el-select>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col sm>\r\n                  <base-input label=\"Graph Type\">\r\n                    <el-select v-model=\"graph_type\" :disabled=\"loading\">\r\n                      <el-option label=\"Nutrients (RAW)\" value='nutrient'></el-option>\r\n                      <el-option label=\"Nutrients (PPM)\" value='nutrient_ppm'></el-option>\r\n                      <el-option label=\"Nutrients (PPM Average)\" value='nutrient_ppm_avg'></el-option>\r\n                    </el-select>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col sm>\r\n                  <base-input label=\"Range\">\r\n                    <el-select\r\n                      v-model=\"sub_days\"\r\n                      :disabled=\"loading\"\r\n                      v-b-tooltip.hover.top title=\"Choose the time range of data to view.\">\r\n                      <el-option label=\"Last 24 Hours\" value='1'></el-option>\r\n                      <el-option label=\"Last Week\" value='7'></el-option>\r\n                      <el-option label=\"Last Two Weeks\" value='14'></el-option>\r\n                      <el-option label=\"Last Month\" value='31'></el-option>\r\n                      <el-option label=\"Last Year\" value='365'></el-option>\r\n                      <el-option label=\"Custom\" value='custom'></el-option>\r\n                    </el-select>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col sm>\r\n                  <base-input v-show=\"sub_days=='custom'\" label=\"Start Date\">\r\n                    <flat-picker slot-scope=\"{focus, blur}\"\r\n                      @on-open=\"focus\"\r\n                      @on-close=\"blur\"\r\n                      v-model=\"graph_start_date\"\r\n                      :config=\"{maxDate: date_now }\"\r\n                      placeholder=\"Custom Date\"\r\n                      class=\"form-control datepicker\"\r\n                      v-b-tooltip.hover.top title=\"A custom start date allows a custom range of data to be viewed.\">\r\n                    </flat-picker>\r\n                  </base-input>\r\n                </b-col>\r\n\r\n                <b-col sm>\r\n                  <NiftyGauge \r\n                    :angle=\"nutrient_gauge\"\r\n                    :size=\"'100px'\"\r\n                    :subl=\"nutrient_lower\"\r\n                    :subm=\"nutrient_avg\"\r\n                    :subr=\"nutrient_upper\"\r\n                    :label=\"nutrient_label\"\r\n                    :tooltip=\"'L: ' + nutrient_lower + ', U: ' + nutrient_upper + ', A: ' + nutrient_avg + ' (PPM)'\">\r\n                  </NiftyGauge>\r\n                </b-col>\r\n\r\n              </b-row>\r\n\r\n              <highcharts class=\"hc\" :options=\"chartOptions\" :update-args=\"chartUpdateArgs\" ref=\"hchart\"></highcharts>\r\n\r\n              <b-row>\r\n                <b-col class='text-center'>\r\n                  <b-form-checkbox v-if=\"graph_type=='sm'\" @change=\"toggleSeriesDragDrop\" v-model=\"zoomOrDrag\" name=\"check-button\" size=\"lg\" switch>Mode: {{ zoomOrDrag ? \"Drag\" : \"Zoom\" }}</b-form-checkbox>\r\n                </b-col>\r\n              </b-row>\r\n            </div>\r\n          </card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-new */\r\nimport { Select, Option } from 'element-ui'\r\nimport flatPicker from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\nimport Highcharts from 'highcharts';\r\nimport mab_utils from '../../util/mab-utils';\r\nimport NiftyGauge from '../../custom_components/NiftyGauge';\r\nimport swal from 'sweetalert2';\r\n\r\n// Tweak to prevent Tooltip from disappearing (Testing working)\r\nHighcharts.Pointer.prototype.reset = function () { return undefined; };\r\n\r\nexport default {\r\n\r\n  mixins: [ mab_utils ],\r\n    \r\n  components: {\r\n    [Select.name]: Select,\r\n    [Option.name]: Option,\r\n    flatPicker,\r\n    NiftyGauge\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      in_progress: true,\r\n\r\n      current_node: this.$route.params.node_address,\r\n\r\n      node_id: null,\r\n      field_name: null,\r\n\r\n      graph_start_date: '',\r\n      graph_type: '',\r\n      sub_days: '',\r\n\r\n      bInitialQuery: true,\r\n      bNotified: false,\r\n\r\n      related_nodes: [],\r\n\r\n      date_now: '',\r\n      series: [],\r\n      chartUpdateArgs: [ true, true, { duration: 1000 } ],\r\n      seriesAdjusted: false,\r\n      zoomOrDrag: false, /* false == zoom, true == drag */\r\n      lastDate: null,\r\n      exportFileName: '',\r\n\r\n      initial_start_date: null,\r\n      initial_end_date: null,\r\n\r\n      selection_start: null,\r\n      selection_end:   null,\r\n\r\n      nutrient_lower: 0,\r\n      nutrient_upper: 0,\r\n      nutrient_gauge: 0,\r\n      nutrient_avg: 0,\r\n      nutrient_label: '',\r\n\r\n      yMaxBackup: 0,\r\n      yMinBackup: 0,\r\n\r\n      yMin: null,\r\n      yMax: null,\r\n\r\n      xMin: 1000,\r\n      xMax: 0,\r\n\r\n      lastTimestamp: null,\r\n\r\n      full: 0,\r\n      refill: 0,\r\n\r\n      plotOptions: {\r\n        series: {\r\n          states: {\r\n            inactive: {\r\n              opacity: 1\r\n            }\r\n          }\r\n        }\r\n      },\r\n      chartTitle: {\r\n        text: \"Loading..\",\r\n        widthAdjust: -300\r\n      },\r\n      plotLines: [],\r\n      resetButton: {\r\n        text: \"Reset\",\r\n        enabled: true,\r\n        onclick: (e) => {\r\n          this.resetSeriesData();\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    chartOptions(){\r\n      return {\r\n        credits:{ enabled: false },\r\n        chart: {\r\n          type: 'line',\r\n          zoomType: this.zoomOrDrag == false ? 'x' : false,\r\n          panning: true,\r\n          panKey: 'shift',\r\n          height: 600,\r\n          resetZoomButton: { position: { x: 0, y: -50 } },\r\n        },\r\n        exporting: {\r\n          buttons: {\r\n            contextButton: { enabled: false },\r\n            exportButton: { text: 'Export', menuItems: ['downloadPNG', 'downloadJPEG', 'downloadPDF', 'downloadSVG'] },\r\n            printButton: { text: 'Print', onclick: function () { this.print(); } },\r\n            resetButton: this.resetButton\r\n          },\r\n          filename: this.exportFileName\r\n        },\r\n        colors: [\"#7cb5ec\", \"#434348\", \"#90ed7d\", \"#f7a35c\", \"#8085e9\", \"#f15c80\", \"#e4d354\", \"#2b908f\", \"#f45b5b\", \"#91e8e1\"],\r\n        series: this.series,\r\n        xAxis: {\r\n          min: this.xMin,\r\n          max: this.xMax,\r\n          type: 'datetime',\r\n          dateTimeLabelFormats: {\r\n            millisecond: '%H:%M:%S.%L',\r\n            second: '%H:%M:%S',\r\n            minute: '%H:%M',\r\n            hour: '%H:%M',\r\n            day: '<span style=\"fill: #00A04C; font-weight:600\">%e %b</span>',\r\n            week: '%e %b',\r\n            month: '%b %Y',\r\n            year: '%Y'\r\n          },\r\n          tickPosition: 'inside',\r\n          labels: {\r\n            rotation:-45\r\n          },\r\n          crosshair: true,\r\n\r\n          events: {\r\n            setExtremes: function(e){\r\n              var c = this;\r\n              setTimeout(function() {\r\n                if (typeof e.min == 'undefined' && typeof e.max == 'undefined') {\r\n                  // 'zoom-reset'\r\n                  c.chart.yAxis[0].setExtremes(c.chart.yAxis[0].min, c.chart.yAxis[0].max);\r\n                } else {\r\n                  // 'zoom-in'\r\n                  c.chart.yAxis[0].setExtremes();\r\n                }\r\n              }, 1);\r\n            },\r\n            afterSetExtremes: this.afterSetExtremes\r\n          }\r\n\r\n        },\r\n        yAxis: {\r\n          tickInterval:1,\r\n          max: this.yMax,\r\n          min: this.yMin,\r\n          minPadding: 0,\r\n          maxPadding: 0,\r\n          title: { text: '' },\r\n          plotLines: this.plotLines,\r\n        },\r\n        legend: {\r\n          layout: 'horizontal',\r\n          align: 'center',\r\n          verticalAlign: 'bottom'\r\n        },\r\n        tooltip: {\r\n          shared: true\r\n        },\r\n        plotOptions: this.plotOptions,\r\n        title: this.chartTitle\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    title: function(val){\r\n      this.chartOptions.title = val;\r\n    },\r\n    plotOptions: {\r\n      handler: function(val){\r\n        if(val.length){\r\n          this.chartOptions.plotOptions = val;\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    series: {\r\n      handler: function(val){\r\n        if(val.length){\r\n          this.chartOptions.series = val;\r\n        }\r\n      },\r\n      deep: true\r\n    },\r\n    graph_start_date: function(val){\r\n      this.changeDateRange();\r\n    },\r\n    graph_type: function(val){\r\n      this.maybeReloadGraphData();\r\n    },\r\n    sub_days: function(val){\r\n      if(val == 'custom' && !this.graph_start_date){ return; }\r\n      if(val != 'custom'){ this.graph_start_date = ''; }\r\n      // Experimental\r\n      this.initial_start_date = null;\r\n      this.initial_end_date = null;\r\n      this.maybeReloadGraphData();\r\n    },\r\n    current_node: function(val){\r\n      this.bNotified = false;\r\n      this.maybeReloadGraphData();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    loadGraphData() {\r\n\r\n      this.loading = true;\r\n      this.in_progress = true;\r\n\r\n      this.$refs.hchart.chart.showLoading(this.bInitialQuery ? \"Loading...\" : \"Refreshing...\");\r\n\r\n      return this.$axios.post(this.$store.state.baseUrl+\"/api/Graph\", {\r\n        node_address: this.current_node,\r\n        graph_type: this.graph_type,\r\n        graph_start_date: this.graph_start_date,\r\n        sub_days: this.sub_days,\r\n        is_initial: this.bInitialQuery,\r\n        selection_start: this.selection_start,\r\n        selection_end: this.selection_end\r\n      }).then(resp => {\r\n\r\n        this.loading = false;\r\n        this.in_progress = true;\r\n        this.$refs.hchart.chart.hideLoading();\r\n\r\n        if(resp.data){\r\n\r\n          if(resp.data.message && resp.data.message == 'no_data'){\r\n            swal.fire({\r\n              title: 'No data found',\r\n              text: \"This node currently has no data to plot.\",\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              buttonsStyling: false,\r\n              customClass: {\r\n                cancelButton: 'btn btn-outline-primary',\r\n                confirmButton: 'btn btn-primary'\r\n              }\r\n            });\r\n            this.chartTitle.text = \"No data found\";\r\n            return;\r\n          }\r\n\r\n          if(!this.bNotified && resp.data.not_current && resp.data.last_date){\r\n            swal.fire({\r\n              title: 'No recent data found',\r\n              text: \"Last readings up to \" + resp.data.last_date + \" could be displayed.\",\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              buttonsStyling: false,\r\n              customClass: {\r\n                cancelButton: 'btn btn-outline-primary',\r\n                confirmButton: 'btn btn-primary'\r\n              }\r\n            });\r\n            this.bNotified = true;\r\n          }\r\n\r\n          this.selection_start = null;\r\n          this.selection_end = null;\r\n\r\n          // COMMON DATA\r\n          this.node_id = resp.data.node_id;\r\n          this.field_name = resp.data.field_name;\r\n\r\n          // Experimental\r\n          if(this.bInitialQuery){\r\n            this.graph_start_date = resp.data.graph_start_date;\r\n            this.graph_type = resp.data.graph_type;\r\n            this.sub_days = resp.data.sub_days;\r\n          }\r\n\r\n          this.nutrient_lower = 'nutrient_lower' in resp.data ? resp.data.nutrient_lower : 0;\r\n          this.nutrient_upper = 'nutrient_upper' in resp.data ? resp.data.nutrient_upper : 100;\r\n          this.nutrient_gauge = 'nutrient_gauge' in resp.data ? resp.data.nutrient_gauge : 0;\r\n          this.nutrient_avg   = 'nutrient_avg'   in resp.data ? resp.data.nutrient_avg   : 0;\r\n          this.nutrient_label = 'nutrient_label' in resp.data ? resp.data.nutrient_label : '';\r\n\r\n          this.xMax = resp.data.x_max;\r\n          this.xMin = resp.data.x_min;\r\n\r\n          // EXPERIMENTAL\r\n          if(this.graph_type == 'nutrient_ppm_avg'){\r\n            this.yMax = resp.data.y_max;\r\n            this.yMin = resp.data.y_min;\r\n          } else {\r\n            this.yMax = null;\r\n            this.yMin = null;\r\n          }\r\n          // EXPERIMENTAL\r\n\r\n          this.yMaxBackup = resp.data.y_max; // used with toggle switch\r\n          this.yMinBackup = resp.data.y_min; // used with toggle switch\r\n\r\n          this.full   = resp.data.full;\r\n          this.refill = resp.data.refill;\r\n\r\n          this.lastDate = resp.data.last_date.replace(\":\", '-');\r\n          this.exportFileName = resp.data.graph.field_name + '-' + this.graph_type + '-' + this.$route.params.node_address + '-' + this.lastDate;\r\n\r\n          this.plotOptions = resp.data.graph.plotOptions;\r\n          this.chartTitle = resp.data.graph.title;\r\n          \r\n          this.series = resp.data.graph.series.filter( (series) => { if(series.data){ return series.data.length > 0; } else return false; });\r\n\r\n          this.lastTimestamp = resp.data.x_max;\r\n\r\n          if(this.graph_type == 'nutrient' || this.graph_type == 'nutrient_ppm'){\r\n            if(this.zoomOrDrag){\r\n              this.enableSeriesDragDrop();\r\n            } else {\r\n              this.disableSeriesDragDrop();\r\n            }\r\n          } else {\r\n            this.disableSeriesDragDrop();\r\n          }\r\n\r\n          if(this.graph_type == 'nutrient_ppm_avg'){\r\n            this.showPlotLines();\r\n            this.setupCustomTooltip();\r\n          } else {\r\n            this.hidePlotLines();\r\n            this.removeCustomTooltip();\r\n          }\r\n\r\n          this.related_nodes = resp.data.related_nodes;\r\n          this.$refs.hchart.chart.reflow();\r\n        }\r\n        setTimeout(() => { this.in_progress = false; this.bInitialQuery = false; }, 1);\r\n        return resp;\r\n      });\r\n    },\r\n\r\n    maybeReloadGraphData(){\r\n      if(this.in_progress == true){ return; }\r\n      this.loadGraphData();\r\n    },\r\n\r\n    changeDateRange(){\r\n      if(this.in_progress == true){ return; }\r\n      if(this.graph_start_date == ''){ return; }\r\n      this.loadGraphData();\r\n    },\r\n\r\n    enableSeriesDragDrop(){\r\n      if(this.series && this.series.length){\r\n\r\n        // Enable shared tooltip\r\n        this.chartOptions.tooltip = { shared: true };\r\n        // Enable custom Reset button\r\n        this.resetButton.enabled = true;\r\n\r\n        this.series.forEach((series, idx) => {\r\n          // Set custom Per Series Data\r\n          this.series[idx].custom = {\r\n            moved: false\r\n          };\r\n          // Enable DnD for this range of series only\r\n          this.series[idx].dragDrop = {\r\n            draggableX: false,\r\n            draggableY: true,\r\n            dragMinY:   0,\r\n            dragMaxY:   100,\r\n            groupBy:    'grp'\r\n          };\r\n          // Track changes\r\n          this.series[idx].point = {\r\n            events: {\r\n              dragStart: function(){ \r\n                this.series.options.custom.moved = true;\r\n              },\r\n            }\r\n          };\r\n          // Format tooltip: Hide value once series was moved\r\n          this.series[idx].tooltip = {\r\n            pointFormatter: function() { \r\n              return '<span style=\"color:' + this.series.color + ';\">●</span> ' + this.series.name + ': <b>' + \r\n                (this.series.options.custom.moved ? '' : Highcharts.numberFormat(this.y, 2)) + '</b><br/>';\r\n            }\r\n          };\r\n        });\r\n\r\n        // Lock in Y Max/Min\r\n        if(this.graph_type != 'ave'){\r\n          this.yMax = this.yMaxBackup;\r\n          this.yMin = this.yMinBackup;\r\n        }\r\n\r\n        this.chartTriggerChange();\r\n      }\r\n    },\r\n\r\n    disableSeriesDragDrop(){\r\n      if(this.series && this.series.length){\r\n\r\n        // Disable drag\r\n        this.series.forEach((series, idx) => {\r\n          this.series[idx].dragDrop = {\r\n            draggableX: false,\r\n            draggableY: false,\r\n          };\r\n        });\r\n        // Disable shared tooltip\r\n        this.chartOptions.tooltip = { shared: false };\r\n        // Disable custom Reset button\r\n        this.resetButton.enabled = false;\r\n\r\n        // Disable Y Max/Min\r\n        if(this.graph_type != 'ave'){\r\n          this.yMax = null;\r\n          this.yMin = null;\r\n        }\r\n\r\n        this.chartTriggerChange();\r\n      }\r\n    },\r\n\r\n    toggleSeriesDragDrop(){\r\n      // Zoom\r\n      if(this.zoomOrDrag){\r\n        this.enableSeriesDragDrop();\r\n      // Drag\r\n      } else {\r\n        this.disableSeriesDragDrop();\r\n      }\r\n    },\r\n\r\n    showPlotLines(){\r\n      this.plotLines = [\r\n        { /* Full Line */\r\n          value: this.full,\r\n          color: '#00F',\r\n          width: 2,\r\n          label: {\r\n            x:0,\r\n            align:'right',\r\n            formatter: () => { return 'Full: ' + this.full; }\r\n          }\r\n        },\r\n        { /* Refill Line */\r\n          value: this.refill,\r\n          color: '#D26761',\r\n          width: 2,\r\n          label: {\r\n            x:0,\r\n            align:'right',\r\n            formatter: () => { return 'Refill: ' + this.refill; }\r\n          }\r\n        }\r\n      ];\r\n    },\r\n\r\n    hidePlotLines(){\r\n      this.plotLines = [];\r\n    },\r\n\r\n    // Hack to trigger chart update via faux change\r\n    chartTriggerChange(){\r\n      this.series.push({ type:'line', name: 'Faux', data:[] });\r\n      this.series.pop();\r\n    },\r\n\r\n    exportGraphCSV(){\r\n\r\n      this.zoomOrDrag = false;\r\n\r\n      // accessing internal series data from the outside\r\n      let series = this.$refs.hchart.chart.series;\r\n      try {\r\n        for(var i = 0; i < series.length; i++){\r\n          if(typeof series[i].options.custom.moved !== \"undefined\"){\r\n            if(series[i].options.custom.moved == true){\r\n              this.seriesAdjusted = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      } catch(err){}\r\n\r\n      if(this.seriesAdjusted){\r\n        this.resetSeriesData().then((resp) => {\r\n          this.$refs.hchart.chart.downloadCSV();\r\n        });\r\n      } else {\r\n        this.$refs.hchart.chart.downloadCSV();\r\n      }\r\n    },\r\n\r\n    resetSeriesData(){\r\n      this.seriesAdjusted = false;\r\n      return this.loadGraphData();\r\n    },\r\n\r\n    setupCustomTooltip(){\r\n      for(var i = 0; i < this.series.length; i++){\r\n        if(this.series[i].name == 'Average'){\r\n          this.series[i].tooltip = {\r\n            pointFormatter: function () {\r\n              let str = '<span style=\"color:' + this.series.color + ';\">●</span> ' + this.series.name + ': <b>' + this.y + '</b><br>';\r\n              return str;\r\n            }\r\n          };\r\n        }\r\n      }\r\n    },\r\n\r\n    removeCustomTooltip(){\r\n      for(var i = 0; i < this.series.length; i++){\r\n        if(this.series[i].tooltip && this.series[i].tooltip.pointFormatter){\r\n          delete this.series[i].tooltip.pointFormatter;\r\n        }\r\n      }\r\n    },\r\n\r\n    goToManage(){\r\n      this.$router.push({\r\n        name: 'nutrients_edit',\r\n        params: { node_address: this.current_node }\r\n      });\r\n    },\r\n\r\n    afterSetExtremes(e)\r\n    {\r\n      // initial load\r\n      if(e.trigger == null){ \r\n        if(this.bInitialQuery){\r\n          this.initial_start_date = this.xMin;\r\n          this.initial_end_date = this.xMax;\r\n          this.bInitialQuery = false;\r\n        }\r\n      } else {\r\n        if(e.target.chart.resetZoomButton){\r\n          this.selection_start = e.min;\r\n          this.selection_end = e.max;\r\n        } else {\r\n          this.selection_start = this.initial_start_date;\r\n          this.selection_end = this.initial_end_date;\r\n        }\r\n        this.maybeReloadGraphData();\r\n      }\r\n    },\r\n  },\r\n\r\n  created() {\r\n    var today = new Date();\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    this.date_now = today = yyyy + '-' + mm + '-' + dd;\r\n  },\r\n\r\n  mounted() {\r\n    this.loadGraphData();\r\n  }\r\n};\r\n</script>\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NutrientsGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NutrientsGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NutrientsGraph.vue?vue&type=template&id=c3c5a57a&\"\nimport script from \"./NutrientsGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./NutrientsGraph.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n"],"sourceRoot":""}