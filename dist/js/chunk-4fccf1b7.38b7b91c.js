(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fccf1b7"],{"18fb":function(e,t,i){"use strict";i("acc6")},"34e0":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image_crop_upload"},[e.showCropModal?i("div",{staticClass:"image_crop_modal"},[i("div",[i("cropper",{ref:"cropper",staticClass:"cropper",attrs:{src:e.getImageData,"auto-zoom":!0,"stencil-props":e.stencilProps,"default-size":e.defaultSize}})],1),i("div",{staticClass:"actions"},[i("button",{staticClass:"action_btn cancel",on:{click:e.cancelCrop}},[e._v("Cancel")]),i("button",{staticClass:"action_btn confirm",on:{click:e.cropImage}},[e._v("Confirm")])])]):e._e(),e.getImageData?i("div",{staticClass:"image_wrapper"},[i("img",{staticClass:"preview",attrs:{src:e.getImageData}}),i("div",{staticClass:"actions"},[i("div",{staticClass:"action_btn cancel",on:{click:e.clearFile}},[e._v("Clear")]),i("div",{staticClass:"action_btn edit",on:{click:e.showCropDialog}},[e._v("Edit")])])]):i("div",[i("input",{staticClass:"image_upload",attrs:{type:"file"},on:{change:e.fileChange}})])])},o=[],a=i("2b0e");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var l,m,g,p=(l=function(e){
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var t={}.hasOwnProperty;function i(){for(var e=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var s=i.apply(null,o);s&&e.push(s)}}else if("object"===a)if(o.toString===Object.prototype.toString)for(var r in o)t.call(o,r)&&o[r]&&e.push(r);else e.push(o.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):window.classNames=i}()},l(g={path:m,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&g.path)}},g.exports),g.exports),f=function(e){return function(t,i){if(!t)return e;var n;"string"==typeof t?n=t:i=t;var o=e;return n&&(o+="__"+n),o+(i?Object.keys(i).reduce((function(e,t){var n=i[t];return n&&(e+=" "+("boolean"==typeof n?o+"--"+t:o+"--"+t+"_"+n)),e}),""):"")}};function v(e,t,i){var n,o,a,s,r;function h(){var c=Date.now()-s;c<t&&c>=0?n=setTimeout(h,t-c):(n=null,i||(r=e.apply(a,o),a=o=null))}null==t&&(t=100);var c=function(){a=this,o=arguments,s=Date.now();var c=i&&!n;return n||(n=setTimeout(h,t)),c&&(r=e.apply(a,o),a=o=null),r};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(r=e.apply(a,o),a=o=null,clearTimeout(n),n=null)},c}v.debounce=v;var b=v,w=function(){return w=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},w.apply(this,arguments)
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */};function R(e,t){var i,n;return e&&t?(i=""+e+t[0].toUpperCase()+t.slice(1),n=e+"-"+t):(i=e||t,n=e||t),{name:i,classname:n}}function A(e){return/^blob:/.test(e)}function y(e){return A(e)||function(e){return/^data:/.test(e)}(e)}function S(e){return!!(e&&e.constructor&&e.call&&e.apply)}function M(e){return void 0===e}function z(e){return"object"==typeof e&&null!==e}function C(e,t,i){var n={};return z(e)?(Object.keys(t).forEach((function(o){M(e[o])?n[o]=t[o]:z(t[o])?z(e[o])?n[o]=C(e[o],t[o],i[o]):n[o]=e[o]?t[o]:i[o]:!0===t[o]||!1===t[o]?n[o]=Boolean(e[o]):n[o]=e[o]})),n):e?t:i}function x(e){var t=Number(e);return Number.isNaN(t)?e:t}function E(e){return typeof("number"==e||function(e){return"object"==typeof e&&null!==e}(e)&&"[object Number]"==toString.call(e))&&!T(e)}function T(e){return e!=e}function I(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var B=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},L=function(e,t){void 0===t&&(t={}),this.type="resize",this.directions=e,this.params=t},D=function(e){this.type="move",this.directions=e},O=function(){function e(e,t,i,n,o){this.type="drag",this.nativeEvent=e,this.position=i,this.previousPosition=n,this.element=t,this.anchor=o}return e.prototype.shift=function(){var e=this,t=e.element,i=e.anchor,n=e.position,o=t.getBoundingClientRect(),a=o.left,s=o.top;return{left:n.left-a-i.left,top:n.top-s-i.top}},e}();function W(e,t,i,n,o,a,s,r,h,c){"boolean"!=typeof s&&(h=r,r=s,s=!1);const d="function"==typeof i?i.options:i;let u;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),n&&(d._scopeId=n),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,h(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=u):t&&(u=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),u)if(d.functional){const e=d.render;d.render=function(t,i){return u.call(i),e(t,i)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,u):[u]}return i}var P=W({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"draggable",class:e.classname,on:{touchstart:e.onTouchStart,mousedown:e.onMouseDown,mouseover:e.onMouseOver,mouseleave:e.onMouseLeave}},[e._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableElement",mixins:[{beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&1===e.touches.length&&(this.touches=d(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce((function(t,i){return{clientX:t.clientX+i.clientX/e.touches.length,clientY:t.clientY+i.clientY/e.touches.length}}),{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled&&0===e.button){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),i=t.left,n=t.right,o=t.bottom,a=t.top;this.anchor={left:e.clientX-i,top:e.clientY-a,bottom:o-e.clientY,right:n-e.clientX}},processMove:function(e,t){var i=d(t);if(this.touches.length){if(1===this.touches.length&&1===i.length){var n=this.$refs.draggable;this.$emit("drag",new O(e,n,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}}}],props:{classname:{type:String}}},void 0,!1,void 0,!1,void 0,void 0,void 0),H=f("vue-handler-wrapper"),N=W({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.root},[i("DraggableElement",{class:e.classes.draggable,on:{drag:function(t){return e.$emit("drag",t)},"drag-end":function(t){return e.$emit("drag-end")},leave:function(t){return e.$emit("leave")},enter:function(t){return e.$emit("enter")}}},[e._t("default")],2)],1)},staticRenderFns:[]},void 0,{name:"HandlerWrapper",components:{DraggableElement:P},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,i=R(this.horizontalPosition,this.verticalPosition);e=H((h(t={},i.classname,!0),h(t,"disabled",this.disabled),t))}else e=H({disabled:this.disabled});return{root:e,draggable:H("draggable")}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),$=f("vue-line-wrapper"),F=W({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("DraggableElement",{class:e.classname,on:{drag:function(t){return e.$emit("drag",t)},"drag-end":function(t){return e.$emit("drag-end")},leave:function(t){return e.$emit("leave")},enter:function(t){return e.$emit("enter")}}},[e._t("default")],2)},staticRenderFns:[]},void 0,{name:"LineWrapper",components:{DraggableElement:P},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return $((h(e={},this.position,!0),h(e,"disabled",this.disabled),e))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),_=["left","right","top","bottom"],j=["left","right"],G=["top","bottom"],U=["left","top"],Y=["fill-area","fit-area","stencil","none"],k={left:0,top:0,width:0,height:0};function X(e,t,i){return!(i=i||["width","height","left","top"]).some((function(i){return e[i]!==t[i]}))}function K(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function V(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Z(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function J(e,t){var i={left:0,top:0,right:0,bottom:0};return _.forEach((function(n){var o=t[n],a=K(e)[n];i[n]=void 0!==o&&void 0!==a?"left"===n||"top"===n?Math.max(0,o-a):Math.max(0,a-o):0})),i}function q(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function Q(e){return{left:-e.left,top:-e.top}}function ee(e,t){return w(w({},e),{left:e.left+t.left,top:e.top+t.top})}function te(e,t,i,n){if(1!==t){if(i){var o=Z(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(i.left-o.left)*(n||1-t),top:e.top+e.height*(1-t)/2+(i.top-o.top)*(n||1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function ie(e){return e.width/e.height}function ne(e,t){return Math.min(void 0!==t.right&&void 0!==t.left?(t.right-t.left)/e.width:1/0,void 0!==t.bottom&&void 0!==t.top?(t.bottom-t.top)/e.height:1/0)}function oe(e,t){var i={left:0,top:0},n=J(e,t);return n.left&&n.left>0?i.left=n.left:n.right&&n.right>0&&(i.left=-n.right),n.top&&n.top>0?i.top=n.top:n.bottom&&n.bottom>0&&(i.top=-n.bottom),i}function ae(e,t){var i;return t.minimum&&e<t.minimum?i=t.minimum:t.maximum&&e>t.maximum&&(i=t.maximum),i}function se(e,t){var i=ie(e),n=ie(t);return t.width<1/0&&t.height<1/0?i>n?{width:t.width,height:t.width/i}:{width:t.height*i,height:t.height}:t.width<1/0?{width:t.width,height:t.width/i}:t.height<1/0?{width:t.height*i,height:t.height}:e}function re(e,t){var i=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(i))+Math.abs(e.height*Math.sin(i)),height:Math.abs(e.width*Math.sin(i))+Math.abs(e.height*Math.cos(i))}}function he(e,t){var i=t*Math.PI/180;return{left:e.left*Math.cos(i)-e.top*Math.sin(i),top:e.left*Math.sin(i)+e.top*Math.cos(i)}}function ce(e,t){var i=J(de(e,t),t);return i.left+i.right+i.top+i.bottom?i.left+i.right>i.top+i.bottom?Math.min((e.width+i.left+i.right)/e.width,ne(e,t)):Math.min((e.height+i.top+i.bottom)/e.height,ne(e,t)):1}function de(e,t,i){void 0===i&&(i=!1);var n=oe(e,t);return ee(e,i?Q(n):n)}function ue(e){return{width:void 0!==e.right&&void 0!==e.left?e.right-e.left:1/0,height:void 0!==e.bottom&&void 0!==e.top?e.bottom-e.top:1/0}}function le(e,t){return w(w({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}function me(e,t,i){void 0===i&&(i=!0);var n={};return _.forEach((function(o){var a=e[o],s=t[o];void 0!==a&&void 0!==s?n[o]="left"===o||"top"===o?i?Math.max(a,s):Math.min(a,s):i?Math.min(a,s):Math.max(a,s):void 0!==s?n[o]=s:void 0!==a&&(n[o]=a)})),n}function ge(e,t){return me(e,t,!0)}function pe(e){var t=e.size,i=e.aspectRatio,n=e.ignoreMinimum,o=e.sizeRestrictions;return Boolean((t.correctRatio||ie(t)>=i.minimum&&ie(t)<=i.maximum)&&t.height<=o.maxHeight&&t.width<=o.maxWidth&&t.width&&t.height&&(n||t.height>=o.minHeight&&t.width>=o.minWidth))}function fe(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function ve(e){var t=e.width,i=e.height,n=e.sizeRestrictions,o={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},a={width:Math.max(n.minWidth,Math.min(n.maxWidth,t)),height:Math.max(n.minHeight,Math.min(n.maxHeight,i))};function s(e,a){return void 0===a&&(a=!1),e.reduce((function(e,s){return pe({size:s,aspectRatio:o,sizeRestrictions:n,ignoreMinimum:a})&&(!e||fe(s,{width:t,height:i})<fe(e,{width:t,height:i}))?s:e}),null)}var r=[];o&&[o.minimum,o.maximum].forEach((function(e){e&&r.push({width:a.width,height:a.width/e,correctRatio:!0},{width:a.height*e,height:a.height,correctRatio:!0})})),pe({size:a,aspectRatio:o,sizeRestrictions:n})&&r.push(a);var h=s(r)||s(r,!0);return h&&{width:h.width,height:h.height}}function be(e){var t=e.event,i=e.coordinates,n=e.positionRestrictions,o=void 0===n?{}:n,a=ee(i,t.directions);return ee(a,oe(a,o))}function we(e){var t=e.coordinates,i=e.transform,n=e.imageSize,o=e.sizeRestrictions,a=e.positionRestrictions,s=e.aspectRatio,r=e.visibleArea,h=function(e,t){return be({coordinates:e,positionRestrictions:a,event:new D({left:t.left-e.left,top:t.top-e.top})})},c=w({},t);return(Array.isArray(i)?i:[i]).forEach((function(e){var t={};M((t="function"==typeof e?e({coordinates:c,imageSize:n,visibleArea:r}):e).width)&&M(t.height)||(c=function(e,t){var i=w(w(w({},e),ve({width:t.width,height:t.height,sizeRestrictions:o,aspectRatio:s})),{left:0,top:0});return h(i,{left:e.left,top:e.top})}(c,w(w({},c),t))),M(t.left)&&M(t.top)||(c=h(c,w(w({},c),t)))})),c}function Re(e){e.event;var t=e.getAreaRestrictions,i=e.boundaries,n=e.coordinates,o=e.visibleArea;e.aspectRatio;var a=e.stencilSize,s=e.sizeRestrictions,r=e.positionRestrictions;e.stencilReference;var h,c,d,u=w({},n),l=w({},o),m=w({},a);h=ie(m),c=ie(u),void 0===d&&(d=.001),(0===h||0===c?Math.abs(c-h)<d:Math.abs(c/h)<1+d&&Math.abs(c/h)>1-d)||(u=w(w({},u),ve({sizeRestrictions:s,width:u.width,height:u.height,aspectRatio:{minimum:ie(m),maximum:ie(m)}})));var g=ce(l=te(l,u.width*i.width/(l.width*m.width)),t({visibleArea:l,type:"resize"}));return 1!==g&&(l=te(l,g),u=te(u,g)),l=de(l=ee(l,V(Z(u),Z(l))),t({visibleArea:l,type:"move"})),{coordinates:u=de(u,ge(K(l),r)),visibleArea:l}}function Ae(e){var t=e.event,i=e.getAreaRestrictions,n=e.boundaries,o=e.coordinates,a=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var s=e.positionRestrictions;e.stencilReference;var r=w({},o),h=w({},a);if(o&&a&&"manipulateImage"!==t.type){var c={width:0,height:0};h.width,n.width,ie(n)>ie(r)?(c.height=.8*n.height,c.width=c.height*ie(r)):(c.width=.8*n.width,c.height=c.width*ie(r));var d=ce(h=te(h,r.width*n.width/(h.width*c.width)),i({visibleArea:h,type:"resize"}));h=te(h,d),1!==d&&(c.height/=d,c.width/=d),h=de(h=ee(h,V(Z(r),Z(h))),i({visibleArea:h,type:"move"})),r=de(r,ge(K(h),s))}return{coordinates:r,visibleArea:h}}function ye(e){var t=e.event,i=e.coordinates,n=e.visibleArea,o=e.getAreaRestrictions,a=w({},n),s=w({},i);if("setCoordinates"===t.type){var r=Math.max(0,s.width-a.width),h=Math.max(0,s.height-a.height);r>h?a=te(a,Math.min(s.width/a.width,ne(a,o({visibleArea:a,type:"resize"})))):h>r&&(a=te(a,Math.min(s.height/a.height,ne(a,o({visibleArea:a,type:"resize"}))))),a=de(a=ee(a,Q(oe(s,K(a)))),o({visibleArea:a,type:"move"}))}return{visibleArea:a,coordinates:s}}function Se(e){var t=e.imageSize,i=e.visibleArea,n=e.aspectRatio,o=e.sizeRestrictions,a=i||t,s=Math.min(n.maximum||1/0,Math.max(n.minimum||0,ie(a))),r=a.width<a.height?{width:.8*a.width,height:.8*a.width/s}:{height:.8*a.height,width:.8*a.height*s};return ve(w(w({},r),{aspectRatio:n,sizeRestrictions:o}))}function Me(e){var t,i,n=e.imageSize,o=e.visibleArea,a=e.boundaries,s=e.aspectRatio,r=e.sizeRestrictions,h=e.stencilSize,c=o||n;return ie(c)>ie(a)?i=(t=h.height*c.height/a.height)*ie(h):t=(i=h.width*c.width/a.width)/ie(h),ve({width:i,height:t,aspectRatio:s,sizeRestrictions:r})}function ze(e,t){return me(e,K(t))}function Ce(e){var t=e.event,i=e.coordinates,n=e.visibleArea,o=e.sizeRestrictions,a=e.getAreaRestrictions,s=e.positionRestrictions,r=e.adjustStencil,h=t.scale,c=t.move,d=w({},n),u=w({},i),l=1,m=1,g=h.factor&&Math.abs(h.factor-1)>.001;d=ee(d,{left:c.left||0,top:c.top||0});var p={stencil:{minimum:Math.max(o.minWidth?o.minWidth/u.width:0,o.minHeight?o.minHeight/u.height:0),maximum:Math.min(o.maxWidth?o.maxWidth/u.width:1/0,o.maxHeight?o.maxHeight/u.height:1/0,ne(u,s))},area:{maximum:ne(d,a({visibleArea:d,type:"resize"}))}};h.factor&&g&&(h.factor<1?(m=Math.max(h.factor,p.stencil.minimum))>1&&(m=1):h.factor>1&&(m=Math.min(h.factor,Math.min(p.area.maximum,p.stencil.maximum)))<1&&(m=1)),m&&(d=te(d,m,h.center));var f=i.left-n.left,v=n.width+n.left-(i.width+i.left),b=i.top-n.top,R=n.height+n.top-(i.height+i.top);return d=de(d=ee(d,oe(d,{left:void 0!==s.left?s.left-f*m:void 0,top:void 0!==s.top?s.top-b*m:void 0,bottom:void 0!==s.bottom?s.bottom+R*m:void 0,right:void 0!==s.right?s.right+v*m:void 0})),a({visibleArea:d,type:"move"})),u.width=u.width*m,u.height=u.height*m,u.left=d.left+f*m,u.top=d.top+b*m,u=de(u,ge(K(d),s)),h.factor&&g&&r&&(h.factor>1?l=Math.min(p.area.maximum,h.factor)/m:h.factor<1&&(l=Math.max(u.height/d.height,u.width/d.width,h.factor/m)),1!==l&&(d=ee(d=de(d=te(d,l,h.factor>1?h.center:Z(u)),a({visibleArea:d,type:"move"})),Q(oe(u,K(d)))))),{coordinates:u,visibleArea:d}}function xe(e){var t=e.aspectRatio,i=e.getAreaRestrictions,n=e.coordinates,o=e.visibleArea,a=e.sizeRestrictions,s=e.positionRestrictions,r=e.imageSize,h=e.previousImageSize,c=e.angle,d=w({},n),u=w({},o),l=he(Z(w({left:0,top:0},h)),c);return(d=w(w({},ve({sizeRestrictions:a,aspectRatio:t,width:d.width,height:d.height})),he(Z(d),c))).left-=l.left-r.width/2+d.width/2,d.top-=l.top-r.height/2+d.height/2,u=te(u,ce(u,i({visibleArea:u,type:"resize"}))),{coordinates:d=de(d,s),visibleArea:u=de(u=ee(u,V(Z(d),Z(n))),i({visibleArea:u,type:"move"}))}}function Ee(e){var t=e.flip,i=e.previousFlip,n=e.rotate;e.aspectRatio;var o=e.getAreaRestrictions,a=e.coordinates,s=e.visibleArea,r=e.imageSize,h=w({},a),c=w({},s),d=i.horizontal!==t.horizontal,u=i.vertical!==t.vertical;if(d||u){var l=he({left:r.width/2,top:r.height/2},-n),m=he(Z(h),-n),g=he({left:d?l.left-(m.left-l.left):m.left,top:u?l.top-(m.top-l.top):m.top},n);h=ee(h,V(g,Z(h))),m=he(Z(c),-n),c=de(c=ee(c,V(g=he({left:d?l.left-(m.left-l.left):m.left,top:u?l.top-(m.top-l.top):m.top},n),Z(c))),o({visibleArea:c,type:"move"}))}return{coordinates:h,visibleArea:c}}function Te(e){var t=e.directions,i=e.coordinates,n=e.positionRestrictions,o=void 0===n?{}:n,a=e.sizeRestrictions,s=e.preserveRatio,r=e.compensate,h=w({},t),c=q(i,h).width,d=q(i,h).height;c<0&&(h.left<0&&h.right<0?(h.left=-(i.width-a.minWidth)/(h.left/h.right),h.right=-(i.width-a.minWidth)/(h.right/h.left)):h.left<0?h.left=-(i.width-a.minWidth):h.right<0&&(h.right=-(i.width-a.minWidth))),d<0&&(h.top<0&&h.bottom<0?(h.top=-(i.height-a.minHeight)/(h.top/h.bottom),h.bottom=-(i.height-a.minHeight)/(h.bottom/h.top)):h.top<0?h.top=-(i.height-a.minHeight):h.bottom<0&&(h.bottom=-(i.height-a.minHeight)));var u=J(q(i,h),o);r&&(u.left&&u.left>0&&0===u.right?(h.right+=u.left,h.left-=u.left):u.right&&u.right>0&&0===u.left&&(h.left+=u.right,h.right-=u.right),u.top&&u.top>0&&0===u.bottom?(h.bottom+=u.top,h.top-=u.top):u.bottom&&u.bottom>0&&0===u.top&&(h.top+=u.bottom,h.bottom-=u.bottom),u=J(q(i,h),o));var l={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(_.forEach((function(e){var t=u[e];t&&h[e]&&(l[e]=Math.max(0,1-t/h[e]))})),s){var m=Math.min.apply(null,_.map((function(e){return l[e]})));m!==1/0&&_.forEach((function(e){h[e]*=m}))}else _.forEach((function(e){l[e]!==1/0&&(h[e]*=l[e])}));if(c=q(i,h).width,d=q(i,h).height,h.right+h.left&&(c>a.maxWidth?l.width=(a.maxWidth-i.width)/(h.right+h.left):c<a.minWidth&&(l.width=(a.minWidth-i.width)/(h.right+h.left))),h.bottom+h.top&&(d>a.maxHeight?l.height=(a.maxHeight-i.height)/(h.bottom+h.top):d<a.minHeight&&(l.height=(a.minHeight-i.height)/(h.bottom+h.top))),s){var g=Math.min(l.width,l.height);g!==1/0&&_.forEach((function(e){h[e]*=g}))}else l.width!==1/0&&j.forEach((function(e){h[e]*=l.width})),l.height!==1/0&&G.forEach((function(e){h[e]*=l.height}));return h}function Ie(e,t,i){return 0==t&&0==i?e/2:0==t?0:0==i?e:e*Math.abs(t/(t+i))}var Be=f("vue-simple-handler"),Le=f("vue-simple-handler-wrapper"),De=W({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("HandlerWrapper",{class:e.classes.wrapper,attrs:{"vertical-position":e.verticalPosition,"horizontal-position":e.horizontalPosition,disabled:e.disabled},on:{drag:e.onDrag,"drag-end":e.onDragEnd,enter:e.onEnter,leave:e.onLeave}},[i("div",{class:e.classes.default})])},staticRenderFns:[]},void 0,{name:"SimpleHandler",components:{HandlerWrapper:N},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(h(e={},this.horizontalPosition,Boolean(this.horizontalPosition)),h(e,this.verticalPosition,Boolean(this.verticalPosition)),h(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),Boolean(this.verticalPosition&&this.horizontalPosition)),h(e,"hover",this.hover),e);return{default:p(Be(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:p(Le(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Oe=f("vue-simple-line"),We=f("vue-simple-line-wrapper"),Pe=W({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("LineWrapper",{class:e.classes.wrapper,attrs:{position:e.position,disabled:e.disabled},on:{drag:e.onDrag,"drag-end":e.onDragEnd,enter:e.onEnter,leave:e.onLeave}},[i("div",{class:e.classes.root})])},staticRenderFns:[]},void 0,{name:"SimpleLine",components:{LineWrapper:F},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:p(Oe(h({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:p(We(h({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}}},void 0,!1,void 0,!1,void 0,void 0,void 0),He=f("vue-bounding-box"),Ne=["east","west",null],$e=["south","north",null],Fe=W({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"box",class:e.classes.root,style:e.style},[e._t("default"),e._v(" "),i("div",e._l(e.lineNodes,(function(t){return i(t.component,{key:t.name,tag:"component",attrs:{"default-class":t.class,"hover-class":t.hoverClass,"wrapper-class":t.wrapperClass,position:t.name,disabled:t.disabled},on:{drag:function(i){return e.onHandlerDrag(i,t.horizontalDirection,t.verticalDirection)},"drag-end":function(t){return e.onEnd()}}})})),1),e._v(" "),e._l(e.handlerNodes,(function(t){return i("div",{key:t.name,class:t.wrapperClass,style:t.wrapperStyle},[i(t.component,{tag:"component",attrs:{"default-class":t.class,"hover-class":t.hoverClass,"wrapper-class":t.wrapperClass,"horizontal-position":t.horizontalDirection,"vertical-position":t.verticalDirection,disabled:t.disabled},on:{drag:function(i){return e.onHandlerDrag(i,t.horizontalDirection,t.verticalDirection)},"drag-end":function(t){return e.onEnd()}}})],1)}))],2)},staticRenderFns:[]},void 0,{name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return De}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return Pe}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return Ne.forEach((function(t){$e.forEach((function(i){if(t!==i){var n=R(t,i),o=n.name,a=n.classname;e.push({name:o,classname:a,verticalDirection:i,horizontalDirection:t})}}))})),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,i=this.linesClasses,n=this.linesWrappersClasses;return{root:He(),handlers:e,handlersWrappers:t,lines:i,linesWrappers:n}},lineNodes:function(){var e=this,t=[];return this.points.forEach((function(i){i.horizontalDirection&&i.verticalDirection||!e.lines[i.name]||t.push({name:i.name,component:e.linesComponent,class:p(e.classes.lines.default,e.classes.lines[i.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:p(e.classes.linesWrappers.default,e.classes.linesWrappers[i.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.resizable})})),t},handlerNodes:function(){var e=this,t=[],i=this.width,n=this.height;return this.points.forEach((function(o){if(e.handlers[o.name]){var a={name:o.name,component:e.handlersComponent,class:p(e.classes.handlers.default,e.classes.handlers[o.name]),wrapperClass:p(e.classes.handlersWrappers.default,e.classes.handlersWrappers[o.name]),hoverClass:e.classes.handlers.hover,verticalDirection:o.verticalDirection,horizontalDirection:o.horizontalDirection,disabled:!e.resizable};if(i&&n){var s=o.horizontalDirection,r=o.verticalDirection,c="east"===s?i:"west"===s?0:i/2,d="south"===r?n:"north"===r?0:n/2;a.wrapperClass=He("handler"),a.wrapperStyle={transform:"translate(".concat(c,"px, ").concat(d,"px)")},e.transitions&&e.transitions.enabled&&(a.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else a.wrapperClass=He("handler",h({},o.classname,!0));t.push(a)}})),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,i){var n,o=e.shift(),a=o.left,s=o.top,r={left:0,right:0,top:0,bottom:0};"west"===t?r.left-=a:"east"===t&&(r.right+=a),"north"===i?r.top-=s:"south"===i&&(r.bottom+=s),!i&&t?n="width":i&&!t&&(n="height"),this.resizable&&this.$emit("resize",new L(r,{allowedDirections:{left:"west"===t||!t,right:"east"===t||!t,bottom:"south"===i||!i,top:"north"===i||!i},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:n}))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),_e=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},je=function(e){this.type="move",this.directions=e},Ge=f("vue-draggable-area"),Ue=W({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"container",on:{touchstart:e.onTouchStart,mousedown:e.onMouseDown}},[e._t("default")],2)},staticRenderFns:[]},void 0,{name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:Ge()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&1===e.touches.length;t&&(this.touches=d(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):I({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&0===e.button){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top;this.anchor={x:e.clientX-i,y:e.clientY-n}},processMove:function(e,t){var i=d(t);if(this.touches.length){var n=this.$refs.container.getBoundingClientRect(),o=n.left,a=n.top;1===this.touches.length&&1===i.length&&this.$emit("move",new je({left:i[0].clientX-(o+this.anchor.x),top:i[0].clientY-(a+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function Ye(e){var t,i;return{rotate:e.rotate||0,flip:{horizontal:(null===(t=null==e?void 0:e.flip)||void 0===t?void 0:t.horizontal)||!1,vertical:(null===(i=null==e?void 0:e.flip)||void 0===i?void 0:i.vertical)||!1}}}function ke(e){return new Promise((function(t,i){try{if(e)if(/^data:/i.test(e))t(function(e){e=e.replace(/^data:([^;]+);base64,/gim,"");for(var t=atob(e),i=t.length,n=new ArrayBuffer(i),o=new Uint8Array(n),a=0;a<i;a++)o[a]=t.charCodeAt(a);return n}(e));else if(/^blob:/i.test(e)){var n=new FileReader;n.onload=function(e){t(e.target.result)},a=e,s=function(e){n.readAsArrayBuffer(e)},(r=new XMLHttpRequest).open("GET",a,!0),r.responseType="blob",r.onload=function(){200!=this.status&&0!==this.status||s(this.response)},r.send()}else{var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status||0===o.status?t(o.response):i("Warning: could not load an image to parse its orientation"),o=null)},o.onprogress=function(){"image/jpeg"!==o.getResponseHeader("content-type")&&o.abort()},o.withCredentials=!1,o.open("GET",e,!0),o.responseType="arraybuffer",o.send(null)}else i("Error: the image is empty")}catch(e){i(e)}var a,s,r}))}function Xe(e){var t=e.rotate,i=e.flip,n=e.scaleX,o=e.scaleY,a="";return a+=" rotate("+t+"deg) ",a+=" scaleX("+n*(i.horizontal?-1:1)+") ",a+" scaleY("+o*(i.vertical?-1:1)+") "}function Ke(e){try{var t,i=new DataView(e),n=void 0,o=void 0,a=void 0,s=void 0;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var r=i.byteLength,h=2;h+1<r;){if(255===i.getUint8(h)&&225===i.getUint8(h+1)){a=h;break}h++}if(a&&(n=a+10,"Exif"===function(e,t,i){var n,o="";for(n=t,i+=t;n<i;n++)o+=String.fromCharCode(e.getUint8(n));return o}(i,a+4,4))){var c=i.getUint16(n);if(((o=18761===c)||19789===c)&&42===i.getUint16(n+2,o)){var d=i.getUint32(n+4,o);d>=8&&(s=n+d)}}if(s)for(var u=i.getUint16(s,o),l=0;l<u;l++)if(h=s+12*l+2,274===i.getUint16(h,o)){h+=8,t=i.getUint16(h,o),i.setUint16(h,1,o);break}return t}catch(e){return null}}var Ve=f("vue-preview-result");W({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.root},[i("div",{ref:"wrapper",class:e.classes.wrapper,style:e.wrapperStyle},[i("img",{ref:"image",class:e.classes.image,style:e.imageStyle,attrs:{src:e.image.src}})])])},staticRenderFns:[]},void 0,{name:"PreviewResult",props:{image:{type:Object},transitions:{type:Object},stencilCoordinates:{type:Object,default:function(){return{width:0,height:0,left:0,top:0}}},imageClass:{type:String}},computed:{classes:function(){return{root:Ve(),wrapper:Ve("wrapper"),imageWrapper:Ve("image-wrapper"),image:p(Ve("image"),this.imageClass)}},wrapperStyle:function(){var e={width:"".concat(this.stencilCoordinates.width,"px"),height:"".concat(this.stencilCoordinates.height,"px"),left:"calc(50% - ".concat(this.stencilCoordinates.width/2,"px)"),top:"calc(50% - ".concat(this.stencilCoordinates.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){var e=this.image.transforms,t=re({width:this.image.width,height:this.image.height},e.rotate),i={width:"".concat(this.image.width,"px"),height:"".concat(this.image.height,"px"),left:"0px",top:"0px"},n={left:(this.image.width-t.width)*e.scaleX/2,top:(this.image.height-t.height)*e.scaleY/2},o={left:(1-e.scaleX)*this.image.width/2,top:(1-e.scaleY)*this.image.height/2};return i.transform="translate(\n\t\t\t\t".concat(-this.stencilCoordinates.left-e.translateX-n.left-o.left,"px,").concat(-this.stencilCoordinates.top-e.translateY-n.top-o.top,"px) ")+Xe(e),this.transitions&&this.transitions.enabled&&(i.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),i}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function Ze(e,t){var i=t.getBoundingClientRect(),n=i.left,o=i.top,a={left:0,top:0},s=0;return e.forEach((function(t){a.left+=(t.clientX-n)/e.length,a.top+=(t.clientY-o)/e.length})),e.forEach((function(e){s+=I({x:a.left,y:a.top},{x:e.clientX-n,y:e.clientY-o})})),{centerMass:a,spread:s,count:e.length}}var Je=W({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"container",on:{touchstart:e.onTouchStart,mousedown:e.onMouseDown,wheel:e.onWheel}},[e._t("default")],2)},staticRenderFns:[]},void 0,{props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeDestroy:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=b(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(1===this.touches.length&&1===t.length)this.$emit("move",new _e({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var i=Ze(t,this.$refs.container),n=this.oldGeometricProperties;n.count===i.count&&n.count>1&&this.$emit("resize",new _e({left:n.centerMass.left-i.centerMass.left,top:n.centerMass.top-i.centerMass.top},{factor:n.spread/i.spread,center:i.centerMass})),this.oldGeometricProperties=i}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?!1!==this.eventsFilter(e,this.transforming):(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,i=t.getBoundingClientRect(),n=i.left,o=i.top,a=i.bottom,s=i.right;this.touches=d(e.touches).filter((function(e){return e.clientX>n&&e.clientX<s&&e.clientY>o&&e.clientY<a})),this.oldGeometricProperties=Ze(this.touches,t)}},onTouchEnd:function(e){0===e.touches.length&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var i=d(e.touches).filter((function(e){return!e.identifier||t.touches.find((function(t){return t.identifier===e.identifier}))}));this.processEvent(e)&&(this.processMove(e,i),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&1===e.buttons&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top,o=1+this.wheelResize.ratio*(s=e.deltaY||e.detail||e.wheelDelta,0===(r=+s)||T(r)?r:r>0?1:-1),a={left:e.clientX-i,top:e.clientY-n};this.$emit("resize",new _e({},{factor:o,center:a})),this.touches.length||this.debouncedProcessEnd()}var s,r}}},void 0,!1,void 0,!1,void 0,void 0,void 0),qe=W({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("transformable-image",{attrs:{"touch-move":e.touchMove,"touch-resize":e.touchResize,"mouse-move":e.mouseMove,"wheel-resize":e.wheelResize},on:{move:function(t){return e.$emit("move",t)},resize:function(t){return e.$emit("resize",t)}}},[e._t("default")],2)},staticRenderFns:[]},void 0,{components:{TransformableImage:Je},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}}},void 0,!1,void 0,!1,void 0,void 0,void 0),Qe=f("vue-preview"),et=W({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"root",class:e.classes.root,style:e.style},[i("div",{ref:"wrapper",class:e.classes.wrapper,style:e.wrapperStyle},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.image&&e.image.src,expression:"image && image.src"}],ref:"image",class:e.classes.image,style:e.imageStyle,attrs:{src:e.image&&e.image.src}})])])},staticRenderFns:[]},void 0,{props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:Qe({fill:this.fill}),wrapper:Qe("wrapper"),imageWrapper:Qe("image-wrapper"),image:p(Qe("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=r(r({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),i=this.imageSize.width,n=this.imageSize.height,o=re({width:i,height:n},t.rotate),a={width:"".concat(i,"px"),height:"".concat(n,"px"),left:"0px",top:"0px"},s={rotate:{left:(i-o.width)*t.scaleX/2,top:(n-o.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*i/2,top:(1-t.scaleY)*n/2}};return a.transform="translate(\n\t\t\t\t".concat(-this.coordinates.left/e-s.rotate.left-s.scale.left,"px,").concat(-this.coordinates.top/e-s.rotate.top-s.scale.top,"px) ")+Xe(t),this.transitions&&this.transitions.enabled&&(a.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),a}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",(function(){e.refreshImage()})),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),tt=W({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("preview",e._b({attrs:{fill:!0}},"preview",e.$attrs,!1))},staticRenderFns:[]},void 0,{components:{Preview:et},inheritAttrs:!1},void 0,!1,void 0,!1,void 0,void 0,void 0),it=f("vue-rectangle-stencil"),nt=W({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.stencil,style:e.style},[i("bounding-box",{class:e.classes.boundingBox,attrs:{width:e.stencilCoordinates.width,height:e.stencilCoordinates.height,transitions:e.transitions,handlers:e.handlers,"handlers-component":e.handlersComponent,"handlers-classes":e.handlersClasses,"handlers-wrappers-classes":e.handlersWrappersClasses,lines:e.lines,"lines-component":e.linesComponent,"lines-classes":e.linesClasses,"lines-wrappers-classes":e.linesWrappersClasses,resizable:e.resizable},on:{resize:e.onResize,"resize-end":e.onResizeEnd}},[i("draggable-area",{attrs:{movable:e.movable},on:{move:e.onMove,"move-end":e.onMoveEnd}},[i("stencil-preview",{class:e.classes.preview,attrs:{image:e.image,coordinates:e.coordinates,width:e.stencilCoordinates.width,height:e.stencilCoordinates.height,transitions:e.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{name:"RectangleStencil",components:{StencilPreview:tt,BoundingBox:Fe,DraggableArea:Ue},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return De}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Pe}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:p(it({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:p(it("preview"),this.previewClass),boundingBox:p(it("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,o=e.top,a={width:"".concat(i,"px"),height:"".concat(t,"px"),transform:"translate(".concat(n,"px, ").concat(o,"px)")};return this.transitions&&this.transitions.enabled&&(a.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),a}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),ot=f("vue-circle-stencil"),at=W({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.classes.stencil,style:e.style},[i("bounding-box",{class:e.classes.boundingBox,attrs:{width:e.stencilCoordinates.width,height:e.stencilCoordinates.height,transitions:e.transitions,handlers:e.handlers,"handlers-component":e.handlersComponent,"handlers-classes":e.handlersClasses,"handlers-wrappers-classes":e.handlersWrappersClasses,lines:e.lines,"lines-component":e.linesComponent,"lines-classes":e.linesClasses,"lines-wrappers-classes":e.linesWrappersClasses,resizable:e.resizable},on:{resize:e.onResize,"resize-end":e.onResizeEnd}},[i("draggable-area",{attrs:{movable:e.movable},on:{move:e.onMove,"move-end":e.onMoveEnd}},[i("stencil-preview",{class:e.classes.preview,attrs:{image:e.image,coordinates:e.coordinates,width:e.stencilCoordinates.width,height:e.stencilCoordinates.height,transitions:e.transitions}})],1)],1)],1)},staticRenderFns:[]},void 0,{components:{StencilPreview:tt,BoundingBox:Fe,DraggableArea:Ue},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}}},handlersComponent:{type:[Object,String],default:function(){return De}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Pe}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:p(ot({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:p(ot("preview"),this.previewClass),boundingBox:p(ot("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,o=e.top,a={width:"".concat(i,"px"),height:"".concat(t,"px"),transform:"translate(".concat(n,"px, ").concat(o,"px)")};return this.transitions&&this.transitions.enabled&&(a.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),a}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:1,maximum:1}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),st=["transitions"],rt=f("vue-advanced-cropper"),ht={name:"Cropper",components:{BackgroundWrapper:qe},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return nt}},backgroundWrapperComponent:{type:[Object,String],default:function(){return qe}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return-1!==Y.indexOf(e)}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object],default:function(e){var t=e.imageSize,i=e.visibleArea,n=e.coordinates,o=i||t;return{left:(i?i.left:0)+o.width/2-n.width/2,top:(i?i.top:0)+o.height/2-n.height/2}}},defaultVisibleArea:{type:[Function,Object],default:function(e){var t=e.getAreaRestrictions,i=e.coordinates,n=e.imageSize,o=ie(e.boundaries);if(i){var a={height:Math.max(i.height,n.height),width:Math.max(i.width,n.width)},s=se({width:ie(a)>o?a.width:a.height*o,height:ie(a)>o?a.width/o:a.height},ue(t())),r={left:i.left+i.width/2-s.width/2,top:i.top+i.height/2-s.height/2,width:s.width,height:s.height},h=J(i,K(w({left:0,top:0},n))),c={};return!h.left&&!h.right&&r.width<=n.width&&(c.left=0,c.right=n.width),!h.top&&!h.bottom&&r.height<=n.height&&(c.top=0,c.bottom=n.height),de(r,c)}var d=ie(n);return s={height:d>o?n.height:n.width/o,width:d>o?n.height*o:n.width},{left:n.width/2-s.width/2,top:n.height/2-s.height/2,width:s.width,height:s.height}}},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!("string"==typeof e&&"fill"!==e&&"fit"!==e)}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,i=e.coordinates,n=e.aspectRatio,o=e.positionRestrictions,a=e.sizeRestrictions,s=w(w({},i),{right:i.left+i.width,bottom:i.top+i.height}),r=t.params||{},h=w({},t.directions),c=r.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};a.widthFrozen&&(h.left=0,h.right=0),a.heightFrozen&&(h.top=0,h.bottom=0),_.forEach((function(e){c[e]||(h[e]=0)}));var d=q(s,h=Te({coordinates:s,directions:h,sizeRestrictions:a,positionRestrictions:o})).width,u=q(s,h).height,l=r.preserveRatio?ie(s):ae(d/u,n);if(l){var m=r.respectDirection;if(m||(m=s.width>=s.height||1===l?"width":"height"),"width"===m){var g=d/l-s.height;if(c.top&&c.bottom){var p=h.top,f=h.bottom;h.bottom=Ie(g,f,p),h.top=Ie(g,p,f)}else c.bottom?h.bottom=g:c.top?h.top=g:c.right?h.right=0:c.left&&(h.left=0)}else if("height"===m){var v=s.width-u*l;if(c.left&&c.right){var b=h.left,R=h.right;h.left=-Ie(v,b,R),h.right=-Ie(v,R,b)}else c.left?h.left=-v:c.right?h.right=-v:c.top?h.top=0:c.bottom&&(h.bottom=0)}h=Te({directions:h,coordinates:s,sizeRestrictions:a,positionRestrictions:o,preserveRatio:!0,compensate:r.compensate})}return d=q(s,h).width,u=q(s,h).height,(l=r.preserveRatio?ie(s):ae(d/u,n))&&Math.abs(l-d/u)>.001&&_.forEach((function(e){c[e]||(h[e]=0)})),be({event:new D({left:-h.left,top:-h.top}),coordinates:{width:i.width+h.right+h.left,height:i.height+h.top+h.bottom,left:i.left,top:i.top},positionRestrictions:o})}},moveAlgorithm:{type:Function,default:be},initStretcher:{type:Function,default:function(e){var t=e.stretcher,i=e.imageSize,n=ie(i);t.style.width=i.width+"px",t.style.height=t.clientWidth/n+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,i=e.coordinates,n=e.aspectRatio,o=e.sizeRestrictions,a=e.positionRestrictions,s=w(w({},i),ve({width:i.width,height:i.height,aspectRatio:n,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,o.minHeight),minWidth:Math.min(t.width,o.minWidth)}}));return de(s=ee(s,V(Z(i),Z(s))),ge(K(t),a))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.getAreaRestrictions,o=e.coordinates,a=w({},t);a.height=a.width/ie(i),a.top+=(t.height-a.height)/2,(o.height-a.height>0||o.width-a.width>0)&&(a=te(a,Math.max(o.height/a.height,o.width/a.width)));var s=Q(oe(o,K(a=te(a,ce(a,n({visibleArea:a,type:"resize"}))))));return a.width<o.width&&(s.left=0),a.height<o.height&&(s.top=0),de(a=ee(a,s),n({visibleArea:a,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.imageSize,o=e.imageRestriction,a=e.type,s={};return"fill-area"===o?s={left:0,top:0,right:n.width,bottom:n.height}:"fit-area"===o&&(ie(i)>ie(n)?(s={top:0,bottom:n.height},t&&"move"===a&&(t.width>n.width?(s.left=-(t.width-n.width)/2,s.right=n.width-s.left):(s.left=0,s.right=n.width))):(s={left:0,right:n.width},t&&"move"===a&&(t.height>n.height?(s.top=-(t.height-n.height)/2,s.bottom=n.height-s.top):(s.top=0,s.bottom=n.height)))),s}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,i={};return"none"!==e.imageRestriction&&(i={left:0,top:0,right:t.width,bottom:t.height}),i}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:!1,src:null},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:r({},k)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=function(e){return e*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return Boolean(this.visibleArea&&this.imageLoaded)},settings:function(){var e=C(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:C(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:M(this.minWidth)?0:x(this.minWidth),minHeight:M(this.minHeight)?0:x(this.minHeight),maxWidth:M(this.maxWidth)?1/0:x(this.maxWidth),maxHeight:M(this.maxHeight)?1/0:x(this.maxHeight)});if(e=function(e){var t=e.areaRestrictions,i=e.sizeRestrictions;e.imageSize;var n=e.boundaries,o=e.positionRestrictions;e.imageRestriction;var a=w(w({},i),{minWidth:void 0!==i.minWidth?i.minWidth:0,minHeight:void 0!==i.minHeight?i.minHeight:0,maxWidth:void 0!==i.maxWidth?i.maxWidth:1/0,maxHeight:void 0!==i.maxHeight?i.maxHeight:1/0});void 0!==o.left&&void 0!==o.right&&(a.maxWidth=Math.min(a.maxWidth,o.right-o.left)),void 0!==o.bottom&&void 0!==o.top&&(a.maxHeight=Math.min(a.maxHeight,o.bottom-o.top));var s=ue(t),r=se(n,s);return s.width<1/0&&(!a.maxWidth||a.maxWidth>r.width)&&(a.maxWidth=Math.min(a.maxWidth,r.width)),s.height<1/0&&(!a.maxHeight||a.maxHeight>r.height)&&(a.maxHeight=Math.min(a.maxHeight,r.height)),a.minWidth>a.maxWidth&&(a.minWidth=a.maxWidth,a.widthFrozen=!0),a.minHeight>a.maxHeight&&(a.minHeight=a.maxHeight,a.heightFrozen=!0),a}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),i=ue(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,i.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,i.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:rt(),image:p(rt("image"),this.imageClass),stencil:rt("stencil"),boundaries:p(rt("boundaries"),this.boundariesClass),stretcher:p(rt("stretcher")),background:p(rt("background"),this.backgroundClass),foreground:p(rt("foreground"),this.foregroundClass),imageWrapper:p(rt("image-wrapper")),cropperWrapper:p(rt("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,i=e.height,n=e.left,o=e.top;return{width:t/this.coefficient,height:i/this.coefficient,left:(n-this.visibleArea.left)/this.coefficient,top:(o-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t={left:(e.width-this.imageSize.width)/(2*this.coefficient),top:(e.height-this.imageSize.height)/(2*this.coefficient)},i={left:(1-1/this.coefficient)*e.width/2,top:(1-1/this.coefficient)*e.height/2},n=r(r({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),o={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t.left-i.left-this.imageTransforms.translateX,"px, ").concat(-t.top-i.top-this.imageTransforms.translateY,"px)")+Xe(n)};return this.transitionsOptions.enabled&&(o.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),o}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick((function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()}))},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find((function(i){return e[i]!==t[i]}))&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=b(this.update,this.debounce),this.debouncedDisableTransitions=b(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},destroyed:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src)},methods:{getResult:function(){var e=this.initialized?this.prepareResult(r({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:r({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var i=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?r({},this.visibleArea):null,imageTransforms:t,get canvas(){return i.canvas?i.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?r({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.transitions,o=void 0===n||n;this.onManipulateImage(new B({},{factor:1/e,center:t}),{normalize:!1,transitions:o})},move:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.transitions,o=void 0===n||n;this.onManipulateImage(new B({left:e||0,top:t||0}),{normalize:!1,transitions:o})},setCoordinates:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.autoZoom,o=void 0===n||n,a=i.transitions,s=void 0===a||a;this.$nextTick((function(){t.imageLoaded?(t.transitionsActive||(s&&t.enableTransitions(),t.coordinates=t.applyTransform(e),o&&t.runAutoZoom("setCoordinates"),s&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e}))},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then((function(){e.onChange()})):this.resetVisibleArea().then((function(){e.onChange()}))},reset:function(){var e=this;return this.resetVisibleArea().then((function(){e.onChange()}))},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick((function(){e(),t.awaiting=!1})))},prepareResult:function(e){return this.roundResult?function(e){var t=e.coordinates,i=e.sizeRestrictions,n=e.positionRestrictions,o={width:Math.round(t.width),height:Math.round(t.height),left:Math.round(t.left),top:Math.round(t.top)};return o.width>i.maxWidth?o.width=Math.floor(t.width):o.width<i.minWidth&&(o.width=Math.ceil(t.width)),o.height>i.maxHeight?o.height=Math.floor(t.height):o.height<i.minHeight&&(o.height=Math.ceil(t.height)),de(o,n)}(r(r({},this.getPublicProperties()),{},{positionRestrictions:ze(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,i,n){var o=this.autoZoomAlgorithm;o||(o=this.stencilSize?Re:this.autoZoom?Ae:ye);var a=o({event:{type:e,params:n},visibleArea:t,coordinates:i,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return r(r({},a),{},{changed:!X(a.visibleArea,t)||!X(a.coordinates,i)})},runAutoZoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transitions,n=void 0!==i&&i,o=c(t,st),a=this.processAutoZoom(e,this.visibleArea,this.coordinates,o),s=a.visibleArea,r=a.coordinates,h=a.changed;n&&h&&this.enableTransitions(),this.visibleArea=s,this.coordinates=r,n&&h&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(e){var t=e.event,i=e.visibleArea,n=e.coefficient;if("manipulateImage"===t.type)return w(w({},t),{move:{left:t.move&&t.move.left?n*t.move.left:0,top:t.move&&t.move.top?n*t.move.top:0},scale:{factor:t.scale&&t.scale.factor?t.scale.factor:1,center:t.scale&&t.scale.center?{left:t.scale.center.left*n+i.left,top:t.scale.center.top*n+i.top}:null}});if("resize"===t.type){var o=w(w({},t),{directions:w({},t.directions)});return _.forEach((function(e){o.directions[e]*=n})),o}if("move"===t.type){var a=w(w({},t),{directions:w({},t.directions)});return U.forEach((function(e){a.directions[e]*=n})),a}return t}(r(r({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,i=0!==this.imageTransforms.rotate||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(e,t,i){var n=i.rotate,o=i.flip,a={width:t.naturalWidth,height:t.naturalHeight},s=re(a,n),r=e.getContext("2d");e.height=s.height,e.width=s.width,r.save();var h=he(Z(w({left:0,top:0},a)),n);return r.translate(-(h.left-s.width/2),-(h.top-s.height/2)),r.rotate(n*Math.PI/180),r.translate(o.horizontal?a.width:0,o.vertical?a.height:0),r.scale(o.horizontal?-1:1,o.vertical?-1:1),r.drawImage(t,0,0,a.width,a.height),r.restore(),e}(this.$refs.sourceCanvas,t,this.imageTransforms):t,n=r({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),o=function(e){return e.find((function(e){return t=e,!Number.isNaN(parseFloat(t))&&isFinite(t);var t}))},a=ve({sizeRestrictions:{minWidth:o([n.width,n.minWidth])||0,minHeight:o([n.height,n.minHeight])||0,maxWidth:o([n.width,n.maxWidth])||1/0,maxHeight:o([n.height,n.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(n.maxArea&&a.width*a.height>n.maxArea){var s=Math.sqrt(n.maxArea/(a.width*a.height));a={width:Math.round(s*a.width),height:Math.round(s*a.height)}}return function(e,t,i,n,o){e.width=n?n.width:i.width,e.height=n?n.height:i.height;var a=e.getContext("2d");a.clearRect(0,0,e.width,e.height),o&&(o.imageSmoothingEnabled&&(a.imageSmoothingEnabled=o.imageSmoothingEnabled),o.imageSmoothingQuality&&(a.imageSmoothingQuality=o.imageSmoothingQuality),o.fillColor&&(a.fillStyle=o.fillColor,a.fillRect(0,0,e.width,e.height),a.save())),a.drawImage(t,i.left,i.top,i.width,i.height,0,0,e.width,e.height)}(e,i,this.coordinates,a,n),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.visibleArea&&t?le(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,n=this.visibleArea&&t?ze(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return we({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:i,positionRestrictions:n,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?Me:Se);var i=this.sizeRestrictions;i.minWidth,i.minHeight,i.maxWidth,i.maxHeight;var n=[S(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,function(t){var i=t.coordinates;return r({},S(e.defaultPosition)?e.defaultPosition({coordinates:i,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&n.push.apply(n,d(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(n,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout((function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}}),this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then((function(){var t={cropper:i,imageSize:e.imageSize};if(S(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(t):"fit"===e.defaultBoundaries?e.boundaries=function(e){var t=e.cropper,i=e.imageSize,n=t.clientHeight,o=t.clientWidth,a=n,s=i.width*n/i.height;return s>o&&(s=o,a=i.height*o/i.width),{width:s,height:a}}(t):e.boundaries=function(e){var t=e.cropper;return{width:t.clientWidth,height:t.clientHeight}}(t),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")}))},resetVisibleArea:function(){var e=this;return this.updateBoundaries().then((function(){var t,i,n,o,a,s;"visible-area"!==e.priority&&(e.visibleArea=null,e.resetCoordinates()),e.visibleArea=S(e.defaultVisibleArea)?e.defaultVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:"visible-area"!==e.priority?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions},i=t.visibleArea,n=t.boundaries,o=t.getAreaRestrictions,a=w({},i),s=ie(n),a.width/a.height!==s&&(a.height=a.width/s),de(a,o({visibleArea:a,type:"move"}))),"visible-area"===e.priority?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")})).catch((function(){e.visibleArea=null}))},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then((function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")})).catch((function(){e.visibleArea=null}))},onChange:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$listeners&&this.$listeners.change&&(e&&this.debounce?this.debouncedUpdate():this.update())},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(e){if(y(e))return!1;var t=window.location,i=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[],n={protocol:i[1]||"",host:i[2]||"",port:i[3]||""},o=function(e){return e.port||("http"===(e.protocol||t.protocol)?80:433)};return!(!n.protocol&&!n.host&&!n.port||Boolean(n.protocol&&n.protocol==t.protocol&&n.host&&n.host==t.host&&n.host&&o(n)==o(t)))}(this.src)){var i=M(this.crossOrigin)?this.canvas:this.crossOrigin;!0===i&&(i="anonymous"),this.imageAttributes.crossOrigin=i}if(this.checkOrientation){var n=(e=this.src,new Promise((function(t){ke(e).then((function(i){var n=Ke(i);t(i?{source:e,arrayBuffer:i,orientation:n}:{source:e,arrayBuffer:null,orientation:null})})).catch((function(i){console.warn(i),t({source:e,arrayBuffer:null,orientation:null})}))})));setTimeout((function(){n.then(t.onParseImage)}),this.transitionTime)}else setTimeout((function(){t.onParseImage({source:t.src})}),this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.reset().then((function(){e.$emit("ready"),e.onChange(!1)})))},onParseImage:function(e){var t=this,i=e.source,n=e.arrayBuffer,o=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,n&&o&&o>1?A(i)||!y(i)?(this.imageAttributes.src=URL.createObjectURL(new Blob([n])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(e){for(var t=[],i=new Uint8Array(e);i.length>0;){var n=i.subarray(0,8192);t.push(String.fromCharCode.apply(null,Array.from?Array.from(n):n.slice())),i=i.subarray(8192)}return"data:image/jpeg;base64,"+btoa(t.join(""))}(n):this.imageAttributes.src=i,S(this.defaultTransforms)?this.appliedImageTransforms=Ye(this.defaultTransforms()):z(this.defaultTransforms)?this.appliedImageTransforms=Ye(this.defaultTransforms):this.appliedImageTransforms=function(e){var t=Ye({});if(e)switch(e){case 2:t.flip.horizontal=!0;break;case 3:t.rotate=-180;break;case 4:t.flip.vertical=!0;break;case 5:t.rotate=90,t.flip.vertical=!0;break;case 6:t.rotate=90;break;case 7:t.rotate=90,t.flip.horizontal=!0;break;case 8:t.rotate=-90}return t}(o),this.$nextTick((function(){var e=t.$refs.image;e&&e.complete&&(function(e){return Boolean(e.naturalWidth)}(e)?t.onSuccessLoadImage():t.onFailLoadImage())}))},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender((function(){t.coordinates=t.moveAlgorithm(r(r({},t.getPublicProperties()),{},{positionRestrictions:ze(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()}))},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender((function(){var i=t.sizeRestrictions,n=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(r(r({},t.getPublicProperties()),{},{positionRestrictions:ze(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(i.maxWidth,t.visibleArea.width),maxHeight:Math.min(i.maxHeight,t.visibleArea.height),minWidth:Math.max(i.minWidth,n),minHeight:Math.max(i.minHeight,n)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1}))},onManipulateImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transitionsOptions.enabled){var i=t.transitions,n=void 0!==i&&i,o=t.normalize,a=void 0===o||o;n&&this.enableTransitions();var s=Ce(r(r({},this.getPublicProperties()),{},{event:a?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),h=s.visibleArea,c=s.coordinates;this.visibleArea=h,this.coordinates=c,this.runAutoZoom("manipulateImage"),this.onChange(),n&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.visibleArea,i=e.type,n=void 0===i?"move":i;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:n})},getAspectRatio:function(e){var t,i,n=this.stencilProps,o=n.aspectRatio,a=n.minAspectRatio,s=n.maxAspectRatio;if(this.$refs.stencil.aspectRatios){var r=this.$refs.stencil.aspectRatios();t=r.minimum,i=r.maximum}if(M(t)&&(t=M(o)?a:o),M(i)&&(i=M(o)?s:o),!e&&(M(t)||M(i))){var h=this.getStencilSize(),c=h?ie(h):null;M(t)&&(t=E(c)?c:void 0),M(i)&&(i=E(c)?c:void 0)}return{minimum:t,maximum:i}},getStencilSize:function(){if(this.stencilSize)return e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},t=e.boundaries,i=e.stencilSize,n=e.aspectRatio,ae(ie(o=S(i)?i({boundaries:t,aspectRatio:n}):i),n)&&(o=ve({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:n.minimum,maximum:n.maximum}})),(o.width>t.width||o.height>t.height)&&(o=ve({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:ie(o),maximum:ie(o)}})),o;var e,t,i,n,o},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return r({},k)},flip:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.transitions,o=void 0===n||n;if(!this.transitionsActive){o&&this.enableTransitions();var a=r({},this.imageTransforms.flip),s=Ee({flip:{horizontal:e?!a.horizontal:a.horizontal,vertical:t?!a.vertical:a.vertical},previousFlip:a,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),h=s.visibleArea,c=s.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=h,this.coordinates=c,this.onChange(),o&&this.debouncedDisableTransitions()}},rotate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transitions,n=void 0===i||i;if(!this.transitionsActive){n&&this.enableTransitions();var o=r({},this.imageSize);this.appliedImageTransforms.rotate+=e;var a=xe({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:o,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),s=a.visibleArea,h=a.coordinates,c=this.processAutoZoom("rotateImage",s,h);s=c.visibleArea,h=c.coordinates,this.visibleArea=s,this.coordinates=h,this.onChange(),n&&this.debouncedDisableTransitions()}}}},ct=W({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"cropper",class:e.classes.cropper},[i("div",{ref:"stretcher",class:e.classes.stretcher}),e._v(" "),i("div",{class:e.classes.boundaries,style:e.boundariesStyle},[i(e.backgroundWrapperComponent,{tag:"component",class:e.classes.cropperWrapper,attrs:{"wheel-resize":e.settings.resizeImage.wheel,"touch-resize":e.settings.resizeImage.touch,"touch-move":e.settings.moveImage.touch,"mouse-move":e.settings.moveImage.mouse},on:{move:e.onManipulateImage,resize:e.onManipulateImage}},[i("div",{class:e.classes.background,style:e.boundariesStyle}),e._v(" "),i("div",{class:e.classes.imageWrapper},[i("img",{ref:"image",class:e.classes.image,style:e.imageStyle,attrs:{crossorigin:e.imageAttributes.crossOrigin,src:e.imageAttributes.src},on:{mousedown:function(e){e.preventDefault()}}})]),e._v(" "),i("div",{class:e.classes.foreground,style:e.boundariesStyle}),e._v(" "),i(e.stencilComponent,e._b({directives:[{name:"show",rawName:"v-show",value:e.imageLoaded,expression:"imageLoaded"}],ref:"stencil",tag:"component",attrs:{image:e.image,coordinates:e.coordinates,"stencil-coordinates":e.stencilCoordinates,transitions:e.transitionsOptions},on:{resize:e.onResize,"resize-end":e.onResizeEnd,move:e.onMove,"move-end":e.onMoveEnd}},"component",e.stencilProps,!1)),e._v(" "),e.canvas?i("canvas",{ref:"canvas",style:{display:"none"}}):e._e(),e._v(" "),e.canvas?i("canvas",{ref:"sourceCanvas",style:{display:"none"}}):e._e()],1)],1)])},staticRenderFns:[]},void 0,ht,void 0,!1,void 0,!1,void 0,void 0,void 0);a["default"].component("cropper",ct),a["default"].component("rectangle-stencil",nt),a["default"].component("circle-stencil",at),a["default"].component("simple-handler",De),a["default"].component("simple-line",Pe);i("f7aa");var dt={name:"ImageCropUpload",components:{Cropper:ct},props:{stencilProps:{type:Object,default:function(){return{handlers:{},scalable:!0,movable:!0,aspectRatio:1.6}}},fileData:{type:String,default:""},resize:{type:Object,default:function(){return{width:"auto",height:"auto"}}}},data:function(){return{file:null,imageData:this.fileData,showCropModal:!1,imageCropped:!1,imageResized:!1}},computed:{getImageData:function(){return this.imageData?this.imageData:this.fileData}},methods:{toBase64:function(e){return new Promise((function(t,i){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return i(e)}}))},fileChange:function(e){var t=this;e.target.files.length&&(this.file=e.target.files[0],this.toBase64(this.file).then((function(e){t.imageData=e,t.showCropModal=!0,t.imageCropped=!1,t.imageResized=!1})))},cropImage:function(){var e=this.$refs.cropper.getResult(),t=e.canvas;this.imageData=this.resizeImage(t,this.resize.width,this.resize.height),this.showCropModal=!1,this.imageCropped=!0,this.$emit("done",this.imageData)},cancelCrop:function(){var e=this,t=document.createElement("canvas"),i=t.getContext("2d"),n=new Image;n.crossOrigin="Anonymous",n.onload=function(){t.width=n.width,t.height=n.height,i.drawImage(n,0,0,t.width,t.height),e.imageResized||(e.imageData=e.resizeImage(t,e.resize.width,e.resize.height)),e.$emit("done",e.imageData)},n.src=this.getImageData,this.showCropModal=!1,this.imageCropped=!1},resizeImage:function(e){var t,i,n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(!e)return!1;if("auto"==a&&"auto"==s)return e.toDataURL("image/png");var r=a,h=s,c=e.width,d=e.height;return r&&"auto"!=r&&c>=r&&(t=r,n=c/r,i=d/n),h&&"auto"!=h&&d>=h&&(i=h,o=d/h,t=c/o),this.resample(e,t,i,!0),this.imageResized=!0,e.toDataURL("image/png")},resample:function(e,t,i,n){var o=e.width,a=e.height;t=Math.round(t),i=Math.round(i);for(var s=o/t,r=a/i,h=Math.ceil(s/2),c=Math.ceil(r/2),d=e.getContext("2d"),u=d.getImageData(0,0,o,a),l=d.createImageData(t,i),m=u.data,g=l.data,p=0;p<i;p++)for(var f=0;f<t;f++){for(var v=4*(f+p*t),b=0,w=0,R=0,A=0,y=0,S=0,M=0,z=(p+.5)*r,C=Math.floor(p*r),x=Math.ceil((p+1)*r),E=C;E<x;E++)for(var T=Math.abs(z-(E+.5))/c,I=(f+.5)*s,B=T*T,L=Math.floor(f*s),D=Math.ceil((f+1)*s),O=L;O<D;O++){var W=Math.abs(I-(O+.5))/h,P=Math.sqrt(B+W*W);if(!(P>=1)){b=2*P*P*P-3*P*P+1;var H=4*(O+E*o);M+=b*m[H+3],R+=b,m[H+3]<255&&(b=b*m[H+3]/250),A+=b*m[H],y+=b*m[H+1],S+=b*m[H+2],w+=b}}g[v]=A/w,g[v+1]=y/w,g[v+2]=S/w,g[v+3]=M/R}!0===n?(e.width=t,e.height=i):d.clearRect(0,0,o,a),d.putImageData(l,0,0)},showCropDialog:function(){this.showCropModal=!0},clearFile:function(){this.file=null,this.fileData=null,this.imageData=null,this.imageCropped=!1,this.showCropModal=!1,this.$emit("clear","")},defaultSize:function(e){var t=e.imageSize,i=e.visibleArea;return{width:(i||t).width/2,height:(i||t).height/2}}}},ut=dt,lt=(i("18fb"),i("2877")),mt=Object(lt["a"])(ut,n,o,!1,null,"0bab125c",null);t["a"]=mt.exports},"8aad":function(e,t,i){"use strict";var n=[{code:"AF",code3:"AFG",name:"Afghanistan",number:"004"},{code:"AL",code3:"ALB",name:"Albania",number:"008"},{code:"DZ",code3:"DZA",name:"Algeria",number:"012"},{code:"AS",code3:"ASM",name:"American Samoa",number:"016"},{code:"AD",code3:"AND",name:"Andorra",number:"020"},{code:"AO",code3:"AGO",name:"Angola",number:"024"},{code:"AI",code3:"AIA",name:"Anguilla",number:"660"},{code:"AQ",code3:"ATA",name:"Antarctica",number:"010"},{code:"AG",code3:"ATG",name:"Antigua and Barbuda",number:"028"},{code:"AR",code3:"ARG",name:"Argentina",number:"032"},{code:"AM",code3:"ARM",name:"Armenia",number:"051"},{code:"AW",code3:"ABW",name:"Aruba",number:"533"},{code:"AU",code3:"AUS",name:"Australia",number:"036"},{code:"AT",code3:"AUT",name:"Austria",number:"040"},{code:"AZ",code3:"AZE",name:"Azerbaijan",number:"031"},{code:"BS",code3:"BHS",name:"Bahamas (the)",number:"044"},{code:"BH",code3:"BHR",name:"Bahrain",number:"048"},{code:"BD",code3:"BGD",name:"Bangladesh",number:"050"},{code:"BB",code3:"BRB",name:"Barbados",number:"052"},{code:"BY",code3:"BLR",name:"Belarus",number:"112"},{code:"BE",code3:"BEL",name:"Belgium",number:"056"},{code:"BZ",code3:"BLZ",name:"Belize",number:"084"},{code:"BJ",code3:"BEN",name:"Benin",number:"204"},{code:"BM",code3:"BMU",name:"Bermuda",number:"060"},{code:"BT",code3:"BTN",name:"Bhutan",number:"064"},{code:"BO",code3:"BOL",name:"Bolivia (Plurinational State of)",number:"068"},{code:"BQ",code3:"BES",name:"Bonaire, Sint Eustatius and Saba",number:"535"},{code:"BA",code3:"BIH",name:"Bosnia and Herzegovina",number:"070"},{code:"BW",code3:"BWA",name:"Botswana",number:"072"},{code:"BV",code3:"BVT",name:"Bouvet Island",number:"074"},{code:"BR",code3:"BRA",name:"Brazil",number:"076"},{code:"IO",code3:"IOT",name:"British Indian Ocean Territory (the)",number:"086"},{code:"BN",code3:"BRN",name:"Brunei Darussalam",number:"096"},{code:"BG",code3:"BGR",name:"Bulgaria",number:"100"},{code:"BF",code3:"BFA",name:"Burkina Faso",number:"854"},{code:"BI",code3:"BDI",name:"Burundi",number:"108"},{code:"CV",code3:"CPV",name:"Cabo Verde",number:"132"},{code:"KH",code3:"KHM",name:"Cambodia",number:"116"},{code:"CM",code3:"CMR",name:"Cameroon",number:"120"},{code:"CA",code3:"CAN",name:"Canada",number:"124"},{code:"KY",code3:"CYM",name:"Cayman Islands (the)",number:"136"},{code:"CF",code3:"CAF",name:"Central African Republic (the)",number:"140"},{code:"TD",code3:"TCD",name:"Chad",number:"148"},{code:"CL",code3:"CHL",name:"Chile",number:"152"},{code:"CN",code3:"CHN",name:"China",number:"156"},{code:"CX",code3:"CXR",name:"Christmas Island",number:"162"},{code:"CC",code3:"CCK",name:"Cocos (Keeling) Islands (the)",number:"166"},{code:"CO",code3:"COL",name:"Colombia",number:"170"},{code:"KM",code3:"COM",name:"Comoros (the)",number:"174"},{code:"CD",code3:"COD",name:"Congo (the Democratic Republic of the)",number:"180"},{code:"CG",code3:"COG",name:"Congo (the)",number:"178"},{code:"CK",code3:"COK",name:"Cook Islands (the)",number:"184"},{code:"CR",code3:"CRI",name:"Costa Rica",number:"188"},{code:"HR",code3:"HRV",name:"Croatia",number:"191"},{code:"CU",code3:"CUB",name:"Cuba",number:"192"},{code:"CW",code3:"CUW",name:"Curaao",number:"531"},{code:"CY",code3:"CYP",name:"Cyprus",number:"196"},{code:"CZ",code3:"CZE",name:"Czechia",number:"203"},{code:"CI",code3:"CIV",name:"Cte d'Ivoire",number:"384"},{code:"DK",code3:"DNK",name:"Denmark",number:"208"},{code:"DJ",code3:"DJI",name:"Djibouti",number:"262"},{code:"DM",code3:"DMA",name:"Dominica",number:"212"},{code:"DO",code3:"DOM",name:"Dominican Republic (the)",number:"214"},{code:"EC",code3:"ECU",name:"Ecuador",number:"218"},{code:"EG",code3:"EGY",name:"Egypt",number:"818"},{code:"SV",code3:"SLV",name:"El Salvador",number:"222"},{code:"GQ",code3:"GNQ",name:"Equatorial Guinea",number:"226"},{code:"ER",code3:"ERI",name:"Eritrea",number:"232"},{code:"EE",code3:"EST",name:"Estonia",number:"233"},{code:"SZ",code3:"SWZ",name:"Eswatini",number:"748"},{code:"ET",code3:"ETH",name:"Ethiopia",number:"231"},{code:"FK",code3:"FLK",name:"Falkland Islands (the) [Malvinas]",number:"238"},{code:"FO",code3:"FRO",name:"Faroe Islands (the)",number:"234"},{code:"FJ",code3:"FJI",name:"Fiji",number:"242"},{code:"FI",code3:"FIN",name:"Finland",number:"246"},{code:"FR",code3:"FRA",name:"France",number:"250"},{code:"GF",code3:"GUF",name:"French Guiana",number:"254"},{code:"PF",code3:"PYF",name:"French Polynesia",number:"258"},{code:"TF",code3:"ATF",name:"French Southern Territories (the)",number:"260"},{code:"GA",code3:"GAB",name:"Gabon",number:"266"},{code:"GM",code3:"GMB",name:"Gambia (the)",number:"270"},{code:"GE",code3:"GEO",name:"Georgia",number:"268"},{code:"DE",code3:"DEU",name:"Germany",number:"276"},{code:"GH",code3:"GHA",name:"Ghana",number:"288"},{code:"GI",code3:"GIB",name:"Gibraltar",number:"292"},{code:"GR",code3:"GRC",name:"Greece",number:"300"},{code:"GL",code3:"GRL",name:"Greenland",number:"304"},{code:"GD",code3:"GRD",name:"Grenada",number:"308"},{code:"GP",code3:"GLP",name:"Guadeloupe",number:"312"},{code:"GU",code3:"GUM",name:"Guam",number:"316"},{code:"GT",code3:"GTM",name:"Guatemala",number:"320"},{code:"GG",code3:"GGY",name:"Guernsey",number:"831"},{code:"GN",code3:"GIN",name:"Guinea",number:"324"},{code:"GW",code3:"GNB",name:"Guinea-Bissau",number:"624"},{code:"GY",code3:"GUY",name:"Guyana",number:"328"},{code:"HT",code3:"HTI",name:"Haiti",number:"332"},{code:"HM",code3:"HMD",name:"Heard Island and McDonald Islands",number:"334"},{code:"VA",code3:"VAT",name:"Holy See (the)",number:"336"},{code:"HN",code3:"HND",name:"Honduras",number:"340"},{code:"HK",code3:"HKG",name:"Hong Kong",number:"344"},{code:"HU",code3:"HUN",name:"Hungary",number:"348"},{code:"IS",code3:"ISL",name:"Iceland",number:"352"},{code:"IN",code3:"IND",name:"India",number:"356"},{code:"ID",code3:"IDN",name:"Indonesia",number:"360"},{code:"IR",code3:"IRN",name:"Iran (Islamic Republic of)",number:"364"},{code:"IQ",code3:"IRQ",name:"Iraq",number:"368"},{code:"IE",code3:"IRL",name:"Ireland",number:"372"},{code:"IM",code3:"IMN",name:"Isle of Man",number:"833"},{code:"IL",code3:"ISR",name:"Israel",number:"376"},{code:"IT",code3:"ITA",name:"Italy",number:"380"},{code:"JM",code3:"JAM",name:"Jamaica",number:"388"},{code:"JP",code3:"JPN",name:"Japan",number:"392"},{code:"JE",code3:"JEY",name:"Jersey",number:"832"},{code:"JO",code3:"JOR",name:"Jordan",number:"400"},{code:"KZ",code3:"KAZ",name:"Kazakhstan",number:"398"},{code:"KE",code3:"KEN",name:"Kenya",number:"404"},{code:"KI",code3:"KIR",name:"Kiribati",number:"296"},{code:"KP",code3:"PRK",name:"Korea (the Democratic People's Republic of)",number:"408"},{code:"KR",code3:"KOR",name:"Korea (the Republic of)",number:"410"},{code:"KW",code3:"KWT",name:"Kuwait",number:"414"},{code:"KG",code3:"KGZ",name:"Kyrgyzstan",number:"417"},{code:"LA",code3:"LAO",name:"Lao People's Democratic Republic (the)",number:"418"},{code:"LV",code3:"LVA",name:"Latvia",number:"428"},{code:"LB",code3:"LBN",name:"Lebanon",number:"422"},{code:"LS",code3:"LSO",name:"Lesotho",number:"426"},{code:"LR",code3:"LBR",name:"Liberia",number:"430"},{code:"LY",code3:"LBY",name:"Libya",number:"434"},{code:"LI",code3:"LIE",name:"Liechtenstein",number:"438"},{code:"LT",code3:"LTU",name:"Lithuania",number:"440"},{code:"LU",code3:"LUX",name:"Luxembourg",number:"442"},{code:"MO",code3:"MAC",name:"Macao",number:"446"},{code:"MG",code3:"MDG",name:"Madagascar",number:"450"},{code:"MW",code3:"MWI",name:"Malawi",number:"454"},{code:"MY",code3:"MYS",name:"Malaysia",number:"458"},{code:"MV",code3:"MDV",name:"Maldives",number:"462"},{code:"ML",code3:"MLI",name:"Mali",number:"466"},{code:"MT",code3:"MLT",name:"Malta",number:"470"},{code:"MH",code3:"MHL",name:"Marshall Islands (the)",number:"584"},{code:"MQ",code3:"MTQ",name:"Martinique",number:"474"},{code:"MR",code3:"MRT",name:"Mauritania",number:"478"},{code:"MU",code3:"MUS",name:"Mauritius",number:"480"},{code:"YT",code3:"MYT",name:"Mayotte",number:"175"},{code:"MX",code3:"MEX",name:"Mexico",number:"484"},{code:"FM",code3:"FSM",name:"Micronesia (Federated States of)",number:"583"},{code:"MD",code3:"MDA",name:"Moldova (the Republic of)",number:"498"},{code:"MC",code3:"MCO",name:"Monaco",number:"492"},{code:"MN",code3:"MNG",name:"Mongolia",number:"496"},{code:"ME",code3:"MNE",name:"Montenegro",number:"499"},{code:"MS",code3:"MSR",name:"Montserrat",number:"500"},{code:"MA",code3:"MAR",name:"Morocco",number:"504"},{code:"MZ",code3:"MOZ",name:"Mozambique",number:"508"},{code:"MM",code3:"MMR",name:"Myanmar",number:"104"},{code:"NA",code3:"NAM",name:"Namibia",number:"516"},{code:"NR",code3:"NRU",name:"Nauru",number:"520"},{code:"NP",code3:"NPL",name:"Nepal",number:"524"},{code:"NL",code3:"NLD",name:"Netherlands (the)",number:"528"},{code:"NC",code3:"NCL",name:"New Caledonia",number:"540"},{code:"NZ",code3:"NZL",name:"New Zealand",number:"554"},{code:"NI",code3:"NIC",name:"Nicaragua",number:"558"},{code:"NE",code3:"NER",name:"Niger (the)",number:"562"},{code:"NG",code3:"NGA",name:"Nigeria",number:"566"},{code:"NU",code3:"NIU",name:"Niue",number:"570"},{code:"NF",code3:"NFK",name:"Norfolk Island",number:"574"},{code:"MP",code3:"MNP",name:"Northern Mariana Islands (the)",number:"580"},{code:"NO",code3:"NOR",name:"Norway",number:"578"},{code:"OM",code3:"OMN",name:"Oman",number:"512"},{code:"PK",code3:"PAK",name:"Pakistan",number:"586"},{code:"PW",code3:"PLW",name:"Palau",number:"585"},{code:"PS",code3:"PSE",name:"Palestine, State of",number:"275"},{code:"PA",code3:"PAN",name:"Panama",number:"591"},{code:"PG",code3:"PNG",name:"Papua New Guinea",number:"598"},{code:"PY",code3:"PRY",name:"Paraguay",number:"600"},{code:"PE",code3:"PER",name:"Peru",number:"604"},{code:"PH",code3:"PHL",name:"Philippines (the)",number:"608"},{code:"PN",code3:"PCN",name:"Pitcairn",number:"612"},{code:"PL",code3:"POL",name:"Poland",number:"616"},{code:"PT",code3:"PRT",name:"Portugal",number:"620"},{code:"PR",code3:"PRI",name:"Puerto Rico",number:"630"},{code:"QA",code3:"QAT",name:"Qatar",number:"634"},{code:"MK",code3:"MKD",name:"Republic of North Macedonia",number:"807"},{code:"RO",code3:"ROU",name:"Romania",number:"642"},{code:"RU",code3:"RUS",name:"Russian Federation (the)",number:"643"},{code:"RW",code3:"RWA",name:"Rwanda",number:"646"},{code:"RE",code3:"REU",name:"Runion",number:"638"},{code:"BL",code3:"BLM",name:"Saint Barthlemy",number:"652"},{code:"SH",code3:"SHN",name:"Saint Helena, Ascension and Tristan da Cunha",number:"654"},{code:"KN",code3:"KNA",name:"Saint Kitts and Nevis",number:"659"},{code:"LC",code3:"LCA",name:"Saint Lucia",number:"662"},{code:"MF",code3:"MAF",name:"Saint Martin (French part)",number:"663"},{code:"PM",code3:"SPM",name:"Saint Pierre and Miquelon",number:"666"},{code:"VC",code3:"VCT",name:"Saint Vincent and the Grenadines",number:"670"},{code:"WS",code3:"WSM",name:"Samoa",number:"882"},{code:"SM",code3:"SMR",name:"San Marino",number:"674"},{code:"ST",code3:"STP",name:"Sao Tome and Principe",number:"678"},{code:"SA",code3:"SAU",name:"Saudi Arabia",number:"682"},{code:"SN",code3:"SEN",name:"Senegal",number:"686"},{code:"RS",code3:"SRB",name:"Serbia",number:"688"},{code:"SC",code3:"SYC",name:"Seychelles",number:"690"},{code:"SL",code3:"SLE",name:"Sierra Leone",number:"694"},{code:"SG",code3:"SGP",name:"Singapore",number:"702"},{code:"SX",code3:"SXM",name:"Sint Maarten (Dutch part)",number:"534"},{code:"SK",code3:"SVK",name:"Slovakia",number:"703"},{code:"SI",code3:"SVN",name:"Slovenia",number:"705"},{code:"SB",code3:"SLB",name:"Solomon Islands",number:"090"},{code:"SO",code3:"SOM",name:"Somalia",number:"706"},{code:"ZA",code3:"ZAF",name:"South Africa",number:"710"},{code:"GS",code3:"SGS",name:"South Georgia and the South Sandwich Islands",number:"239"},{code:"SS",code3:"SSD",name:"South Sudan",number:"728"},{code:"ES",code3:"ESP",name:"Spain",number:"724"},{code:"LK",code3:"LKA",name:"Sri Lanka",number:"144"},{code:"SD",code3:"SDN",name:"Sudan (the)",number:"729"},{code:"SR",code3:"SUR",name:"Suriname",number:"740"},{code:"SJ",code3:"SJM",name:"Svalbard and Jan Mayen",number:"744"},{code:"SE",code3:"SWE",name:"Sweden",number:"752"},{code:"CH",code3:"CHE",name:"Switzerland",number:"756"},{code:"SY",code3:"SYR",name:"Syrian Arab Republic",number:"760"},{code:"TW",code3:"TWN",name:"Taiwan",number:"158"},{code:"TJ",code3:"TJK",name:"Tajikistan",number:"762"},{code:"TZ",code3:"TZA",name:"Tanzania, United Republic of",number:"834"},{code:"TH",code3:"THA",name:"Thailand",number:"764"},{code:"TL",code3:"TLS",name:"Timor-Leste",number:"626"},{code:"TG",code3:"TGO",name:"Togo",number:"768"},{code:"TK",code3:"TKL",name:"Tokelau",number:"772"},{code:"TO",code3:"TON",name:"Tonga",number:"776"},{code:"TT",code3:"TTO",name:"Trinidad and Tobago",number:"780"},{code:"TN",code3:"TUN",name:"Tunisia",number:"788"},{code:"TR",code3:"TUR",name:"Turkey",number:"792"},{code:"TM",code3:"TKM",name:"Turkmenistan",number:"795"},{code:"TC",code3:"TCA",name:"Turks and Caicos Islands (the)",number:"796"},{code:"TV",code3:"TUV",name:"Tuvalu",number:"798"},{code:"UG",code3:"UGA",name:"Uganda",number:"800"},{code:"UA",code3:"UKR",name:"Ukraine",number:"804"},{code:"AE",code3:"ARE",name:"United Arab Emirates (the)",number:"784"},{code:"GB",code3:"GBR",name:"United Kingdom of Great Britain and Northern Ireland (the)",number:"826"},{code:"UM",code3:"UMI",name:"United States Minor Outlying Islands (the)",number:"581"},{code:"US",code3:"USA",name:"United States of America (the)",number:"840"},{code:"UY",code3:"URY",name:"Uruguay",number:"858"},{code:"UZ",code3:"UZB",name:"Uzbekistan",number:"860"},{code:"VU",code3:"VUT",name:"Vanuatu",number:"548"},{code:"VE",code3:"VEN",name:"Venezuela (Bolivarian Republic of)",number:"862"},{code:"VN",code3:"VNM",name:"Viet Nam",number:"704"},{code:"VG",code3:"VGB",name:"Virgin Islands (British)",number:"092"},{code:"VI",code3:"VIR",name:"Virgin Islands (U.S.)",number:"850"},{code:"WF",code3:"WLF",name:"Wallis and Futuna",number:"876"},{code:"EH",code3:"ESH",name:"Western Sahara",number:"732"},{code:"YE",code3:"YEM",name:"Yemen",number:"887"},{code:"ZM",code3:"ZMB",name:"Zambia",number:"894"},{code:"ZW",code3:"ZWE",name:"Zimbabwe",number:"716"},{code:"AX",code3:"ALA",name:"land Islands",number:"248"}];t["a"]=n},"8fe0":function(e,t,i){"use strict";i("a481");t["a"]={methods:{calcLastReadingColor:function(e){var t="black";return"undefined"!==typeof e.date_diff&&"N/A"!=e.date_diff&&(e.date_diff.h<3&&(t="green"),e.date_diff.h>=3&&e.date_diff.h<6&&(t="orange"),e.date_diff.h>=6&&(t="red"),(e.date_diff.d>0||e.date_diff.days>0)&&(t="red"),(e.date_diff.y>0||e.date_diff.m>0||e.date_diff.d>0||e.date_diff.days>0)&&(t="red")),t},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$store.getters.isAdmin(e)},isDistributor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$store.getters.isDistributor(e)},isRestricted:function(){return this.$store.getters.isRestricted()},userCan:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this.$store.getters.userCan(e,t,i,n)},userLimits:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.$store.getters.userLimits(e,t,i)},convertNodeTypeToGraphRouteName:function(e){return"Soil Moisture"==e?"soil_moisture_graph":"Nutrients"==e?"nutrients_graph":"Wells"==e?"well_controls_graph":"Water Meter"==e?"meters_graph":""},convertNodeTypeToSubsystem:function(e){return"Soil Moisture"==e?"Soil Moisture":"Nutrients"==e?"Nutrients":"Wells"==e?"Well Controls":"Water Meter"==e?"Meters":""},convertToInches:function(e){return e=e.replace("mm",""),e=parseInt(parseInt(e)/25)+'"',e},convertToIndex:function(e){return e=e.replace("mm",""),e=parseInt(parseInt(e)/100),e},truncateString:function(e){return e.length<=24?e:e.substring(0,21)+"..."}}}},acc6:function(e,t,i){},f7aa:function(e,t,i){}}]);
//# sourceMappingURL=chunk-4fccf1b7.38b7b91c.js.map