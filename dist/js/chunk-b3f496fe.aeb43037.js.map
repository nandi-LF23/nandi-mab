{"version":3,"sources":["webpack:///./src/util/mab-utils.js","webpack:///./src/views/Pages/UserManagementShow.vue?e53e","webpack:///src/views/Pages/UserManagementShow.vue","webpack:///./src/views/Pages/UserManagementShow.vue?200c","webpack:///./src/views/Pages/UserManagementShow.vue"],"names":["methods","calcLastReadingColor","obj","color","date_diff","h","d","days","y","m","isAdmin","email","this","$store","getters","isDistributor","isRestricted","userCan","permission","subsystem","object_id","object_type","userLimits","convertNodeTypeToGraphRouteName","type","convertNodeTypeToSubsystem","convertToInches","val","replace","parseInt","convertToIndex","truncateString","str","length","substring","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","directives","name","rawName","value","model","expression","_v","_s","slot","mobile","address","units","unit_of_measure","timeZones","filter","x","_key","timezone","map","_val","role_name","company_name","staticRenderFns","mixins","components","data","loadUser","$axios","get","state","baseUrl","then","loadTimezones","i","toString","_timezones","mounted","component"],"mappings":"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","file":"js/chunk-b3f496fe.aeb43037.js","sourcesContent":["export default {\n  methods: {\n    \n    // Calculate Node's Last Reading Date Color\n    calcLastReadingColor(obj)\n    {\n      let color = 'black';\n      if(typeof obj.date_diff !== \"undefined\" && obj.date_diff != 'N/A'){\n        if(obj.date_diff.h < 3){ color = 'green'; }\n        if(obj.date_diff.h >= 3 && obj.date_diff.h < 6){ color = 'orange'; }\n        if(obj.date_diff.h >= 6){ color = 'red'; }\n        if(obj.date_diff.d > 0 || obj.date_diff.days > 0){ color = 'red'; }\n        if(obj.date_diff.y > 0 || obj.date_diff.m > 0 || obj.date_diff.d > 0 || obj.date_diff.days > 0){ color = 'red'; }\n      }\n      return color;\n    },\n\n    isAdmin(email = '')\n    {\n      return this.$store.getters.isAdmin(email);\n    },\n\n    isDistributor(email = '')\n    {\n      return this.$store.getters.isDistributor(email);\n    },\n\n    isRestricted()\n    {\n      return this.$store.getters.isRestricted();\n    },\n\n    userCan(permission, subsystem, object_id = null, object_type = '')\n    {\n      return this.$store.getters.userCan(permission, subsystem, object_id, object_type);\n    },\n\n    userLimits(permission, subsystem, object_type = ''){\n      return this.$store.getters.userLimits(permission, subsystem, object_type);\n    },\n\n    convertNodeTypeToGraphRouteName(type){\n      if(type == 'Soil Moisture'){\n        return 'soil_moisture_graph';\n      } else if(type == 'Nutrients'){\n        return 'nutrients_graph';\n      } else if(type == 'Wells'){\n        return 'well_controls_graph';\n      } else if(type == 'Water Meter'){\n        return 'meters_graph';\n      } else {\n        return '';\n      }\n    },\n\n    convertNodeTypeToSubsystem(type){\n      if(type == 'Soil Moisture'){\n        return 'Soil Moisture';\n      } else if(type == 'Nutrients'){\n        return 'Nutrients';\n      } else if(type == 'Wells'){\n        return 'Well Controls';\n      } else if(type == 'Water Meter'){\n        return 'Meters';\n      } else {\n        return '';\n      }\n    },\n\n    /* To be used exclusively with Sensor Dropdowns / Checkbox Lists */\n    convertToInches(val){\n      val = val.replace('mm','');\n      val = parseInt(parseInt(val) / 25) + '\"';\n      return val;\n    },\n\n    /* \" */\n    convertToIndex(val){\n      val = val.replace('mm','');\n      val = parseInt(parseInt(val) / 100);\n      return val;\n    },\n\n    truncateString(str){\n      return str.length <= 24 ? str: (str.substring(0, 21) + '...');\n    }\n\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('base-header',{staticClass:\"pb-6\",attrs:{\"type\":\"users\"}},[_c('b-row',{staticClass:\"py-4\",attrs:{\"align-v\":\"center\"}},[_c('b-col',[_c('h6',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.model.name),expression:\"model.name\"}],staticClass:\"h2 text-white d-inline-block mb-0 mr-5\"},[_vm._v(\"User - \"+_vm._s(_vm.model.name))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"mab_spinner light right\"})])],1)],1),_c('div',{staticClass:\"container-fluid mt--6\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('card',{attrs:{\"body-classes\":\"px-0 py-0\"}},[_c('template',{slot:\"header\"},[_c('h3',{staticClass:\"mb-0\"},[_vm._v(\"User Details\")])]),_c('div',{staticClass:\"card-body\"},[_c('b-list-group',[_c('b-list-group-item',[_c('strong',[_vm._v(\"Name\")]),_vm._v(\": \"+_vm._s(_vm.model.name)+\" \")]),_c('b-list-group-item',[_c('strong',[_vm._v(\"Email:\")]),_vm._v(\" \"+_vm._s(_vm.model.email)+\" \")]),_c('b-list-group-item',[_c('strong',[_vm._v(\"Mobile:\")]),_vm._v(\" \"+_vm._s(_vm.model.mobile)+\" \")]),_c('b-list-group-item',[_c('strong',[_vm._v(\"Address:\")]),_vm._v(\" \"+_vm._s(_vm.model.address)+\" \")]),_c('b-list-group-item',[_c('strong',[_vm._v(\"Unit of Measure:\")]),_vm._v(\" \"+_vm._s(_vm.units[_vm.model.unit_of_measure-1])+\" \")]),_c('b-list-group-item',[_c('strong',[_vm._v(\"Timezone:\")]),_vm._v(\" \"+_vm._s(_vm.timeZones.filter(function (x) { return x._key == _vm.model.timezone; }).map(function (x) { return x._val; } )[0])+\" \")]),_c('b-list-group-item',[_c('strong',[_vm._v(\"Role:\")]),_vm._v(\" \"+_vm._s(_vm.model.role_name)+\" \")]),_c('b-list-group-item',[_c('strong',[_vm._v(\"Entity:\")]),_vm._v(\" \"+_vm._s(_vm.model.company_name)+\" \")])],1)],1)],2)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content\">\r\n    <base-header class=\"pb-6\" type=\"users\">\r\n      <b-row align-v=\"center\" class=\"py-4\">\r\n        <b-col>\r\n          <h6 class=\"h2 text-white d-inline-block mb-0 mr-5\" v-show=\"model.name\">User - {{model.name}}</h6>\r\n          <div v-show='loading' class='mab_spinner light right'></div>\r\n        </b-col>\r\n      </b-row>\r\n    </base-header>\r\n\r\n    <div class='container-fluid mt--6'>\r\n        <div class='row'>\r\n        <div class='col-md-12'>\r\n\r\n          <card body-classes=\"px-0 py-0\">\r\n            <template slot=\"header\">\r\n              <h3 class=\"mb-0\">User Details</h3>\r\n            </template>\r\n            <div class=\"card-body\">\r\n\r\n              <b-list-group>\r\n                <b-list-group-item><strong>Name</strong>: {{ model.name }} </b-list-group-item>\r\n                <b-list-group-item><strong>Email:</strong> {{ model.email }} </b-list-group-item>\r\n                <b-list-group-item><strong>Mobile:</strong> {{ model.mobile }} </b-list-group-item>\r\n                <b-list-group-item><strong>Address:</strong> {{ model.address }} </b-list-group-item>\r\n                <b-list-group-item><strong>Unit of Measure:</strong> {{ units[model.unit_of_measure-1] }} </b-list-group-item>\r\n                <b-list-group-item><strong>Timezone:</strong> {{ timeZones.filter(x => x._key == model.timezone).map(x => x._val )[0] }} </b-list-group-item>\r\n                <b-list-group-item><strong>Role:</strong> {{ model.role_name }} </b-list-group-item>\r\n                <b-list-group-item><strong>Entity:</strong> {{ model.company_name }} </b-list-group-item>\r\n              </b-list-group>\r\n\r\n            </div>\r\n          </card>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Select, Option } from 'element-ui'\r\nimport mab_utils from '../../util/mab-utils';\r\n\r\nexport default {\r\n\r\n  mixins: [ mab_utils ],\r\n\r\n  components: {\r\n    [Select.name]: Select,\r\n    [Option.name]: Option\r\n  },\r\n  \r\n  data() {\r\n    return {\r\n      timeZones:[],\r\n      units: [\r\n        'Metric',\r\n        'Imperial'\r\n      ],\r\n      model: {\r\n        name: '',\r\n        email: '',\r\n        mobile: '',\r\n        address: '',\r\n        unit_of_measure: '',\r\n        timezone: '',\r\n        role_name: '',\r\n        company_name: ''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    loadUser() {\r\n      this.$axios.get(this.$store.state.baseUrl+\"/api/user/\" + this.$route.params.email)\r\n      .then(response => {\r\n        this.model = response.data.user;\r\n      }); \r\n    },\r\n    loadTimezones() {\r\n      this.$axios.get(this.$store.state.baseUrl+\"/api/getTimezones\")\r\n      .then(response => {\r\n        let _timezones = JSON.parse(JSON.stringify(response.data.timezones));\r\n        if(_timezones && _timezones.length){\r\n          for(var i = 0; i < _timezones.length; i++){\r\n            this.timeZones.push({\r\n              '_key': i.toString(), \r\n              '_val': _timezones[i]\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n      this.loadUser();\r\n      this.loadTimezones();\r\n  }\r\n};\r\n</script>\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManagementShow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManagementShow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserManagementShow.vue?vue&type=template&id=94ae08e2&\"\nimport script from \"./UserManagementShow.vue?vue&type=script&lang=js&\"\nexport * from \"./UserManagementShow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}